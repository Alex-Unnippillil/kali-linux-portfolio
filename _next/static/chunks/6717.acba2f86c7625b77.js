(()=>{let e=0,t=[],s={};self.onmessage=l=>{let a=l.data,m=Number(a.timestamp),r=!e||m-e>1e3;t=[...t,{...a,burstStart:r}].slice(-500);let i=m>1e12?Math.floor(m/6e4):Math.floor(m/60);s[i]=(s[i]||0)+1;let o=Object.entries(s).map(e=>{let[t,s]=e;return{minute:Number(t),count:s}}).sort((e,t)=>e.minute-t.minute);r&&self.postMessage({type:"burst",start:m}),e=m,self.postMessage({type:"timeline",timeline:t}),self.postMessage({type:"minutes",minutes:o})},_N_E={}})();