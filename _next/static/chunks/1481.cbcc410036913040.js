"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1481],{21481:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var a=r(37876),n=r(14232),l=r(72598),s=r(92629),o=r.n(s),i=r(70994),c=r(95220),u=r(90209),d=r(85687),p=r(74024);function g(e){return"number"==typeof e&&Number.isFinite(e)&&e>=60&&e<=140}function f(e){let{tempo:t,onTempoChange:r,min:n=60,max:l=140}=e;return(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"range",min:n,max:l,value:t,onChange:e=>{let t=Number(e.target.value);g(t)&&r(t)}}),(0,a.jsxs)("span",{children:[t," BPM"]})]})}let b={phase:"idle",sequence:[],inputIndex:0,score:0,roundId:0},h=(e,t,r)=>Math.min(Math.max(e,t),r);function m(e,t){var r;if(e)return Math.floor(4*o()("".concat(e,":").concat(t))());let a=new Uint8Array(1);return"function"==typeof(null==(r=globalThis.crypto)?void 0:r.getRandomValues)?globalThis.crypto.getRandomValues(a):a[0]=Math.floor(256*Math.random()),a[0]%4}function x(e,t){let r=60/e.tempoBpm;if("endless"===e.mode)return r;let a="speed"===e.mode?.03:.015,n=Math.pow(.9,Math.floor(t/5));return h((r-t*a)*n,.2,2)}let y=[{id:"green",color:{base:"bg-green-700",active:"bg-green-500"},colorblind:{base:"bg-emerald-700",active:"bg-emerald-500"},symbol:"▲",label:"green",pattern:"repeating-linear-gradient(45deg, rgba(255,255,255,0.2) 0, rgba(255,255,255,0.2) 10px, transparent 10px, transparent 20px)"},{id:"red",color:{base:"bg-red-700",active:"bg-red-500"},colorblind:{base:"bg-orange-700",active:"bg-orange-500"},symbol:"■",label:"red",pattern:"repeating-linear-gradient(-45deg, rgba(255,255,255,0.2) 0, rgba(255,255,255,0.2) 10px, transparent 10px, transparent 20px)"},{id:"yellow",color:{base:"bg-yellow-500",active:"bg-yellow-300"},colorblind:{base:"bg-purple-700",active:"bg-purple-500"},symbol:"●",label:"yellow",pattern:"repeating-linear-gradient(0deg, rgba(255,255,255,0.2) 0, rgba(255,255,255,0.2) 10px, transparent 10px, transparent 20px)"},{id:"blue",color:{base:"bg-blue-700",active:"bg-blue-500"},colorblind:{base:"bg-teal-700",active:"bg-teal-500"},symbol:"◆",label:"blue",pattern:"repeating-linear-gradient(90deg, rgba(255,255,255,0.2) 0, rgba(255,255,255,0.2) 10px, transparent 10px, transparent 20px)"}],v=e=>t=>"string"==typeof t&&e.includes(t),E=v(["classic","speed","colorblind","endless"]),k=v(["normal","strict"]),A=v(["relaxed","strict"]),w=e=>"".concat(e.mode,"-").concat(e.timing,"-").concat(e.playMode),C=(e,t)=>{switch(t.type){case"RESET":return b;case"START":return function(e,t){let r=m(t.seed,0);return{...b,phase:"playback",sequence:[r],roundId:e.roundId+1}}(e,t.options);case"PLAYBACK_DONE":return function(e){return"playback"!==e.phase?e:{...e,phase:"input",inputIndex:0,lastError:void 0}}(e);case"INPUT":return function(e,t,r){if("input"!==e.phase)return e;if(e.sequence[e.inputIndex]!==t){let t="strict"===r.playMode?"gameover":"strike";return{...e,phase:t,lastError:"wrong"}}let a=e.inputIndex+1;if(a===e.sequence.length){let t=m(r.seed,e.sequence.length);return{phase:"playback",sequence:[...e.sequence,t],inputIndex:0,score:e.score+1,lastError:void 0,roundId:e.roundId+1}}return{...e,inputIndex:a}}(e,t.pad,t.options);case"TIMEOUT":return function(e,t){if("input"!==e.phase)return e;let r="strict"===t.playMode?"gameover":"strike";return{...e,phase:r,lastError:"timeout"}}(e,t.options);case"REPLAY":return function(e){return"strike"!==e.phase?e:{...e,phase:"playback",inputIndex:0,lastError:void 0,roundId:e.roundId+1}}(e);case"REPLAY_SEQUENCE":return function(e){return"input"!==e.phase?e:{...e,phase:"playback",inputIndex:0,lastError:void 0,roundId:e.roundId+1}}(e);default:return e}},j=e=>"number"==typeof e&&Number.isFinite(e),M=e=>{if(!e||"object"!=typeof e)return{};let t={};for(let[r,a]of Object.entries(e))Array.isArray(a)&&(t[r]=a.filter(j));return t},N=()=>{var e;let t=(0,u.default)(),[r,s]=(0,n.useState)(y),[m,v]=(0,n.useReducer)(C,b),[N,T]=(0,n.useState)(null),[I,B]=(0,n.useState)(!1),[R,Q]=(0,c.default)("simon_mode","classic",E),[D,S]=(0,c.default)("simon:tempo",100,g),[L,U]=(0,c.default)("simon_seed",""),[G,P]=(0,c.default)("simon_play_mode","normal",k),[F,H]=(0,c.default)("simon_timing","relaxed",A),[K,Y]=(0,c.default)("simon_random_palette",!1),[q,Z]=(0,c.default)("simon_striped",!1),[O,V]=(0,c.default)("simon_thick_outline",!1),[J,X]=(0,c.default)("simon_audio_only",!1),[_,z]=(0,c.default)("simon_colorblind_palette",!1),[W,$]=(0,c.default)("simon_leaderboard",{}),[ee,et]=(0,n.useState)(!1),[er,ea]=(0,n.useState)(null),en=(0,n.useRef)(null),el=(0,n.useRef)([]),es=(0,n.useRef)(null),eo=(0,n.useRef)(m.roundId),ei=(0,n.useRef)(0);(0,n.useEffect)(()=>{eo.current=m.roundId},[m.roundId]);let ec=(0,n.useMemo)(()=>({mode:R,tempoBpm:D,playMode:G,timing:F,seed:"string"==typeof L?L.trim():""}),[R,D,G,F,L]),[eu,ed]=(0,n.useState)(ec),ep=(0,n.useMemo)(()=>w(eu),[eu]),eg=(0,n.useMemo)(()=>{let e=M(W)[ep];return Array.isArray(e)?e.slice(0,5):[]},[W,ep]),ef="idle"!==m.phase&&"gameover"!==m.phase,eb=!I&&"input"===m.phase,eh=!I&&"input"===m.phase&&m.sequence.length>0,em=(0,n.useCallback)(()=>{el.current.forEach(e=>clearTimeout(e)),el.current=[],es.current&&(clearTimeout(es.current),es.current=null)},[]);(0,n.useEffect)(()=>()=>em(),[em]),(0,n.useEffect)(()=>{if(I){em(),T(null);try{let t=(0,p.getAudioContext)();if(t&&"suspended"!==t.state){var e;null==(e=t.suspend)||e.call(t)}}catch(e){}}},[I,em]);let ex=(0,n.useCallback)(()=>{try{var e;let t=(0,p.getAudioContext)();return null==t||null==(e=t.resume)||e.call(t),ea(null),t}catch(e){return ea("Audio is blocked or unavailable. Visual-only playback will be used."),null}},[]),ey=(0,n.useCallback)((e,t)=>{T(e);let r=setTimeout(()=>T(null),1e3*Math.max(t,0));el.current.push(r)},[]),ev=(0,n.useCallback)((e,t)=>{if(!j(e)||e<=0)return;let r=w(t||eu);$(t=>{let a=M(t),n=Array.isArray(a[r])?[...a[r]]:[];return n.push(e),n.sort((e,t)=>t-e),{...a,[r]:n.slice(0,5)}})},[eu,$]),eE=(0,n.useCallback)(()=>{m.score>0&&"idle"!==m.phase&&"gameover"!==m.phase&&ev(m.score,eu)},[eu,m.phase,m.score,ev]);(0,n.useEffect)(()=>{let e;if(!I){if(("strike"===m.phase||"gameover"===m.phase)&&m.lastError&&(en.current||(en.current=new l.Howl({src:["data:audio/wav;base64,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"]})),en.current.play(),t||(0,d.vibrate)(100),et(!0),e=setTimeout(()=>et(!1),600),el.current.push(e)),"strike"===m.phase&&"normal"===eu.playMode){let e=setTimeout(()=>v({type:"REPLAY"}),600);el.current.push(e)}return()=>{e&&clearTimeout(e)}}},[eu.playMode,m.phase,m.lastError,I,t]);let ek=(0,n.useRef)(m.phase);(0,n.useEffect)(()=>{"gameover"!==ek.current&&"gameover"===m.phase&&ev(m.score,eu),ek.current=m.phase},[eu,m.phase,m.score,ev]),(0,n.useEffect)(()=>{if(I||"playback"!==m.phase||0===m.sequence.length)return;em(),ea(null);let e=x(eu,m.sequence.length),t=ex();if(t){let r=t.currentTime+.1,a=(0,p.createToneSchedule)(m.sequence.length,r,e,.97),n=e,l=e;a.forEach((e,r)=>{let a=m.sequence[r],s=n;l=s;try{(0,p.playColorTone)(a,e,s)}catch(e){ea("Audio playback failed. Visual-only playback will be used.")}let o=setTimeout(()=>{eo.current===m.roundId&&ey(a,s)},Math.max((e-t.currentTime)*1e3,0));el.current.push(o),n*=.97});let s=setTimeout(()=>{eo.current===m.roundId&&v({type:"PLAYBACK_DONE"})},Math.max((a[a.length-1]-t.currentTime+Math.max(l,0))*1e3+80,0));el.current.push(s);return}let r=e,a=120;for(let e=0;e<m.sequence.length;e+=1){let t=m.sequence[e],n=r,l=setTimeout(()=>{eo.current===m.roundId&&ey(t,n)},a);el.current.push(l),a+=1e3*Math.max(n,0),r*=.97}let n=setTimeout(()=>{eo.current===m.roundId&&v({type:"PLAYBACK_DONE"})},a+80);el.current.push(n)},[eu,em,ex,ey,m.phase,m.roundId,m.sequence,I]),(0,n.useEffect)(()=>{if(I||"input"!==m.phase){es.current&&(clearTimeout(es.current),es.current=null);return}let e=function(e,t){return"strict"!==e.timing?null:h(3*x(e,t)*1e3,900,4500)}(eu,m.sequence.length);if(!e)return;es.current&&clearTimeout(es.current);let t=m.roundId;es.current=setTimeout(()=>{eo.current===t&&v({type:"TIMEOUT",options:eu})},e)},[eu,m.phase,m.inputIndex,m.roundId,m.sequence.length,I]);let eA=(0,n.useCallback)(e=>{if(!eb)return;let t=x(eu,m.sequence.length);ey(e,t);let r=ex();if(r)try{let a=r.currentTime+.001;(0,p.playColorTone)(e,a,t)}catch(e){ea("Audio playback failed. Visual-only playback will be used.")}v({type:"INPUT",pad:e,options:eu})},[eu,eb,ex,ey,m.sequence.length]),ew=(0,n.useCallback)(e=>t=>{t.preventDefault(),ei.current=Date.now(),eA(e)},[eA]),eC=(0,n.useCallback)(e=>()=>{Date.now()-ei.current<300||eA(e)},[eA]),ej=(0,n.useCallback)(e=>t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),eA(e))},[eA]),eM=(0,n.useCallback)(()=>{eE(),em(),T(null),ea(null),ed(ec),s(K?(e=>{let t=o()(e||void 0),r=[...y];for(let e=r.length-1;e>0;e-=1){let a=Math.floor(t()*(e+1));[r[e],r[a]]=[r[a],r[e]]}return r})(ec.seed):y),ex(),v({type:"START",options:ec})},[em,eE,ex,ec,K]),eN=(0,n.useCallback)(()=>{eE(),em(),T(null),ea(null),v({type:"RESET"}),ed(ec),s(y)},[em,eE,ec]),eT=(0,n.useCallback)(()=>{eh&&(em(),T(null),v({type:"REPLAY_SEQUENCE"}))},[eh,em]);(0,n.useEffect)(()=>{let e={1:0,2:1,3:2,4:3,q:0,w:1,a:2,s:3},t=t=>{if(t.repeat||I||"undefined"!=typeof document&&document.querySelector('[role="dialog"][aria-modal="true"]')||(e=>{var t;if(!e||!(e instanceof HTMLElement))return!1;let r=null==(t=e.tagName)?void 0:t.toLowerCase();return!!r&&("input"===r||"textarea"===r||"select"===r||e.isContentEditable)})(t.target))return;let r=(t.key||"").toLowerCase();if("n"===r){t.preventDefault(),eM();return}if("r"===r){t.preventDefault(),eN();return}let a=e[r];"number"==typeof a&&(t.preventDefault(),eA(a))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[eN,eM,I,eA]);let eI=(0,n.useCallback)((e,r)=>{let a=J||"colorblind"===eu.mode?{base:"bg-gray-700",active:"bg-gray-500"}:_?e.colorblind:e.color,n=N===r||ee,l=O?"ring-8":"ring-4";return"relative h-28 w-28 sm:h-32 sm:w-32 ".concat(0===r?"rounded-tl-full":1===r?"rounded-tr-full":2===r?"rounded-bl-full":"rounded-br-full"," flex items-center justify-center text-3xl select-none ").concat(l," ring-offset-2 ring-offset-gray-950 transition-shadow shadow-inner disabled:opacity-60 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/80 focus-visible:ring-offset-2 focus-visible:ring-offset-gray-950 ").concat(n?"".concat(a.active," ring-white"):"".concat(a.base," ring-transparent")," before:content-[''] before:absolute before:inset-0 before:rounded-[inherit] before:scale-110 before:opacity-0 before:transition before:duration-200 before:blur-lg before:bg-white ").concat(n?"before:opacity-50":""," ").concat(ee&&!t?"animate-pulse":"")},[eu.mode,N,J,_,ee,t,O]),eB=(0,n.useMemo)(()=>I?"Paused":"idle"===m.phase?"Press Start":"playback"===m.phase?"Listen...":"input"===m.phase?"Your turn":"strike"===m.phase?"timeout"===m.lastError?"Time up! Try again.":"Wrong pad! Try again.":"gameover"===m.phase?"timeout"===m.lastError?"Time up! Game over.":"Wrong pad! Game over.":"",[m.lastError,m.phase,I]),eR=(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("fieldset",{className:"space-y-3",disabled:ef,children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsx)("label",{className:"text-sm",children:"Mode"}),(0,a.jsxs)("select",{className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded",value:R,onChange:e=>Q(e.target.value),children:[(0,a.jsx)("option",{value:"classic",children:"Classic"}),(0,a.jsx)("option",{value:"speed",children:"Speed Up"}),(0,a.jsx)("option",{value:"colorblind",children:"Colorblind"}),(0,a.jsx)("option",{value:"endless",children:"Endless"})]}),(0,a.jsx)("div",{className:ef?"opacity-60 pointer-events-none":"",children:(0,a.jsx)(f,{tempo:D,onTempoChange:S})}),(0,a.jsx)("input",{className:"px-2 py-1 w-32 bg-gray-700 hover:bg-gray-600 rounded",placeholder:"Seed",value:L,onChange:e=>U(e.target.value)}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:K,onChange:e=>Y(e.target.checked)}),"Random palette"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsx)("div",{className:"flex gap-2",children:["normal","strict"].map(e=>(0,a.jsx)("button",{onClick:()=>P(e),className:"px-2 py-1 rounded-full border ".concat(G===e?"bg-gray-600 border-white":"bg-gray-700 border-gray-500 hover:bg-gray-600"),type:"button",children:"strict"===e?"Strict":"Normal"},e))}),(0,a.jsxs)("select",{className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded",value:F,onChange:e=>H(e.target.value),children:[(0,a.jsx)("option",{value:"relaxed",children:"Relaxed timing"}),(0,a.jsx)("option",{value:"strict",children:"Strict timing"})]}),(0,a.jsx)("span",{className:"text-xs text-white/70",children:"Changes apply next Start."})]})]}),(0,a.jsxs)("fieldset",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:q,onChange:e=>Z(e.target.checked)}),"Stripes"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:O,onChange:e=>V(e.target.checked)}),"Thick outline"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:_,onChange:e=>z(e.target.checked),disabled:J||"colorblind"===eu.mode}),"Colorblind palette"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:J,onChange:e=>X(e.target.checked)}),"Audio-only visuals"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)("button",{type:"button",className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded",onClick:()=>$({}),children:"Clear all scores"}),(0,a.jsx)("button",{type:"button",className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded",onClick:()=>$(e=>{let t={...M(e)};return delete t[ep],t}),children:"Clear this mode"})]})]}),(0,a.jsxs)("div",{className:"text-xs text-white/70",children:["Current run: ",(0,a.jsx)("span",{className:"text-white",children:ep})]})]});return(0,a.jsx)(i.default,{gameId:"simon",onRestart:eN,onPauseChange:B,stage:m.sequence.length,score:m.score,highScore:null!=(e=eg[0])?e:0,settingsPanel:eR,children:(0,a.jsxs)("div",{className:ee?"buzz":"",children:[(0,a.jsx)("div",{className:"mx-auto w-fit",children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-[6px] p-2 rounded-full bg-slate-950/30 border border-slate-700/70 shadow-inner",children:r.map((e,t)=>{let r="colorblind"===eu.mode||J,n="colorblind"===eu.mode?e.label.toUpperCase():String(t+1);return(0,a.jsx)("button",{className:eI(e,t),style:q&&!J?{backgroundImage:e.pattern}:void 0,onPointerDown:ew(t),onClick:eC(t),onKeyDown:ej(t),"aria-label":"".concat(e.label," pad"),"aria-keyshortcuts":0===t?"1 Q":1===t?"2 W":2===t?"3 A":"4 S",disabled:!eb,children:r?(0,a.jsx)("span",{className:"font-semibold tracking-wide drop-shadow-sm",children:n}):null},e.id)})})}),(0,a.jsxs)("div",{className:"mt-4 flex flex-col items-center gap-3 text-center",children:[(0,a.jsx)("div",{className:"text-sm text-slate-200/90","aria-live":"polite",role:"status",children:eB}),er?(0,a.jsx)("div",{className:"text-xs text-rose-200 bg-rose-950/30 border border-rose-700/40 rounded px-2 py-1",children:er}):null,(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[(0,a.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded",onClick:eM,children:"idle"===m.phase?"Start":"New game"}),(0,a.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-60 disabled:cursor-not-allowed",onClick:eT,disabled:!eh,children:"Replay"})]}),(0,a.jsx)("div",{className:"text-xs text-slate-300/80",children:"Keyboard: 1-4 or Q-W-A-S. N starts a new game. R resets."})]}),(0,a.jsxs)("div",{className:"mt-6 text-center",children:[(0,a.jsx)("div",{className:"mb-2 text-sm text-white/80",children:"Leaderboard (this mode)"}),eg.length?(0,a.jsx)("ol",{className:"list-decimal list-inside text-sm",children:eg.map((e,t)=>(0,a.jsx)("li",{children:e},"".concat(e,"-").concat(t)))}):(0,a.jsx)("div",{className:"text-sm text-white/60",children:"No scores yet."})]})]})})}},85687:(e,t,r)=>{r.d(t,{patterns:()=>l,supportsVibration:()=>a,vibrate:()=>n});let a=()=>"undefined"!=typeof navigator&&"function"==typeof navigator.vibrate,n=e=>{if("false"===window.localStorage.getItem("haptics"))return;let t=Array.isArray(e)?e.reduce((e,t)=>e+(t>0?t:0),0):e;try{a()&&navigator.vibrate(e);if("undefined"!=typeof navigator&&"getGamepads"in navigator&&Array.from(navigator.getGamepads?navigator.getGamepads():[]).some(e=>e&&e.vibrationActuator&&"function"==typeof e.vibrationActuator.playEffect))try{for(let e of navigator.getGamepads())e&&e.vibrationActuator&&e.vibrationActuator.playEffect("dual-rumble",{duration:t,strongMagnitude:1,weakMagnitude:1})}catch(e){}}catch(e){}},l={score:[20],danger:[40,80,40],gameOver:[100,30,100]}}}]);