"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3607],{3607:(e,r,t)=>{t.r(r),t.d(r,{default:()=>j});var o=t(37876),s=t(49096),l=t.n(s),a=t(14232),n=t(12227),c=t(95220),i=t(74273),d=t(42951),u=t(44945);let x=e=>(0,o.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,o.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,o.jsx)("polyline",{points:"1 20 1 14 7 14"}),(0,o.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.36-3.36L23 10M1 14l5.63 4.36A9 9 0 0 0 20.49 15"})]}),f=e=>(0,o.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,o.jsx)("polyline",{points:"16 6 12 2 8 6"}),(0,o.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"15"}),(0,o.jsx)("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"})]}),b=e=>(0,o.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,o.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,o.jsx)("path",{d:"M9 12l2 2 4-4"})]}),m="inline-flex h-9 w-9 items-center justify-center rounded-full text-[var(--color-text)] transition-colors hover:bg-[var(--color-muted)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[var(--color-accent)]",p="inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[var(--color-accent)]",v="inline-flex items-center justify-center rounded-full px-3 py-1.5 text-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[var(--color-accent)]";function j(){let{accent:e}=(0,i.useSettings)(),[r,t]=(0,c.default)("x-profile-presets",()=>["AUnnippillil"]),[s,j]=(0,c.default)("x-list-presets",()=>[]),[g,h]=(0,c.default)("x-timeline-type","profile"),[y,k]=(0,c.default)("x-profile-feed",()=>r[0]||""),[N,w]=(0,c.default)("x-list-feed",()=>s[0]||""),C="profile"===g?r:s,S="profile"===g?t:j,E="profile"===g?y:N,T="profile"===g?k:w,[A,L]=(0,a.useState)(""),[D,_]=(0,a.useState)(""),[M,R]=(0,a.useState)(""),[O,P]=(0,a.useState)(!1),[U,z]=(0,a.useState)(!1),[F,I]=(0,a.useState)(!1),[q,B]=(0,a.useState)(!1),[W,X]=(0,a.useState)("light"),[H,K]=(0,a.useState)(!1),Y=(0,a.useRef)(!1),G="undefined"!=typeof document&&document.documentElement.classList.contains("dark")?"dark":"light",{theme:J,setTheme:Q,toggleTheme:V}=(0,d.useEmbedTheme)(G),Z=(0,a.useRef)(null),$=(0,a.useRef)({}),[ee,er]=(0,c.default)("x-scheduled-tweets",[]),[et,eo]=(0,a.useState)(!0),es=(0,a.useRef)(!0);(0,a.useEffect)(()=>()=>{es.current=!1},[]),(0,a.useEffect)(()=>{Y.current=H},[H]),(0,a.useEffect)(()=>{let e=document.documentElement,r=()=>{let r=e.classList.contains("dark")?"dark":"light";X(r),Y.current||Q(r)};r();let t=new MutationObserver(r);return t.observe(e,{attributes:!0,attributeFilter:["class"]}),()=>t.disconnect()},[Q]),(0,a.useEffect)(()=>{H||Q(e=>e===W?e:W)},[H,Q,W]),(0,a.useEffect)(()=>{H&&J===W&&K(!1)},[H,W,J]),(0,a.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().catch(()=>{});let e=$.current;return()=>{Object.values(e).forEach(clearTimeout)}},[]),(0,a.useEffect)(()=>{ee.forEach(e=>{if(!$.current[e.id]){let r=e.time-Date.now();r>0&&($.current[e.id]=window.setTimeout(()=>{"Notification"in window&&"granted"===Notification.permission&&new Notification("Tweet reminder",{body:e.text}),er(r=>r.filter(r=>r.id!==e.id)),delete $.current[e.id]},r))}}),Object.keys($.current).forEach(e=>{ee.some(r=>r.id===e)||(clearTimeout($.current[e]),delete $.current[e])})},[ee,er]);let el=(0,a.useCallback)(async()=>{if(E&&Z.current){z(!0),B(!1),I(!1);try{let r=await (0,u.loadEmbedScript)();if(!r){if(!es.current)return;B(!0);return}if(!es.current||!Z.current)return;Z.current.innerHTML="";let t="profile"===g?{sourceType:"profile",screenName:E}:E.includes("/")?{sourceType:"list",ownerScreenName:E.split("/")[0],slug:E.split("/")[1]}:{sourceType:"list",id:E};if(await r.createTimeline(t,Z.current,{chrome:"noheader noborders",theme:J,linkColor:e}),!es.current)return;I(!0)}catch(e){if(console.error("Failed to load X timeline",e),!es.current)return;B(!0)}finally{es.current&&z(!1)}}},[e,E,J,g]);(0,a.useEffect)(()=>{O&&el()},[O,el]);let ea=e=>{er(ee.filter(r=>r.id!==e))};return(0,o.jsxs)(o.Fragment,{children:[et&&(0,o.jsx)("div",{style:{backgroundColor:"color-mix(in srgb, var(--color-inverse) 50%, transparent)"},className:"jsx-c3b3f78173e00a3d fixed inset-0 z-50 flex items-center justify-center",children:(0,o.jsxs)("div",{style:{backgroundColor:"var(--color-surface)"},className:"jsx-c3b3f78173e00a3d p-4 rounded max-w-sm text-sm",children:[(0,o.jsx)("p",{className:"jsx-c3b3f78173e00a3d mb-2",children:"To use this app you need X API credentials: API key, API secret, access token and access token secret."}),(0,o.jsxs)("p",{className:"jsx-c3b3f78173e00a3d mb-4",children:["You can explore with a demo account"," ",(0,o.jsx)("a",{href:"https://x.com/AUnnippillil",target:"_blank",rel:"noopener noreferrer",className:"jsx-c3b3f78173e00a3d underline",children:"@AUnnippillil"}),"."]}),(0,o.jsx)("button",{type:"button",onClick:()=>eo(!1),style:{backgroundColor:e},className:"jsx-c3b3f78173e00a3d px-3 py-1 rounded text-[var(--color-text)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-accent)]",children:"Close"})]})}),(0,o.jsxs)("div",{className:"jsx-c3b3f78173e00a3d flex flex-col h-full",children:[(0,o.jsxs)("header",{className:"jsx-c3b3f78173e00a3d flex items-center justify-between px-3 py-2 border-b gap-2",children:[(0,o.jsx)("button",{type:"button","aria-label":"Refresh timeline",onClick:()=>{O&&el()},className:"jsx-c3b3f78173e00a3d "+(m||""),children:(0,o.jsx)(x,{className:"w-6 h-6"})}),(0,o.jsx)("div",{className:"jsx-c3b3f78173e00a3d flex-1 text-center text-sm font-semibold",children:"Timeline"}),(0,o.jsx)("button",{type:"button","aria-label":"Open on x.com",onClick:()=>window.open("https://x.com/".concat(E),"_blank"),className:"jsx-c3b3f78173e00a3d "+(m||""),children:(0,o.jsx)(f,{className:"w-6 h-6"})})]}),(0,o.jsxs)("div",{className:"jsx-c3b3f78173e00a3d flex-1 overflow-auto space-y-5 px-3 py-4",children:[(0,o.jsxs)("div",{style:{borderColor:"color-mix(in srgb, var(--color-muted) 35%, transparent)",backgroundColor:"color-mix(in srgb, var(--color-surface) 85%, transparent)"},className:"jsx-c3b3f78173e00a3d flex flex-wrap items-center gap-3 rounded-xl border px-4 py-3 text-xs uppercase tracking-wide text-[var(--color-muted)]",children:[(0,o.jsx)("span",{className:"jsx-c3b3f78173e00a3d font-semibold text-[var(--color-text)]",children:"Timeline theme"}),(0,o.jsx)("button",{type:"button",onClick:()=>{K(!0),V()},"aria-pressed":"dark"===J,style:{backgroundColor:e,color:"var(--color-text)"},className:"jsx-c3b3f78173e00a3d "+(p||""),children:"Switch to ".concat((0,d.getNextEmbedTheme)(J)," mode")}),H&&(0,o.jsx)("button",{type:"button",onClick:()=>{K(!1),Q(W)},style:{color:"var(--color-text)",borderColor:"color-mix(in srgb, var(--color-muted) 40%, transparent)"},className:"jsx-c3b3f78173e00a3d "+"".concat(v," border"),children:"Use system (".concat(W,")")})]}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),D.trim()&&M&&(er([...ee,{id:Date.now().toString(),text:n.default.sanitize(D.trim()),time:new Date(M).getTime()}]),_(""),R(""))},style:{borderColor:"color-mix(in srgb, var(--color-muted) 35%, transparent)",backgroundColor:"color-mix(in srgb, var(--color-surface) 85%, transparent)"},className:"jsx-c3b3f78173e00a3d space-y-3 rounded-xl border px-4 py-3",children:[(0,o.jsx)("textarea",{value:D,onChange:e=>_(e.target.value),placeholder:"Tweet text","aria-label":"Tweet text",className:"jsx-c3b3f78173e00a3d w-full rounded-xl border bg-transparent p-3 text-sm leading-6 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-accent)]"}),(0,o.jsxs)("div",{className:"jsx-c3b3f78173e00a3d flex flex-col gap-2 sm:flex-row sm:items-center",children:[(0,o.jsx)("input",{type:"datetime-local",value:M,onChange:e=>R(e.target.value),"aria-label":"Schedule time",className:"jsx-c3b3f78173e00a3d flex-1 rounded-xl border bg-transparent p-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-accent)]"}),(0,o.jsx)("button",{type:"submit",style:{backgroundColor:e,color:"var(--color-text)"},className:"jsx-c3b3f78173e00a3d "+(p||""),children:"Schedule"})]})]}),ee.length>0&&(0,o.jsx)("ul",{style:{borderColor:"color-mix(in srgb, var(--color-muted) 35%, transparent)",backgroundColor:"color-mix(in srgb, var(--color-surface) 85%, transparent)"},className:"jsx-c3b3f78173e00a3d space-y-3 rounded-xl border px-4 py-3",children:ee.map(e=>(0,o.jsx)("li",{className:"jsx-c3b3f78173e00a3d",children:(0,o.jsxs)("div",{tabIndex:0,"data-scheduled-item":!0,onKeyDown:r=>((e,r)=>{var t,o,s,l;if("Delete"===e.key)ea(r);else if("ArrowDown"===e.key){let r=null==(o=e.currentTarget.parentElement)||null==(t=o.nextElementSibling)?void 0:t.querySelector("[data-scheduled-item]");null==r||r.focus(),e.preventDefault()}else if("ArrowUp"===e.key){let r=null==(l=e.currentTarget.parentElement)||null==(s=l.previousElementSibling)?void 0:s.querySelector("[data-scheduled-item]");null==r||r.focus(),e.preventDefault()}})(r,e.id),style:{borderColor:"color-mix(in srgb, var(--color-muted) 40%, transparent)"},className:"jsx-c3b3f78173e00a3d flex items-start justify-between gap-3 rounded-xl border px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-accent)]",children:[(0,o.jsxs)("span",{className:"jsx-c3b3f78173e00a3d leading-6",children:[e.text," - ",new Date(e.time).toLocaleString()]}),(0,o.jsx)("button",{type:"button",onClick:()=>ea(e.id),className:"jsx-c3b3f78173e00a3d "+"".concat(v," ml-2 bg-[var(--color-muted)] text-[var(--color-text)]"),children:"\xd7"})]})},e.id))}),(0,o.jsxs)("div",{style:{borderColor:"color-mix(in srgb, var(--color-muted) 35%, transparent)",backgroundColor:"color-mix(in srgb, var(--color-surface) 85%, transparent)"},className:"jsx-c3b3f78173e00a3d flex flex-wrap gap-2 rounded-xl border px-4 py-3",children:[(0,o.jsx)("button",{type:"button",onClick:()=>h("profile"),style:"profile"===g?{backgroundColor:e}:void 0,className:"jsx-c3b3f78173e00a3d "+"".concat(p," ").concat("profile"===g?"text-[var(--color-text)]":"bg-[var(--color-muted)] text-[var(--color-text)]"),children:"Profile"}),(0,o.jsx)("button",{type:"button",onClick:()=>h("list"),style:"list"===g?{backgroundColor:e}:void 0,className:"jsx-c3b3f78173e00a3d "+"".concat(p," ").concat("list"===g?"text-[var(--color-text)]":"bg-[var(--color-muted)] text-[var(--color-text)]"),children:"List"})]}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault();let r=n.default.sanitize(A.trim());"profile"===g&&(r=r.replace("@","")),r&&(C.includes(r)||S([...C,r]),T(r)),L("")},style:{borderColor:"color-mix(in srgb, var(--color-muted) 35%, transparent)",backgroundColor:"color-mix(in srgb, var(--color-surface) 85%, transparent)"},className:"jsx-c3b3f78173e00a3d flex flex-col gap-2 rounded-xl border px-4 py-3 sm:flex-row",children:[(0,o.jsx)("input",{value:A,onChange:e=>L(e.target.value),placeholder:"profile"===g?"Add screen name":"Add list (owner/slug or id)","aria-label":"profile"===g?"Add screen name":"Add list (owner and slug or id)",className:"jsx-c3b3f78173e00a3d flex-1 rounded-xl border bg-transparent p-3 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-accent)]"}),(0,o.jsx)("button",{type:"submit",style:{backgroundColor:e,color:"var(--color-text)"},className:"jsx-c3b3f78173e00a3d "+(p||""),children:"Save"})]}),C.length>0&&(0,o.jsx)("div",{style:{borderColor:"color-mix(in srgb, var(--color-muted) 35%, transparent)",backgroundColor:"color-mix(in srgb, var(--color-surface) 85%, transparent)"},className:"jsx-c3b3f78173e00a3d flex flex-wrap gap-2 rounded-xl border px-4 py-3",children:C.map(r=>(0,o.jsx)("button",{type:"button",onClick:()=>{T(r)},style:E===r?{backgroundColor:e}:void 0,className:"jsx-c3b3f78173e00a3d "+"".concat(p," ").concat(E===r?"text-[var(--color-text)]":"bg-[var(--color-muted)] text-[var(--color-text)]"),children:"profile"===g?"@".concat(r):r},r))}),O?(0,o.jsxs)(o.Fragment,{children:[U&&!F&&!q&&(0,o.jsx)("ul",{"aria-hidden":"true",className:"jsx-c3b3f78173e00a3d tweet-feed space-y-3",children:Array.from({length:3}).map((e,r)=>(0,o.jsxs)("li",{style:{borderColor:"color-mix(in srgb, var(--color-muted) 40%, transparent)",backgroundColor:"color-mix(in srgb, var(--color-surface) 92%, transparent)"},className:"jsx-c3b3f78173e00a3d flex gap-3 rounded-2xl border px-4 py-3",children:[(0,o.jsxs)("div",{className:"jsx-c3b3f78173e00a3d relative",children:[(0,o.jsx)("div",{className:"jsx-c3b3f78173e00a3d h-12 w-12 rounded-full bg-[var(--color-muted)] animate-pulse sm:h-14 sm:w-14"}),(0,o.jsx)(b,{className:"absolute -bottom-1 -right-1 h-4 w-4 text-[var(--color-muted)]"})]}),(0,o.jsxs)("div",{className:"jsx-c3b3f78173e00a3d flex-1 space-y-2",children:[(0,o.jsx)("div",{className:"jsx-c3b3f78173e00a3d h-3 w-3/4 rounded bg-[var(--color-muted)] animate-pulse"}),(0,o.jsx)("div",{className:"jsx-c3b3f78173e00a3d h-3 w-1/2 rounded bg-[var(--color-muted)] animate-pulse"}),(0,o.jsx)("div",{className:"jsx-c3b3f78173e00a3d h-3 w-full rounded bg-[var(--color-muted)] animate-pulse"})]}),(0,o.jsx)(f,{className:"h-5 w-5 text-[var(--color-muted)]"})]},r))}),(0,o.jsx)("div",{ref:Z,className:"jsx-c3b3f78173e00a3d "+"tweet-feed ".concat(F?"block":"hidden")}),q&&(0,o.jsxs)("div",{className:"jsx-c3b3f78173e00a3d text-center space-y-2",children:[(0,o.jsx)("div",{className:"jsx-c3b3f78173e00a3d",children:"Timeline failed to load. X embeds may be blocked by your browser or an ad blocker."}),(0,o.jsxs)("div",{className:"jsx-c3b3f78173e00a3d flex justify-center gap-2",children:[(0,o.jsx)("button",{type:"button",onClick:()=>{if(!O)return void P(!0);el()},style:{backgroundColor:e,color:"var(--color-text)"},className:"jsx-c3b3f78173e00a3d "+(p||""),children:"Retry"}),(0,o.jsx)("a",{href:"https://x.com/".concat(E),target:"_blank",rel:"noopener noreferrer",style:{color:e},className:"jsx-c3b3f78173e00a3d underline",children:"Open on x.com"})]})]}),!U&&!F&&!q&&(0,o.jsx)("div",{className:"jsx-c3b3f78173e00a3d text-center text-[var(--color-muted)]",children:"Nothing to see"})]}):(0,o.jsx)("button",{type:"button",onClick:()=>{P(!0),el()},style:{backgroundColor:e,color:"var(--color-text)"},className:"jsx-c3b3f78173e00a3d "+"".concat(p," mx-auto"),children:"Load timeline"})]})]}),(0,o.jsx)(l(),{id:"c3b3f78173e00a3d",children:".tweet-feed.jsx-c3b3f78173e00a3d{max-inline-size:60ch;margin-inline:auto;width:100%}.tweet-feed.jsx-c3b3f78173e00a3d .twitter-timeline{margin-block:1.5rem;border-radius:1.25rem;overflow:hidden;border:1px solid color-mix(in srgb,var(--color-muted)35%,transparent);background-color:color-mix(in srgb,var(--color-surface)92%,transparent)}.tweet-feed.jsx-c3b3f78173e00a3d iframe{border:0}"})]})}}}]);