(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5298],{41234:()=>{},70453:(e,r,t)=>{"use strict";t.r(r),t.d(r,{findBestMove:()=>d,findHint:()=>p,scoreMoves:()=>c});var n=t(92629);t.n(n)()("",{state:!0});let l=e=>e.map(e=>[...e]),o=e=>e[0].map((r,t)=>e.map(e=>e[t])),f=e=>{let r=0,t=[];return{board:e.map((e,n)=>{let{row:l,score:o,merges:f}=(e=>{let r=e.filter(e=>0!==e),t=0,n=[],l=[];for(let e=0;e<r.length;e++)if(r[e]===r[e+1]){let o=2*r[e];l.push(o),t+=o,n.push(l.length-1),e++}else l.push(r[e]);for(;l.length<4;)l.push(0);return{row:l,score:t,merges:n}})(e);return r+=o,f.forEach(e=>t.push([n,e])),l}),score:r,merges:t}},u=e=>{let{board:r,score:t,merges:n}=f(e.map(e=>[...e].reverse()));return{board:r.map(e=>e.reverse()),score:t,merges:n.map(e=>{let[r,t]=e;return[r,3-t]})}},a=(e,r)=>e.every((e,t)=>e.every((e,n)=>e===r[t][n])),h=[{dir:"ArrowLeft",fn:f},{dir:"ArrowRight",fn:u},{dir:"ArrowUp",fn:e=>{let{board:r,score:t,merges:n}=f(o(e));return{board:o(r),score:t,merges:n.map(e=>{let[r,t]=e;return[t,r]})}}},{dir:"ArrowDown",fn:e=>{let{board:r,score:t,merges:n}=u(o(e));return{board:o(r),score:t,merges:n.map(e=>{let[r,t]=e;return[t,r]})}}}],s=e=>{let r=0,t=0,n=0;return e.forEach(e=>e.forEach(e=>{r+=e,0===e&&(t+=1),e>n&&(n=e)})),r+10*t+ +n},i=(e,r,t)=>{if(0===r)return s(e);if(t){let t=-1/0;for(let{fn:n}of h){let{board:o}=n(l(e));if(a(e,o))continue;let f=i(o,r-1,!1);f>t&&(t=f)}return t===-1/0?s(e):t}let n=(e=>{let r=[];return e.forEach((e,t)=>e.forEach((e,n)=>{0===e&&r.push([t,n])})),r})(e);if(0===n.length)return s(e);let o=0,f=.9/n.length,u=.1/n.length;for(let[t,l]of n)e[t][l]=2,o+=f*i(e,r-1,!0),e[t][l]=4,o+=u*i(e,r-1,!0),e[t][l]=0;return o},d=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=null,n=-1/0;for(let{dir:o,fn:f}of h){let{board:u}=f(l(e));if(a(e,u))continue;let h=i(u,r-1,!1);h>n&&(n=h,t=o)}return t},p=d,c=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t={};for(let{dir:n,fn:o}of h){let{board:f}=o(l(e));a(e,f)||(t[n]=i(f,r-1,!1))}return t}}}]);