"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4499],{24499:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m,displayScreenRecorder:()=>g});var i=r(37876),l=r(14232),s=r(4831),n=r(28913);let o=()=>(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("circle",{cx:"12",cy:"12",r:"8",fill:"currentColor"})}),a=()=>(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2",fill:"currentColor"})}),c=()=>(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{x:"7",y:"6",width:"4",height:"12",rx:"1",fill:"currentColor"}),(0,i.jsx)("rect",{x:"13",y:"6",width:"4",height:"12",rx:"1",fill:"currentColor"})]}),d=()=>(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M8 5V19L19 12L8 5Z",fill:"currentColor"})}),u=()=>(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,i.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,i.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),h=e=>{let{enabled:t}=e;return(0,i.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t?"text-green-400":"text-gray-400",children:[(0,i.jsx)("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),(0,i.jsx)("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),(0,i.jsx)("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),(0,i.jsx)("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]})};function x(){let[e,t]=(0,l.useState)("idle"),[r,x]=(0,l.useState)(null),[m,g]=(0,l.useState)(0),[p,w]=(0,l.useState)(!1),[f,b]=(0,l.useState)(null),[v,y]=(0,l.useState)("video/webm"),j=(0,l.useRef)(null),N=(0,l.useRef)([]),k=(0,l.useRef)(null),S=(0,l.useRef)(null);(0,l.useEffect)(()=>{for(let e of["video/mp4","video/webm;codecs=h264","video/webm;codecs=vp9,opus","video/webm"])if(MediaRecorder.isTypeSupported(e)){y(e);break}},[]),(0,l.useEffect)(()=>("recording"===e?S.current=setInterval(()=>{g(e=>e+1)},1e3):S.current&&clearInterval(S.current),()=>{S.current&&clearInterval(S.current)}),[e]);let C=async()=>{b(null);try{let e=[...(await navigator.mediaDevices.getDisplayMedia({video:{mediaSource:"screen"},audio:!0})).getTracks()];if(p)try{let t=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}});e.push(...t.getAudioTracks())}catch(e){console.warn("Could not get microphone stream:",e),b("Microphone access denied. Recording system audio only.")}let r=new MediaStream(e);k.current=r,r.getVideoTracks()[0].onended=()=>{M()};let i=new MediaRecorder(r,{mimeType:v,videoBitsPerSecond:5e6});N.current=[],i.ondataavailable=e=>{e.data.size>0&&N.current.push(e.data)},i.onstop=()=>{let e=new Blob(N.current,{type:v}),i=URL.createObjectURL(e);x(i),r.getTracks().forEach(e=>e.stop()),t("finished")},i.start(1e3),j.current=i,t("recording")}catch(e){console.error("Error starting recording:",e),t("idle"),e instanceof DOMException&&"NotAllowedError"===e.name||b("Failed to start recording. Please try again.")}},M=()=>{j.current&&"inactive"!==j.current.state&&j.current.stop()},R=async()=>{if(!r||0===N.current.length)return;let e=new Blob(N.current,{type:v}),t=v.includes("mp4"),i=t?"mp4":"webm",l="screen-recording-".concat(new Date().toISOString().slice(0,10),".").concat(i);try{if("showSaveFilePicker"in window){let r=await window.showSaveFilePicker({suggestedName:l,types:[{description:t?"MP4 Video":"WebM Video",accept:{[v.split(";")[0]]:["."+i]}}]}),s=await r.createWritable();await s.write(e),await s.close()}else throw Error("File System Access API not supported")}catch(t){if("AbortError"===t.name)return void console.log("Save cancelled by user.");console.warn("Save failed with File System Access API, falling back to download link.",t);let e=document.createElement("a");e.style.display="none",e.href=r,e.download=l,document.body.appendChild(e),e.click(),setTimeout(()=>{document.body.removeChild(e)},100)}};return(0,i.jsxs)("div",{className:"h-full w-full flex flex-col font-sans bg-gray-900 text-white overflow-hidden relative select-none",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-black z-0"}),(0,i.jsx)("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 50% 50%, rgba(200, 50, 200, 0.1) 0%, transparent 50%)"}}),(0,i.jsxs)("div",{className:"relative z-10 w-full p-4 flex justify-between items-center border-b border-white/10 bg-white/5 backdrop-blur-md",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500 animate-pulse hidden",style:{display:"recording"===e?"block":"none"}}),(0,i.jsx)("h1",{className:"text-lg font-medium tracking-wide",children:"Screen Recorder"})]}),(0,i.jsx)("div",{className:"flex items-center gap-4 text-sm font-mono text-gray-300 bg-black/40 px-3 py-1 rounded-full border border-white/10",children:(e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))})(m)})]}),(0,i.jsx)("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-8 gap-8",children:(0,i.jsxs)(s.AnimatePresence,{mode:"wait",children:["idle"===e&&(0,i.jsxs)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center gap-6",children:[(0,i.jsxs)("div",{className:"text-center space-y-2",children:[(0,i.jsx)("h2",{className:"text-2xl font-light text-gray-200",children:"Ready to Capture"}),(0,i.jsx)("p",{className:"text-gray-400 text-sm max-w-xs",children:"Record your screen, windows, or specific tabs with system audio."}),(0,i.jsxs)("p",{className:"text-gray-500 text-xs mt-2 font-mono",children:["Format: ",v.includes("mp4")?"MP4":"WebM"]})]}),(0,i.jsx)("div",{className:"flex items-center gap-4 bg-black/30 p-2 rounded-2xl border border-white/10",children:(0,i.jsxs)("button",{onClick:()=>w(!p),className:"flex items-center gap-2 px-4 py-2 rounded-xl text-sm transition-all duration-200 ".concat(p?"bg-white/10 text-green-400":"hover:bg-white/5 text-gray-400"),children:[(0,i.jsx)(h,{enabled:p}),p?"Microphone On":"Microphone Off"]})}),(0,i.jsxs)(n.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:"group relative flex items-center gap-3 px-8 py-4 bg-red-600 hover:bg-red-500 text-white rounded-full font-medium shadow-lg shadow-red-900/20 transition-all",children:[(0,i.jsx)(o,{}),(0,i.jsx)("span",{children:"Start Recording"}),(0,i.jsx)("div",{className:"absolute inset-0 rounded-full border border-white/20"})]}),f&&(0,i.jsx)("p",{className:"text-red-400 text-xs mt-2",children:f})]}),("recording"===e||"paused"===e)&&(0,i.jsxs)(n.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex flex-col items-center gap-8",children:[(0,i.jsxs)("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[(0,i.jsx)(n.motion.div,{animate:"recording"===e?{scale:[1,1.2,1],opacity:[.3,.1,.3]}:{},transition:{repeat:1/0,duration:2},className:"absolute inset-0 bg-red-500 rounded-full blur-xl"}),(0,i.jsxs)("div",{className:"relative z-10 w-32 h-32 bg-gradient-to-br from-gray-800 to-black rounded-full border border-white/10 flex items-center justify-center shadow-2xl",children:[(0,i.jsx)("div",{className:"w-4 h-4 rounded-sm ".concat("recording"===e?"bg-red-500":"bg-yellow-500")}),(0,i.jsx)("span",{className:"absolute -bottom-8 text-sm text-gray-400 tracking-widest font-mono",children:"recording"===e?"RECORDING":"PAUSED"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:["recording"===e?(0,i.jsx)(n.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{j.current&&"recording"===j.current.state&&(j.current.pause(),t("paused"))},className:"p-4 bg-yellow-600/20 text-yellow-500 hover:bg-yellow-600/30 rounded-full border border-yellow-500/30 transition-colors",title:"Pause",children:(0,i.jsx)(c,{})}):(0,i.jsx)(n.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{j.current&&"paused"===j.current.state&&(j.current.resume(),t("recording"))},className:"p-4 bg-green-600/20 text-green-500 hover:bg-green-600/30 rounded-full border border-green-500/30 transition-colors",title:"Resume",children:(0,i.jsx)(d,{})}),(0,i.jsx)(n.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:M,className:"p-6 bg-red-600/20 text-red-500 hover:bg-red-600/30 rounded-full border border-red-500/30 transition-colors",title:"Stop",children:(0,i.jsx)(a,{})})]})]}),"finished"===e&&r&&(0,i.jsxs)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full h-full flex flex-col items-center gap-4 overflow-hidden",children:[(0,i.jsx)("div",{className:"flex-1 w-full min-h-0 bg-black rounded-xl overflow-hidden border border-white/20 shadow-2xl flex items-center justify-center",children:(0,i.jsx)("video",{src:r,controls:!0,playsInline:!0,className:"w-full h-full object-contain"})}),(0,i.jsxs)("div",{className:"flex items-center gap-4 py-2 shrink-0",children:[(0,i.jsx)(n.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{x(null),g(0),t("idle"),b(null),N.current=[]},className:"px-6 py-3 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition-colors",children:"Discard"}),(0,i.jsxs)(n.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:R,className:"flex items-center gap-2 px-8 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-medium shadow-lg shadow-blue-900/20",children:[(0,i.jsx)(u,{}),"Save as ",v.includes("mp4")?"MP4":"WebM"]})]})]})]})})]})}let m=x,g=()=>(0,i.jsx)(x,{})}}]);