"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7921],{17921:(e,a,r)=>{r.r(a),r.d(a,{default:()=>b});var t=r(37876),l=r(14232),s=r(95220);let i=["basic","scientific","programmer"];function o(e){let{mode:a,onChange:r}=e,[o,n]=(0,s.default)("calc-mode",()=>"basic",e=>"string"==typeof e&&i.includes(e)),c=null!=a?a:o;return(0,l.useEffect)(()=>{a&&a!==o&&n(a)},[a,o,n]),(0,l.useEffect)(()=>{null==r||r(c),document.dispatchEvent(new CustomEvent("calc:mode",{detail:c}))},[c,r]),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{htmlFor:"mode-select",className:"sr-only",children:"Calculator mode"}),(0,t.jsx)("select",{id:"mode-select",value:c,onChange:e=>{let a=e.target.value;n(a),null==r||r(a)},className:"appearance-none rounded-xl border border-white/10 bg-[#2a2d35] py-2 pl-3 pr-10 text-sm font-semibold capitalize text-slate-100 shadow-inner focus:border-[#f97316] focus:outline-none focus:ring-2 focus:ring-[#f97316]",children:i.map(e=>(0,t.jsx)("option",{value:e,className:"bg-[#1f212a] capitalize",children:e},e))}),(0,t.jsx)("svg",{className:"pointer-events-none absolute right-3 top-1/2 h-3 w-3 -translate-y-1/2 text-slate-400",viewBox:"0 0 12 8",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M2 2l4 4 4-4"})})]})}function n(){let[e,a]=(0,s.default)("calc-vars",()=>({}),e=>"object"==typeof e&&null!==e&&!Array.isArray(e)&&Object.values(e).every(e=>"string"==typeof e)),[i,o]=(0,l.useState)(""),[n,c]=(0,l.useState)(null);(0,l.useEffect)(()=>{Promise.resolve().then(r.t.bind(r,42325,23)).then(e=>{var a;let r=e.evaluate||(null==(a=e.default)?void 0:a.evaluate);"function"==typeof r&&c(()=>r)})},[]);let d=e=>{let r=document.getElementById("display");if(!r||!e)return;let t=r.value;if(n){let e=n(t);if(null===e||"Error"===e)return;t=e}a(a=>({...a,[e]:t}))};return(0,t.jsxs)("div",{className:"memory-slots space-y-3 rounded-2xl border border-white/5 bg-[#15171d] p-4 text-sm text-slate-200 shadow-inner",children:[(0,t.jsxs)("div",{className:"memory-form flex items-center gap-2",children:[(0,t.jsx)("input",{value:i,onChange:e=>o(e.target.value),placeholder:"var","aria-label":"variable name",className:"w-20 flex-1 rounded-lg border border-white/10 bg-[#0f1117] px-3 py-2 text-sm font-semibold uppercase tracking-wide text-slate-100 placeholder:text-slate-500 focus:border-[#f97316] focus:outline-none focus:ring-2 focus:ring-[#f97316]"}),(0,t.jsx)("button",{type:"button",onClick:()=>{d(i.trim()),o("")},className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:bg-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#f97316] focus-visible:ring-offset-2 focus-visible:ring-offset-[#15171d]",children:"Store"})]}),(0,t.jsxs)("div",{className:"memory-list max-h-44 space-y-2 overflow-y-auto pr-1",children:[Object.entries(e).map(r=>{let[l,s]=r;return(0,t.jsxs)("div",{className:"memory-item flex items-center gap-2 rounded-xl bg-white/5 px-3 py-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>(e=>{var a,r;let t=document.getElementById("display");if(!t)return;let l=null!=(a=t.selectionStart)?a:t.value.length,s=null!=(r=t.selectionEnd)?r:t.value.length;t.value=t.value.slice(0,l)+e+t.value.slice(s),t.selectionStart=t.selectionEnd=l+e.length,t.dispatchEvent(new Event("input",{bubbles:!0})),t.focus()})(l),className:"rounded-lg bg-[#2a2d35] px-2 py-1 text-xs font-semibold uppercase tracking-wide text-[#f97316]",children:l}),(0,t.jsx)("span",{className:"value flex-1 truncate font-mono text-slate-100",children:s}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{type:"button",onClick:()=>d(l),"aria-label":"store ".concat(l),className:"rounded-full bg-[#2a2d35] px-2 py-1 text-xs font-semibold text-slate-200 transition hover:bg-[#343842]",children:"↲"}),(0,t.jsx)("button",{type:"button",onClick:()=>(r=>{let t={...e};delete t[r],a(t)})(l),"aria-label":"delete ".concat(l),className:"rounded-full bg-[#2a2d35] px-2 py-1 text-xs font-semibold text-[#f97316] transition hover:bg-[#3d1e0a]",children:"\xd7"})]})]},l)}),0===Object.keys(e).length&&(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Memory is empty"})]})]})}var c=r(42325);function d(){let[e,a]=(0,s.default)("calc-formulas",()=>[],e=>Array.isArray(e)&&e.every(e=>"string"==typeof(null==e?void 0:e.name)&&"string"==typeof(null==e?void 0:e.expr))),[r,i]=(0,l.useState)(""),[o,n]=(0,l.useState)(""),[d,u]=(0,l.useState)("");return(0,t.jsxs)("div",{id:"formulas",className:"formulas hidden space-y-4 rounded-2xl border border-dashed border-white/10 bg-[#15171d] p-4 text-sm text-slate-200 shadow-inner",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,t.jsx)("input",{value:r,onChange:e=>i(e.target.value),placeholder:"Name",className:"rounded-lg border border-white/10 bg-[#0f1117] px-3 py-2 text-sm font-semibold text-slate-100 placeholder:text-slate-500 focus:border-[#f97316] focus:outline-none focus:ring-2 focus:ring-[#f97316]"}),(0,t.jsx)("input",{value:o,onChange:e=>n(e.target.value),placeholder:"Expression",className:"rounded-lg border border-white/10 bg-[#0f1117] px-3 py-2 text-sm font-mono text-slate-100 placeholder:text-slate-500 focus:border-[#f97316] focus:outline-none focus:ring-2 focus:ring-[#f97316]"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>r.trim()&&o.trim()?!function(e){if(/\+\+/.test(e))return!1;try{let a=(0,c.evaluate)(e);return null!==a&&"Error"!==a}catch(e){return!1}}(o)?void u("Invalid formula"):void(a([...e,{name:r.trim(),expr:o}]),i(""),n(""),u("")):void u("Name and expression required"),className:"inline-flex w-full items-center justify-center rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold uppercase tracking-wide text-slate-200 transition hover:bg-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#f97316] focus-visible:ring-offset-2 focus-visible:ring-offset-[#15171d]",children:"Save formula"}),d&&(0,t.jsx)("div",{className:"rounded-lg border border-red-500/40 bg-red-500/10 px-3 py-2 text-xs text-red-300",children:d})]}),(0,t.jsxs)("ul",{className:"space-y-2",children:[0===e.length&&(0,t.jsx)("li",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"No formulas saved"}),e.map((e,a)=>(0,t.jsx)("li",{children:(0,t.jsxs)("button",{type:"button",onClick:()=>(e=>{let a=document.getElementById("display");if(a){var r,t;let l=null!=(r=a.selectionStart)?r:a.value.length,s=null!=(t=a.selectionEnd)?t:a.value.length;a.value=a.value.slice(0,l)+e.expr+a.value.slice(s),a.selectionStart=a.selectionEnd=l+e.expr.length,a.dispatchEvent(new Event("input",{bubbles:!0})),a.focus()}})(e),className:"flex w-full items-center justify-between rounded-xl bg-white/5 px-3 py-2 text-left font-semibold text-slate-100 transition hover:bg-white/10",children:[(0,t.jsx)("span",{children:e.name}),(0,t.jsx)("span",{className:"font-mono text-xs text-slate-400",children:e.expr})]})},a))]})]})}function u(e){let{entries:a}=e,r=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=r.current;e&&(e.scrollTop=0)},[a]);let s=(0,l.useCallback)(e=>{let a=document.getElementById("display");a&&(a.value=e,a.dispatchEvent(new Event("input",{bubbles:!0})),a.focus())},[]),i=(0,l.useCallback)(async e=>{try{await navigator.clipboard.writeText(e)}catch(e){}},[]);return(0,t.jsxs)("div",{ref:r,className:"tape max-h-48 space-y-2 overflow-y-auto rounded-2xl border border-white/5 bg-[#15171d] p-4 font-mono text-sm text-slate-200 shadow-inner",children:[0===a.length&&(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Tape is empty"}),a.map((e,a)=>{let{expr:r,result:l}=e;return(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-xl bg-white/5 px-3 py-2",children:[(0,t.jsxs)("div",{className:"flex-1 truncate",children:[r," = ",(0,t.jsx)("span",{className:"text-[#f97316]",children:l})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,t.jsx)("button",{className:"rounded-full bg-[#2a2d35] px-3 py-1 font-semibold uppercase tracking-wide text-slate-200 transition hover:bg-[#343842]",onClick:()=>s(l),"aria-label":"recall result",type:"button",children:"Ans"}),(0,t.jsx)("button",{className:"rounded-full bg-[#2a2d35] px-3 py-1 font-semibold uppercase tracking-wide text-slate-200 transition hover:bg-[#343842]",onClick:()=>i(l),"aria-label":"copy result",type:"button",children:"Copy"})]})]},a)})]})}function b(){let[e,a]=(0,s.default)("calc-history",()=>[],e=>Array.isArray(e)&&e.every(e=>"string"==typeof(null==e?void 0:e.expr)&&"string"==typeof(null==e?void 0:e.result))),[i,c]=(0,s.default)("calc-mode",()=>"basic",e=>"basic"===e||"scientific"===e||"programmer"===e),[b,p]=(0,l.useState)(!1),[m,g]=(0,l.useState)(!1),[x,v]=(0,l.useState)(""),f=(0,l.useRef)(e),h=(0,l.useRef)(i),y=(0,l.useRef)(null),k=(0,l.useRef)(null),j="btn flex items-center justify-center font-semibold transition-all duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--kali-bg)]",N="".concat(j," h-14 rounded-xl border border-[color:var(--kali-border)] bg-[var(--kali-panel)] px-0 text-lg text-[color:var(--kali-text)] shadow-sm hover:-translate-y-0.5 hover:bg-[color:color-mix(in_srgb,var(--kali-panel)_88%,rgba(255,255,255,0.08))]"),_="border-[color:color-mix(in_srgb,var(--color-accent)_55%,transparent)] bg-[color:color-mix(in_srgb,var(--color-accent)_16%,transparent)] text-[color:color-mix(in_srgb,var(--color-accent)_92%,white)] hover:bg-[color:color-mix(in_srgb,var(--color-accent)_24%,transparent)] hover:text-[color:var(--color-accent)]",w="".concat(j," h-11 rounded-full border border-[color:color-mix(in_srgb,var(--kali-border)_65%,transparent)] bg-[var(--kali-overlay)] px-5 text-sm uppercase tracking-wide text-[color:color-mix(in_srgb,var(--kali-text)_85%,rgba(148,163,184,0.35))] shadow-none hover:bg-[color:color-mix(in_srgb,var(--kali-overlay)_82%,transparent)] hover:text-[color:var(--kali-text)]"),E=[[{label:"(",value:"(",keyBinding:"(",ariaLabel:"left parenthesis"},{label:")",value:")",keyBinding:")",ariaLabel:"right parenthesis"},{label:(0,t.jsx)("span",{className:"text-xs font-medium uppercase tracking-[0.3em]",children:"mod"}),value:"mod(",ariaLabel:"modulus",extraClassName:_},{label:"π",value:"pi",keyBinding:"p",ariaLabel:"pi constant"}],[{label:"7",value:"7",keyBinding:"7",ariaLabel:"seven"},{label:"8",value:"8",keyBinding:"8",ariaLabel:"eight"},{label:"9",value:"9",keyBinding:"9",ariaLabel:"nine"},{label:"\xf7",value:"/",keyBinding:"/",ariaLabel:"divide",extraClassName:_}],[{label:"4",value:"4",keyBinding:"4",ariaLabel:"four"},{label:"5",value:"5",keyBinding:"5",ariaLabel:"five"},{label:"6",value:"6",keyBinding:"6",ariaLabel:"six"},{label:"\xd7",value:"*",keyBinding:"*",ariaLabel:"multiply",extraClassName:_}],[{label:"1",value:"1",keyBinding:"1",ariaLabel:"one"},{label:"2",value:"2",keyBinding:"2",ariaLabel:"two"},{label:"3",value:"3",keyBinding:"3",ariaLabel:"three"},{label:"−",value:"-",keyBinding:"-",ariaLabel:"subtract",extraClassName:_}],[{label:"0",value:"0",keyBinding:"0",ariaLabel:"zero"},{label:".",value:".",keyBinding:".",ariaLabel:"decimal point"},{label:"%",value:"%",keyBinding:"%",ariaLabel:"percent"},{label:"+",value:"+",keyBinding:"+",ariaLabel:"add",extraClassName:_}]];(0,l.useEffect)(()=>{f.current=e},[e]);let B=(0,l.useCallback)(e=>{var a,r,t,l,s,i;let o=k.current;if(!o)return;let n="scientific"===e,c="programmer"===e;null==(a=o.scientificToggle)||a.setAttribute("aria-pressed",String(n)),null==(r=o.programmerToggle)||r.setAttribute("aria-pressed",String(c)),null==(t=o.scientificPanel)||t.classList.toggle("hidden",!n),null==(l=o.programmerPanel)||l.classList.toggle("hidden",!c),null==(i=y.current)||null==(s=i.setProgrammerMode)||s.call(i,c),p(n),g(c)},[]);(0,l.useEffect)(()=>{h.current=i,B(i)},[i,B]),(0,l.useEffect)(()=>{let e=()=>{},t=!1;return(async()=>{var l;let s=await Promise.resolve().then(r.t.bind(r,42325,23)),i=null!=(l=s.default)?l:s;if(t)return;y.current={evaluate:i.evaluate,memoryAdd:i.memoryAdd,memorySubtract:i.memorySubtract,memoryRecall:i.memoryRecall,formatBase:i.formatBase,getLastResult:i.getLastResult,setBase:i.setBase,setPreciseMode:i.setPreciseMode,setProgrammerMode:i.setProgrammerMode};let o=document.getElementById("display");if(!o)return;let n=document.querySelectorAll(".btn"),d=document.getElementById("toggle-history"),u=document.getElementById("history"),b=document.getElementById("toggle-formulas"),p=document.getElementById("formulas"),m=document.getElementById("base-select"),g=document.getElementById("toggle-precise"),x=document.getElementById("toggle-scientific"),j=document.getElementById("toggle-programmer"),N=document.getElementById("scientific"),_=document.getElementById("programmer"),w=document.getElementById("paren-indicator"),E=document.querySelectorAll(".calculator button");k.current={display:o,scientificToggle:x,programmerToggle:j,scientificPanel:N,programmerPanel:_},B(h.current);let M=[],L=(e,a,r)=>{e.addEventListener(a,r),M.push({element:e,type:a,handler:r})},S=()=>{o.classList.remove("error")},C=()=>{if(!w)return;let e=0;for(let a of o.value)"("===a&&(e+=1),")"===a&&(e-=1);e<0?(o.classList.add("error"),w.style.background="rgba(248, 113, 113, 0.75)",w.setAttribute("aria-label","Mismatched parentheses")):e>0?(o.classList.remove("error"),w.style.background="color-mix(in srgb, var(--color-accent) 65%, transparent)",w.setAttribute("aria-label","".concat(e," open parenthesis").concat(1===e?"":"es"))):(o.classList.remove("error"),w.style.background="",w.setAttribute("aria-label","Parentheses balanced"))},A=e=>{var a,r;S();let t=null!=(a=o.selectionStart)?a:o.value.length,l=null!=(r=o.selectionEnd)?r:o.value.length,s=o.value.slice(0,t),i=o.value.slice(l);o.value=s+e+i,o.selectionStart=o.selectionEnd=t+e.length,C()},I=(e,a)=>{if(!a)return;let r=a.classList.contains("hidden");a.classList.toggle("hidden"),null==e||e.setAttribute("aria-pressed",String(r))};if(E.forEach(e=>{L(e,"mousedown",e=>e.preventDefault())}),n.forEach(e=>{L(e,"click",()=>{var r,t,l,s,i,n,c,d,u,b,p,m,g,x,h;let k=e.dataset.action,j=e.dataset.value||e.textContent||"";if("clear"===k){S(),o.value="",C();return}if("backspace"===k){S(),o.value=o.value.slice(0,-1),C();return}if("equals"===k){let e=o.value;try{let l=null==(t=y.current)||null==(r=t.evaluate)?void 0:r.call(t,e);if(void 0===l)return;a(a=>[{expr:e,result:l},...a].slice(0,10)),o.value=l,S(),C()}catch(a){let e=a.index||0;o.classList.add("error"),o.focus(),o.setSelectionRange(e,e+1)}return}if("ans"===k){let e=null==(s=y.current)||null==(l=s.getLastResult)?void 0:l.call(s),a=null==(n=y.current)||null==(i=n.formatBase)?void 0:i.call(n,null!=e?e:"");a&&A(a);return}if("mplus"===k){null==(d=y.current)||null==(c=d.memoryAdd)||c.call(d,o.value);return}if("mminus"===k){null==(b=y.current)||null==(u=b.memorySubtract)||u.call(b,o.value);return}if("mr"===k){let e=null==(m=y.current)||null==(p=m.memoryRecall)?void 0:p.call(m);void 0!==e&&(S(),o.value=null!=(h=null==(x=y.current)||null==(g=x.formatBase)?void 0:g.call(x,e))?h:e,C());return}if("print"===k){let e=f.current,a=0===e.length?"Tape is empty.":e.map((e,a)=>{let{expr:r,result:t}=e;return"".concat(a+1,". ").concat(r," = ").concat(t)}).join("\n"),r=window.open("","calc-print","width=480,height=640");r?(r.document.write("<pre>".concat(a.replace(/[&<>"']/g,e=>{var a;return null!=(a=({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e])?a:e}),"</pre>")),r.document.close(),r.focus(),r.print(),v("Print dialog opened.")):navigator.clipboard?navigator.clipboard.writeText(a).then(()=>v("Tape copied to clipboard.")).catch(()=>v("Unable to print or copy tape.")):v("Unable to print or copy tape.");return}A(j),o.focus()})}),L(document,"keydown",e=>{if("Enter"===e.key||"="===e.key){var a;e.preventDefault(),null==(a=document.querySelector('.btn[data-action="equals"]'))||a.click();return}if("Backspace"===e.key){e.preventDefault(),S(),o.value=o.value.slice(0,-1),C();return}if("Escape"===e.key||"c"===e.key.toLowerCase()){e.preventDefault(),S(),o.value="",C();return}let r=document.querySelector('.btn[data-key~="'.concat(e.key,'"]'));if(r){e.preventDefault(),r.click();return}e.target!==o&&/^[-+*/0-9A-F().]$/i.test(e.key)&&(e.preventDefault(),A(e.key))}),L(o,"input",C),d&&L(d,"click",()=>{I(d,u)}),b&&L(b,"click",()=>{I(b,p)}),d&&u&&d.setAttribute("aria-pressed",String(!u.classList.contains("hidden"))),b&&p&&b.setAttribute("aria-pressed",String(!p.classList.contains("hidden"))),m&&L(m,"change",()=>{var e,a;null==(a=y.current)||null==(e=a.setBase)||e.call(a,parseInt(m.value,10))}),g){let e="true"===g.getAttribute("aria-pressed");L(g,"click",()=>{var a,r;e=!e,g.setAttribute("aria-pressed",String(e)),null==(r=y.current)||null==(a=r.setPreciseMode)||a.call(r,e),v(e?"Precise mode enabled.":"Precise mode disabled.")})}x&&L(x,"click",()=>{c(e=>"scientific"===e?"basic":"scientific")}),j&&L(j,"click",()=>{c(e=>"programmer"===e?"basic":"programmer")}),C(),e=()=>{M.forEach(e=>{let{element:a,type:r,handler:t}=e;return a.removeEventListener(r,t)})}})(),()=>{t=!0,e()}},[B,a,c]);let M=(0,l.useMemo)(()=>{let e=[];return b&&e.push("Scientific"),m&&e.push("Programmer"),e},[m,b]),L=(0,l.useMemo)(()=>e.slice(0,3),[e]);return(0,t.jsxs)("div",{className:"calculator mx-auto flex w-full max-w-lg flex-col gap-6 rounded-3xl border border-[color:color-mix(in_srgb,var(--kali-border)_55%,transparent)] bg-[var(--kali-panel)] p-6 text-[color:var(--kali-text)] shadow-[0_35px_80px_-30px_rgba(15,15,20,0.9)]",children:[(0,t.jsxs)("header",{className:"flex items-center justify-between text-sm text-[color:color-mix(in_srgb,var(--kali-text)_82%,rgba(148,163,184,0.35))]",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>{let e=document.getElementById("display");e&&(e.value=e.value.slice(0,-1),e.dispatchEvent(new Event("input",{bubbles:!0})),e.focus())},className:"inline-flex items-center gap-2 rounded-full border border-[color:color-mix(in_srgb,var(--kali-border)_60%,transparent)] bg-[var(--kali-overlay)] px-4 py-2 text-sm font-medium text-[color:color-mix(in_srgb,var(--kali-text)_88%,rgba(148,163,184,0.35))] transition hover:bg-[color:color-mix(in_srgb,var(--kali-overlay)_78%,transparent)] hover:text-[color:var(--kali-text)] focus:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--kali-bg)]",children:[(0,t.jsxs)("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M3 6h18"}),(0,t.jsx)("path",{d:"M8 6V4h8v2"}),(0,t.jsx)("path",{d:"M19 6l-1 14H6L5 6"}),(0,t.jsx)("path",{d:"M10 11v6"}),(0,t.jsx)("path",{d:"M14 11v6"})]}),"Undo"]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o,{mode:i,onChange:e=>c(e)}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[color:color-mix(in_srgb,var(--kali-text)_65%,rgba(148,163,184,0.55))]",children:[(0,t.jsxs)("button",{id:"toggle-history",className:"inline-flex items-center gap-2 rounded-full border border-[color:color-mix(in_srgb,var(--kali-border)_45%,transparent)] bg-[var(--kali-overlay)] px-3 py-2 text-xs font-semibold uppercase tracking-wide text-[color:color-mix(in_srgb,var(--kali-text)_72%,rgba(148,163,184,0.4))] transition hover:border-[color:color-mix(in_srgb,var(--kali-border)_65%,transparent)] hover:bg-[color:color-mix(in_srgb,var(--kali-overlay)_78%,transparent)] hover:text-[color:var(--kali-text)] focus:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--kali-bg)]","aria-pressed":"false","aria-label":"toggle history","aria-describedby":"calculator-history-toggle-desc",children:[(0,t.jsxs)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",children:[(0,t.jsx)("path",{d:"M8 6h13"}),(0,t.jsx)("path",{d:"M8 12h13"}),(0,t.jsx)("path",{d:"M8 18h13"}),(0,t.jsx)("path",{d:"M3 6h.01"}),(0,t.jsx)("path",{d:"M3 12h.01"}),(0,t.jsx)("path",{d:"M3 18h.01"})]}),(0,t.jsx)("span",{children:"History"}),(0,t.jsx)("span",{id:"calculator-history-toggle-desc",className:"sr-only",children:"Show or hide the calculation history panel"})]}),(0,t.jsxs)("button",{id:"toggle-formulas",className:"inline-flex items-center gap-2 rounded-full border border-[color:color-mix(in_srgb,var(--kali-border)_45%,transparent)] bg-[var(--kali-overlay)] px-3 py-2 text-xs font-semibold uppercase tracking-wide text-[color:color-mix(in_srgb,var(--kali-text)_72%,rgba(148,163,184,0.4))] transition hover:border-[color:color-mix(in_srgb,var(--kali-border)_65%,transparent)] hover:bg-[color:color-mix(in_srgb,var(--kali-overlay)_78%,transparent)] hover:text-[color:var(--kali-text)] focus:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--kali-bg)]","aria-pressed":"false","aria-label":"toggle formulas","aria-describedby":"calculator-formulas-toggle-desc",children:[(0,t.jsxs)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",children:[(0,t.jsx)("path",{d:"M4 4h16"}),(0,t.jsx)("path",{d:"M4 10h10"}),(0,t.jsx)("path",{d:"M4 16h7"}),(0,t.jsx)("path",{d:"M4 22h4"}),(0,t.jsx)("path",{d:"M14 10l6 12"})]}),(0,t.jsx)("span",{children:"Formulas"}),(0,t.jsx)("span",{id:"calculator-formulas-toggle-desc",className:"sr-only",children:"Show or hide the saved formula snippets"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3 rounded-2xl border border-[color:var(--kali-border)] bg-[color:var(--color-dark)] p-4 shadow-inner",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.3em] text-[color:color-mix(in_srgb,var(--kali-text)_55%,rgba(148,163,184,0.65))]",children:[(0,t.jsx)("span",{children:"Expression"}),(0,t.jsx)("span",{children:"Result"})]}),(0,t.jsx)("label",{htmlFor:"display",className:"sr-only",id:"calculator-display-label",children:"Calculator display"}),(0,t.jsx)("input",{id:"display",className:"display w-full rounded-2xl border border-[color:var(--kali-border)] bg-[color:color-mix(in_srgb,var(--color-dark)_92%,transparent)] px-4 py-4 text-right text-3xl font-semibold tracking-tight text-[color:var(--kali-text)] shadow-inner placeholder:text-[color:color-mix(in_srgb,var(--kali-text)_48%,rgba(148,163,184,0.75))] focus:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--kali-bg)]",placeholder:"0","aria-labelledby":"calculator-display-label"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs font-medium uppercase tracking-wide text-[color:color-mix(in_srgb,var(--kali-text)_78%,rgba(148,163,184,0.4))]",children:[(0,t.jsx)("button",{id:"toggle-precise",className:"inline-flex items-center gap-2 rounded-full border border-[color:color-mix(in_srgb,var(--kali-border)_60%,transparent)] bg-[var(--kali-overlay)] px-3 py-1.5 transition hover:bg-[color:color-mix(in_srgb,var(--kali-overlay)_80%,transparent)] focus:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--kali-bg)]","aria-pressed":"false","aria-label":"toggle precise mode",children:"Precise"}),(0,t.jsx)("button",{id:"toggle-scientific",className:"inline-flex items-center gap-2 rounded-full border border-[color:color-mix(in_srgb,var(--kali-border)_60%,transparent)] bg-[var(--kali-overlay)] px-3 py-1.5 transition hover:bg-[color:color-mix(in_srgb,var(--kali-overlay)_80%,transparent)] focus:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--kali-bg)]","aria-pressed":"false","aria-label":"toggle scientific mode",children:"Scientific"}),(0,t.jsx)("button",{id:"toggle-programmer",className:"inline-flex items-center gap-2 rounded-full border border-[color:color-mix(in_srgb,var(--kali-border)_60%,transparent)] bg-[var(--kali-overlay)] px-3 py-1.5 transition hover:bg-[color:color-mix(in_srgb,var(--kali-overlay)_80%,transparent)] focus:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--kali-bg)]","aria-pressed":"false","aria-label":"toggle programmer mode",children:"Programmer"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-start gap-3",children:[(0,t.jsxs)("div",{className:"flex w-full items-center justify-end gap-2",children:[(0,t.jsx)("button",{className:w,"data-action":"clear","data-key":"Escape c","aria-label":"clear",children:"Clear"}),(0,t.jsx)("button",{className:w,"data-action":"backspace","data-key":"Backspace","aria-label":"backspace",children:"Back"})]}),(0,t.jsx)("div",{className:"grid flex-1 grid-cols-4 gap-2 sm:gap-3","aria-label":"calculator keypad",children:E.map((e,a)=>e.map((e,r)=>{var l;return(0,t.jsx)("button",{className:"".concat(N," ").concat(null!=(l=e.extraClassName)?l:"").trim(),...e.value?{"data-value":e.value}:{},...e.action?{"data-action":e.action}:{},...e.keyBinding?{"data-key":e.keyBinding}:{},"aria-label":e.ariaLabel,children:e.label},"".concat(a,"-").concat(r))}))}),(0,t.jsx)("button",{className:"".concat(j," h-full min-h-[7.5rem] rounded-2xl bg-kali-accent text-3xl font-bold text-kali-inverse shadow-lg shadow-[0_12px_30px_color-mix(in_srgb,_var(--color-accent),_transparent_55%)] transition hover:brightness-110"),"data-action":"equals","data-key":"= Enter","aria-label":"equals",children:"="})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-[color:var(--kali-border)] bg-[color:var(--color-dark)] p-4 text-xs text-[color:color-mix(in_srgb,var(--kali-text)_78%,rgba(148,163,184,0.42))] shadow-inner",role:"status","aria-live":"polite","data-testid":"calc-status-summary",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("span",{className:"uppercase tracking-[0.3em] text-[color:color-mix(in_srgb,var(--kali-text)_55%,rgba(148,163,184,0.65))]",children:"Mode"}),(0,t.jsx)("span",{className:"font-semibold capitalize text-[color:color-mix(in_srgb,var(--kali-text)_92%,rgba(148,163,184,0.15))]","data-testid":"calc-mode-summary",children:i}),(0,t.jsx)("span",{className:"uppercase tracking-[0.3em] text-[color:color-mix(in_srgb,var(--kali-text)_55%,rgba(148,163,184,0.65))]",children:"Panels"}),(0,t.jsx)("span",{className:"font-semibold text-[color:color-mix(in_srgb,var(--kali-text)_92%,rgba(148,163,184,0.15))]","data-testid":"calc-active-panels",children:M.length>0?M.join(" \xb7 "):"None"})]}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2","data-testid":"calc-summary-history",children:[(0,t.jsx)("span",{className:"uppercase tracking-[0.3em] text-[color:color-mix(in_srgb,var(--kali-text)_55%,rgba(148,163,184,0.65))]",children:"Recent"}),0===L.length?(0,t.jsx)("span",{className:"text-[color:color-mix(in_srgb,var(--kali-text)_55%,rgba(148,163,184,0.65))]",children:"No tape entries yet"}):L.map((e,a)=>(0,t.jsxs)(l.Fragment,{children:[a>0&&(0,t.jsx)("span",{"aria-hidden":"true",className:"text-[color:color-mix(in_srgb,var(--kali-text)_48%,rgba(148,163,184,0.75))]",children:"•"}),(0,t.jsxs)("span",{className:"font-mono text-[color:color-mix(in_srgb,var(--kali-text)_90%,rgba(148,163,184,0.2))]",children:[e.expr," = ",(0,t.jsx)("span",{className:"text-kali-accent",children:e.result})]})]},"".concat(e.expr,"-").concat(e.result,"-").concat(a)))]}),x&&(0,t.jsx)("div",{className:"mt-2 text-xs font-semibold uppercase tracking-[0.3em] text-[color:color-mix(in_srgb,var(--kali-text)_75%,rgba(148,163,184,0.35))]","data-testid":"calc-status-message",children:x})]}),(0,t.jsxs)("div",{id:"scientific",className:"scientific hidden grid grid-cols-3 gap-2 rounded-2xl border border-[color:var(--kali-border)] bg-[var(--kali-overlay)] p-4 text-sm uppercase tracking-wide text-[color:color-mix(in_srgb,var(--kali-text)_88%,rgba(148,163,184,0.2))]","aria-label":"scientific functions",children:[(0,t.jsx)("button",{className:N,"data-value":"sin(","aria-label":"sine",children:"sin"}),(0,t.jsx)("button",{className:N,"data-value":"cos(","aria-label":"cosine",children:"cos"}),(0,t.jsx)("button",{className:N,"data-value":"tan(","aria-label":"tangent",children:"tan"}),(0,t.jsx)("button",{className:N,"data-value":"sqrt(","aria-label":"square root",children:"√"}),(0,t.jsx)("button",{className:N,"data-value":"(","data-key":"(","aria-label":"left parenthesis",children:"("}),(0,t.jsx)("button",{className:N,"data-value":")","data-key":")","aria-label":"right parenthesis",children:")"})]}),(0,t.jsxs)("div",{id:"programmer",className:"programmer hidden grid gap-2 rounded-2xl border border-[color:var(--kali-border)] bg-[var(--kali-overlay)] p-4 text-sm uppercase tracking-wide text-[color:color-mix(in_srgb,var(--kali-text)_88%,rgba(148,163,184,0.2))]","aria-label":"programmer functions",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-[color:color-mix(in_srgb,var(--kali-text)_72%,rgba(148,163,184,0.35))]",htmlFor:"base-select",children:"Number base"}),(0,t.jsxs)("select",{id:"base-select",defaultValue:"10",className:"h-11 rounded-xl border border-[color:color-mix(in_srgb,var(--kali-border)_60%,transparent)] bg-[color:var(--color-dark)] px-3 text-sm font-medium text-[color:var(--kali-text)] focus:border-[color:var(--color-focus-ring)] focus:outline-none focus:ring-2 focus:ring-[color:var(--color-focus-ring)]",children:[(0,t.jsx)("option",{value:"2",children:"Binary"}),(0,t.jsx)("option",{value:"8",children:"Octal"}),(0,t.jsx)("option",{value:"10",children:"Decimal"}),(0,t.jsx)("option",{value:"16",children:"Hex"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[(0,t.jsx)("button",{className:N,"data-value":"&","data-key":"&","aria-label":"bitwise and",children:"&"}),(0,t.jsx)("button",{className:N,"data-value":"|","data-key":"|","aria-label":"bitwise or",children:"|"}),(0,t.jsx)("button",{className:N,"data-value":"^","data-key":"^","aria-label":"bitwise xor",children:"^"}),(0,t.jsx)("button",{className:N,"data-value":"~","data-key":"~","aria-label":"bitwise not",children:"~"}),(0,t.jsx)("button",{className:N,"data-value":"<<","data-key":"<","aria-label":"left shift",children:"<<"}),(0,t.jsx)("button",{className:N,"data-value":">>","data-key":">","aria-label":"right shift",children:">>"})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)("button",{className:N,"data-action":"ans","aria-label":"previous answer",children:"Ans"}),(0,t.jsx)("button",{id:"print-tape",className:N,"data-action":"print","aria-label":"print tape",children:"Print"})]}),(0,t.jsx)("div",{id:"paren-indicator",className:"mt-2 h-1 rounded-full bg-[color:color-mix(in_srgb,var(--kali-border)_65%,transparent)]",role:"status","aria-live":"polite","aria-label":"Parentheses balanced"})]}),(0,t.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{id:"history",className:"history hidden space-y-2 rounded-2xl border border-[color:var(--kali-border)] bg-[var(--kali-overlay)] p-4 text-sm text-[color:color-mix(in_srgb,var(--kali-text)_90%,rgba(148,163,184,0.18))]","aria-live":"polite",children:[0===e.length&&(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-[color:color-mix(in_srgb,var(--kali-text)_55%,rgba(148,163,184,0.65))]",children:"No history yet"}),e.map((e,a)=>{let{expr:r,result:l}=e;return(0,t.jsxs)("div",{className:"history-entry flex items-center justify-between gap-2 rounded-xl bg-[color:color-mix(in_srgb,var(--kali-bg)_35%,transparent)] px-3 py-2",children:[(0,t.jsx)("span",{className:"font-mono text-sm text-[color:color-mix(in_srgb,var(--kali-text)_92%,rgba(148,163,184,0.15))]",children:r}),(0,t.jsx)("span",{className:"font-semibold text-kali-accent",children:l})]},a)})]}),(0,t.jsx)(u,{entries:e})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"memory-grid grid grid-cols-3 gap-2","aria-label":"memory functions",children:[(0,t.jsx)("button",{className:N,"data-action":"mplus","aria-label":"add to memory",children:"M+"}),(0,t.jsx)("button",{className:N,"data-action":"mminus","aria-label":"subtract from memory",children:"M−"}),(0,t.jsx)("button",{className:N,"data-action":"mr","aria-label":"recall memory",children:"MR"})]}),(0,t.jsx)(n,{}),(0,t.jsx)(d,{})]})]})]})}},42325:(e,a,r)=>{let t=r(33356),l=!1,s=!1,i=10,o=0,n=0;function c(e,a,r){let t=parseInt(e,a);return isNaN(t)?"0":(t<0?"-":"")+Math.abs(t).toString(r)}function d(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return c(String(e),10,a).toUpperCase()}function u(e){let a=[],r=0;for(;r<e.length;){let t=e[r];if(/\s/.test(t)){r++;continue}if("-"===t&&(0===a.length||"operator"===a[a.length-1].type||"("===a[a.length-1].value)){let t=e[r+1];if(/\d|\./.test(t)){let t="-",l=r;for(r++;r<e.length&&/[0-9.]/.test(e[r]);)t+=e[r],r++;a.push({type:"number",value:t,start:l});let s="";for(;r<e.length&&/[A-Za-z]/.test(e[r]);)s+=e[r],r++;s&&a.push({type:"unit",value:s,start:r-s.length});continue}a.push({type:"number",value:"0",start:r}),a.push({type:"operator",value:"-",start:r}),r++;continue}if(/[0-9.]/.test(t)){let l=t,s=r;for(r++;r<e.length&&/[0-9.]/.test(e[r]);)l+=e[r],r++;a.push({type:"number",value:l,start:s});let i="";for(;r<e.length&&/[A-Za-z]/.test(e[r]);)i+=e[r],r++;i&&a.push({type:"unit",value:i,start:r-i.length});continue}if(/[A-Za-z]/.test(t)){let t=r,l=e.slice(r).match(/^[A-Za-z]+/)[0];"("===e[r+=l.length]?a.push({type:"func",value:l,start:t}):a.push({type:"id",value:l,start:t});continue}if("+-*/^(),".includes(t)){a.push({type:"("===t||")"===t?"paren":","===t?"comma":"operator",value:t,start:r}),r++;continue}let l=Error("Unexpected '".concat(t,"'"));throw l.index=r,l}return a}function b(e){let a=[],r=[],t={"+":1,"-":1,"*":2,"/":2,"^":3},l={"^":!0};for(let s of e)if("number"===s.type||"id"===s.type||"unit"===s.type)a.push(s);else if("func"===s.type)r.push(s);else if("operator"===s.type){for(;r.length;){let e=r[r.length-1];if("operator"===e.type&&(l[s.value]?t[s.value]<t[e.value]:t[s.value]<=t[e.value])||"func"===e.type)a.push(r.pop());else break}r.push(s)}else if("paren"===s.type&&"("===s.value)r.push(s);else if("paren"===s.type&&")"===s.value){for(;r.length&&"("!==r[r.length-1].value;)a.push(r.pop());if(!r.length){let e=Error("Mismatched parenthesis");throw e.index=s.start,e}r.pop(),r.length&&"func"===r[r.length-1].type&&a.push(r.pop())}for(;r.length;){let e=r.pop();if("paren"===e.type){let a=Error("Mismatched parenthesis");throw a.index=e.start,a}a.push(e)}return a}function p(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];for(let s of e)if("number"===s.type){let e=l?new t(s.value):Number(s.value);r.push(e)}else if("id"===s.type)if("ans"===s.value.toLowerCase())r.push(o);else if("pi"===s.value.toLowerCase())r.push(l?new t(Math.PI):Math.PI);else if("e"===s.value.toLowerCase())r.push(l?new t(Math.E):Math.E);else if(void 0!==a[s.value]){let e=a[s.value],i=l?new t(e):Number(e);r.push(i)}else r.push(0);else if("func"===s.type){let e,a=r.pop(),i=s.value.toLowerCase(),o=t.isDecimal(a)?a.toNumber():a;switch(i){case"sin":e=Math.sin(o);break;case"cos":e=Math.cos(o);break;case"tan":e=Math.tan(o);break;case"sqrt":e=Math.sqrt(o);break;case"abs":e=Math.abs(o);break;case"log":e=Math.log10?Math.log10(o):Math.log(o)/Math.LN10;break;case"ln":e=Math.log(o);break;case"floor":e=Math.floor(o);break;case"ceil":e=Math.ceil(o);break;case"round":e=Math.round(o);break;default:e=o}r.push(l?new t(e):e)}else if("operator"===s.type){let e,a=r.pop(),i=r.pop();switch(s.value){case"+":e=l?t.add(i,a):i+a;break;case"-":e=l?t.sub(i,a):i-a;break;case"*":e=l?t.mul(i,a):i*a;break;case"/":e=l?t.div(i,a):i/a;break;case"^":e=l?t.pow(i,a):i**a}r.push(e)}return r.pop()}function m(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.replace(/(\d*\.?\d+)%/g,"($1/100)"),t={...a};try{let e=localStorage.getItem("calc-vars");e&&(t={...JSON.parse(e),...t})}catch(e){}if(s){let e=p(b(u(r.replace(/\b[0-9A-F]+\b/gi,e=>String(parseInt(e,i))))),t);return o=e,d(e)}let l=p(b(u(r)),t);return o=l,l.toString()}e.exports={tokenize:u,toRPN:b,evalRPN:p,evaluate:m,setPreciseMode:function(e){(l=e)?(n=new t(n),o=new t(o)):(n=t.isDecimal(n)?n.toNumber():n,o=t.isDecimal(o)?o.toNumber():o)},setProgrammerMode:function(e){s=e},setBase:function(e){i=e},convertBase:c,formatBase:d,memoryAdd:function(e){let a=m(e),r=s?parseInt(a,i):l?new t(a):parseFloat(a);return n=l?t.add(n,r):n+r},memorySubtract:function(e){let a=m(e),r=s?parseInt(a,i):l?new t(a):parseFloat(a);return n=l?t.sub(n,r):n-r},memoryRecall:function(){return l?n.toString():n},getLastResult:function(){return o}}}}]);