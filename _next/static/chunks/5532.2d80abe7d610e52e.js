(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5532],{5532:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(37876),l=r(14232),n=r(51802),s=r(89099);function o(e){var t;return t=(function(e){let t=0x6a09e667^e.length;for(let r=0;r<e.length;r+=1)t=(t=Math.imul(t^e.charCodeAt(r),0xcc9e2d51))<<13|t>>>19;return function(){return t=Math.imul((t=Math.imul(t^t>>>16,0x85ebca6b))^t>>>13,0xc2b2ae35),(t^=t>>>16)>>>0}})(e)(),function(){let e=t+=0x6d2b79f5;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/0x100000000}}var i=r(27212),c=r(72082),A=r(70994),d=r(41058);let u={animals:["DOG","CAT","EAGLE","TIGER","HORSE","SHARK","SNAKE","LION"],fruits:["APPLE","BANANA","ORANGE","GRAPE","MANGO","LEMON","PEACH","CHERRY"],colors:["RED","BLUE","GREEN","YELLOW","PURPLE","ORANGE","BLACK","WHITE"],tech:["REACT","CODE","TAILWIND","NODE","JAVASCRIPT","HTML","CSS","PYTHON"]},h=e=>{let{onImport:t}=e,r=(0,l.useRef)(null),n=async e=>{var a;let l=null==(a=e.target.files)?void 0:a[0];if(l)try{let e=(await l.text()).split(/[\s,]+/).map(e=>e.trim().toUpperCase()).filter(e=>e&&/^[A-Z]+$/.test(e));e.length&&t(e)}catch(e){}finally{r.current&&(r.current.value="")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",onClick:()=>{var e;return null==(e=r.current)?void 0:e.click()},className:"px-2 py-1 bg-purple-700 text-white rounded",children:"Import List"}),(0,a.jsx)("input",{ref:r,type:"file",accept:".txt",className:"hidden",onChange:n})]})};function f(e){return"".concat(e.row,"-").concat(e.col)}function p(e,t){let r=Math.sign(t.col-e.col),a=Math.sign(t.row-e.row),l=Math.max(Math.abs(t.col-e.col),Math.abs(t.row-e.row));if(0!==r&&0!==a&&Math.abs(t.col-e.col)!==Math.abs(t.row-e.row))return[e];let n=[];for(let t=0;t<=l;t+=1)n.push({row:e.row+a*t,col:e.col+r*t});return n}let g="game:word_search:save",w="game:word_search:leaderboard",m=e=>{let{getDailySeed:t}=e,r=(0,s.useRouter)(),{seed:A,words:m}=r.query,[x,E]=(0,l.useState)(""),[S,C]=(0,l.useState)([]),[y,D]=(0,l.useState)([]),[B,N]=(0,l.useState)([]),[b,O]=(0,l.useState)(new Set),[v,I]=(0,l.useState)(new Set),[R,j]=(0,l.useState)(new Set),[k,M]=(0,l.useState)(3),[L,T]=(0,l.useState)(3),[U,H]=(0,l.useState)(!1),[P,Y]=(0,l.useState)(null),[G,K]=(0,l.useState)([]),[W,F]=(0,l.useState)(""),J=(0,l.useRef)(0),_=(0,l.useRef)(null),q=(0,l.useRef)([]),{quality:z,setQuality:X,highContrast:Z,setHighContrast:V}=(0,d.useSettings)(),[$,Q]=(0,l.useState)("random"),[ee,et]=(0,l.useState)(!0),[er,ea]=(0,l.useState)(!0),[el,en]=(0,l.useState)(0),[es,eo]=(0,l.useState)("");function ei(e,t){if("random"!==t)return u[t];let r=o(e),a=new Set;for(;a.size<5;){let e=i[Math.floor(r()*i.length)];a.add(e)}return Array.from(a)}(0,l.useEffect)(()=>{try{let r=window.localStorage.getItem(g);if(r){var e,t;let a=JSON.parse(r);E(a.seed),C(a.words),D(a.grid),N(a.placements),O(new Set(a.found)),I(new Set(a.foundCells)),j(new Set(a.hintCells||[])),M(null!=(e=a.firstHints)?e:3),T(null!=(t=a.lastHints)?t:3)}}catch(e){}},[]),(0,l.useEffect)(()=>{x&&S.length||(async()=>{var e;let r=[];if("string"==typeof m){let e=m.split(/[,\n]/).map(e=>e.trim()).filter(Boolean);if(e.length){let t=n.string().regex(/^[A-Za-z]+$/,{message:"Words must contain only letters"}),a=n.array(t).min(1,{message:"Please enter at least one word"}).safeParse(e);if(!a.success){let t=e.filter(e=>!/^[A-Za-z]+$/.test(e));F(t.length?"Invalid words: ".concat(t.join(", ")):a.error.issues[0].message);return}F(""),r=a.data.map(e=>e.toUpperCase())}}let a=null!=(e=await (null==t?void 0:t()))?e:new Date().toISOString().split("T")[0],l="string"==typeof A?A:a;E(l),C(r.length?r:ei(l,$))})()},[A,m,x,S.length,t,$]),(0,l.useEffect)(()=>{x&&"custom"!==$&&C(ei(x,$))},[$,x]),(0,l.useEffect)(()=>{if(!x||!S.length)return;let{grid:e,placements:t}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"seed",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=o(r),n=Array.from({length:t},()=>Array(t).fill("")),s=[],i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{allowBackwards:t=!0,allowDiagonal:r=!0}=e,a=[{dx:1,dy:0},{dx:0,dy:1}];return t&&a.push({dx:-1,dy:0},{dx:0,dy:-1}),r&&(a.push({dx:1,dy:1}),t&&a.push({dx:-1,dy:-1},{dx:1,dy:-1},{dx:-1,dy:1})),a}(a);e.forEach(e=>{let r=e.toUpperCase();for(let e=0;e<200;e+=1){let e=i[Math.floor(l()*i.length)],a=e.dy<0?r.length-1:0,o=e.dy>0?t-r.length:t-1,c=e.dx<0?r.length-1:0,A=e.dx>0?t-r.length:t-1,d=Math.floor(l()*(o-a+1))+a,u=Math.floor(l()*(A-c+1))+c,h=!0,f=[];for(let t=0;t<r.length;t+=1){let a=d+e.dy*t,l=u+e.dx*t,s=n[a][l];if(s&&s!==r[t]){h=!1;break}f.push({row:a,col:l})}if(h){f.forEach((e,t)=>{n[e.row][e.col]=r[t]}),s.push({word:r,positions:f});return}}});let c="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<t;e+=1)for(let r=0;r<t;r+=1)n[e][r]||(n[e][r]=c[Math.floor(l()*c.length)]);return{grid:n,placements:s}}(S,12,x,{allowBackwards:ee,allowDiagonal:er});D(e),N(t),O(new Set),I(new Set),j(new Set),M(3),T(3),J.current=Date.now(),en(0),(0,c.logGameStart)("word_search")},[x,S,ee,er]),(0,l.useEffect)(()=>{let e=setInterval(()=>{J.current&&en(Math.floor((Date.now()-J.current)/1e3))},1e3);return()=>clearInterval(e)},[]),(0,l.useEffect)(()=>{let e=setInterval(()=>{try{let e={seed:x,words:S,grid:y,placements:B,found:Array.from(b),foundCells:Array.from(v),hintCells:Array.from(R),firstHints:k,lastHints:L};window.localStorage.setItem(g,JSON.stringify(e))}catch(e){}},5e3);return()=>clearInterval(e)},[x,S,y,B,b,v,R,k,L]),(0,l.useEffect)(()=>{G.length&&eo(G.map(e=>y[e.row][e.col]).join(""))},[G,y]);let ec=()=>{if(!U)return;if(H(!1),!G.length){Y(null),K([]);return}let e=G.map(e=>y[e.row][e.col]).join(""),t=e.split("").reverse().join(""),r=S.find(r=>r===e||r===t);if(eo(r?"Found word ".concat(r):e),r&&!b.has(r)){let e=new Set(b);e.add(r),O(e);let t=new Set(v);G.forEach(e=>t.add(f(e))),I(t);let a=new Set(R);if(G.forEach(e=>a.delete(f(e))),j(a),e.size===S.length){let e=Math.floor((Date.now()-J.current)/1e3);try{let t=JSON.parse(localStorage.getItem(w)||"[]");t.push({seed:x,time:e}),localStorage.setItem(w,JSON.stringify(t));let r="game:word_search:daily:".concat(new Date().toISOString().split("T")[0]);localStorage.setItem(r,JSON.stringify({seed:x,time:e}))}catch(e){}(0,c.logGameEnd)("word_search")}}Y(null),K([])},eA=()=>{ec()},ed=e=>{"Shift"===e.key&&U&&ec()},eu=async()=>{let e=new URLSearchParams({seed:x,words:S.join(",")}),t="".concat(window.location.origin).concat(window.location.pathname,"?").concat(e.toString());try{var r;await (null==(r=navigator.clipboard)?void 0:r.writeText(t))}catch(e){(0,c.logGameError)("word_search",(null==e?void 0:e.message)||String(e))}},eh=S.length?b.size/S.length:0,ef=2*Math.PI*16;return W?(0,a.jsx)("div",{className:"p-4 text-red-600",role:"alert",children:W}):(0,a.jsxs)("div",{className:"p-4 select-none",children:[(0,a.jsx)("div",{"aria-live":"polite",role:"status",className:"sr-only",children:es}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2 print:hidden items-center",children:[(0,a.jsxs)("svg",{viewBox:"0 0 36 36",className:"w-10 h-10",children:[(0,a.jsx)("circle",{className:"text-gray-300",stroke:"currentColor",strokeWidth:"4",fill:"transparent",r:16,cx:"18",cy:"18"}),(0,a.jsx)("circle",{className:"text-green-500",stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:ef,strokeDashoffset:ef-eh*ef,strokeLinecap:"round",r:16,cx:"18",cy:"18",style:{transition:"stroke-dashoffset 0.5s"}}),(0,a.jsx)("text",{x:"18",y:"20.5",textAnchor:"middle",className:"text-xs",children:"".concat(b.size,"/").concat(S.length)})]}),(0,a.jsxs)("span",{className:"text-sm",children:["Time: ",el,"s"]}),(0,a.jsxs)("select",{value:$,onChange:e=>Q(e.target.value),className:"px-2 py-1 border rounded","aria-label":"Word list pack",children:[(0,a.jsx)("option",{value:"random",children:"Random"}),(0,a.jsx)("option",{value:"custom",children:"Custom"}),Object.keys(u).map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsxs)("label",{htmlFor:"word-search-backwards",className:"flex items-center space-x-1",children:[(0,a.jsx)("input",{id:"word-search-backwards",type:"checkbox",checked:ee,onChange:e=>et(e.target.checked),"aria-label":"Allow backwards words"}),(0,a.jsx)("span",{className:"text-sm",children:"Backwards"})]}),(0,a.jsxs)("label",{htmlFor:"word-search-diagonal",className:"flex items-center space-x-1",children:[(0,a.jsx)("input",{id:"word-search-diagonal",type:"checkbox",checked:er,onChange:e=>ea(e.target.checked),"aria-label":"Allow diagonal words"}),(0,a.jsx)("span",{className:"text-sm",children:"Diagonal"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>{let e=Math.random().toString(36).slice(2);r.replace({pathname:r.pathname,query:{seed:e,words:S.join(",")}},void 0,{shallow:!0})},className:"px-2 py-1 bg-blue-700 text-white rounded",children:"New"}),(0,a.jsx)("button",{type:"button",onClick:eu,className:"px-2 py-1 bg-green-700 text-white rounded",children:"Copy Link"}),(0,a.jsx)(h,{onImport:e=>{if(!e.length)return;let t=Math.random().toString(36).slice(2);E(t),C(e),Q("custom"),r.replace({pathname:r.pathname,query:{seed:t,words:e.join(",")}},void 0,{shallow:!0})}}),(0,a.jsx)("button",{type:"button",onClick:()=>window.print(),className:"px-2 py-1 bg-gray-700 text-white rounded",children:"Print"}),(0,a.jsx)("button",{type:"button",onClick:()=>{try{let r=window.localStorage.getItem(g);if(r){var e,t;let a=JSON.parse(r);E(a.seed),C(a.words),D(a.grid),N(a.placements),O(new Set(a.found)),I(new Set(a.foundCells)),j(new Set(a.hintCells||[])),M(null!=(e=a.firstHints)?e:3),T(null!=(t=a.lastHints)?t:3)}}catch(e){}},className:"px-2 py-1 bg-indigo-700 text-white rounded",children:"Load"}),(0,a.jsx)("button",{type:"button",onClick:()=>{window.localStorage.removeItem(g),E(""),C([]),j(new Set),M(3),T(3)},className:"px-2 py-1 bg-red-700 text-white rounded",children:"Restart"}),(0,a.jsx)("button",{type:"button",onClick:()=>{let e=new Blob([window.localStorage.getItem(w)||"[]"],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="word_search_leaderboard.json",r.click(),URL.revokeObjectURL(t)},className:"px-2 py-1 bg-yellow-700 text-white rounded",children:"Export LB"}),(0,a.jsx)("button",{type:"button",onClick:()=>{var e;return null==(e=_.current)?void 0:e.click()},className:"px-2 py-1 bg-purple-700 text-white rounded",children:"Import LB"}),(0,a.jsx)("input",{ref:_,type:"file",className:"hidden",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];r&&r.text().then(e=>{try{JSON.parse(e),window.localStorage.setItem(w,e)}catch(e){}})},"aria-label":"Import leaderboard file"}),(0,a.jsxs)("button",{type:"button",onClick:()=>{if(k<=0)return;let e=B.filter(e=>!b.has(e.word)&&!R.has(f(e.positions[0])));if(!e.length)return;let t=e[Math.floor(Math.random()*e.length)],r=new Set(R);r.add(f(t.positions[0])),j(r),M(k-1)},disabled:k<=0,className:"px-2 py-1 bg-teal-700 text-white rounded disabled:opacity-50",children:["First Hint (",k,")"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{if(L<=0)return;let e=B.filter(e=>!b.has(e.word)&&!R.has(f(e.positions[e.positions.length-1])));if(!e.length)return;let t=e[Math.floor(Math.random()*e.length)],r=new Set(R);r.add(f(t.positions[t.positions.length-1])),j(r),T(L-1)},disabled:L<=0,className:"px-2 py-1 bg-teal-700 text-white rounded disabled:opacity-50",children:["Last Hint (",L,")"]}),(0,a.jsxs)("label",{htmlFor:"word-search-quality",className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{className:"text-sm",children:"Quality"}),(0,a.jsx)("input",{id:"word-search-quality",type:"range",min:"0.5",max:"1",step:"0.1",value:z,onChange:e=>X(parseFloat(e.target.value)),"aria-label":"Grid scale quality"})]}),(0,a.jsxs)("label",{htmlFor:"word-search-high-contrast",className:"flex items-center space-x-1",children:[(0,a.jsx)("input",{id:"word-search-high-contrast",type:"checkbox",checked:Z,onChange:e=>V(e.target.checked),"aria-label":"Enable high contrast letters"}),(0,a.jsx)("span",{className:"text-sm",children:"High Contrast Letters"})]})]}),(0,a.jsxs)("div",{className:"relative w-max",style:{transform:"scale(".concat(z,")"),transformOrigin:"top left"},onMouseLeave:eA,children:[(0,a.jsx)("div",{style:{gridTemplateColumns:"repeat(".concat(12,", ").concat(32,"px)"),gridTemplateRows:"repeat(".concat(12,", ").concat(32,"px)")},className:"grid w-max overflow-hidden rounded-lg border border-slate-300 bg-white/80 shadow-sm dark:border-slate-700 dark:bg-slate-900/60 ".concat(Z?"contrast-200":""),role:"grid","aria-label":"Word search grid",children:y.map((e,t)=>e.map((e,r)=>{let l=f({row:t,col:r}),n=G.some(e=>e.row===t&&e.col===r),s=v.has(l),o=R.has(l);return(0,a.jsx)("div",{onMouseDown:()=>((e,t)=>{H(!0);let r={row:e,col:t};Y(r),K([r])})(t,r),onMouseEnter:()=>{var e,a;return e=t,a=r,void(U&&P&&K(p(P,{row:e,col:a})))},onMouseUp:eA,ref:e=>{q.current[t]||(q.current[t]=[]),q.current[t][r]=e},tabIndex:0,role:"gridcell","aria-selected":n,onKeyDown:e=>((e,t,r)=>{if(e.key.startsWith("Arrow")){var a,l;e.preventDefault();let n="ArrowUp"===e.key?-1:+("ArrowDown"===e.key),s="ArrowLeft"===e.key?-1:+("ArrowRight"===e.key),o=t+n,i=r+s;if(!(o<0)&&!(o>=12)&&!(i<0)&&!(i>=12)){if(e.shiftKey){let e=null!=P?P:{row:t,col:r};Y(e),K(p(e,{row:o,col:i})),H(!0)}else Y(null),K([]),H(!1);null==(l=q.current[o])||null==(a=l[i])||a.focus()}}else"Enter"===e.key||" "===e.key?G.length&&(e.preventDefault(),ec()):"Escape"===e.key&&(Y(null),K([]),H(!1))})(e,t,r),onKeyUp:ed,className:"".concat("word-search-cell flex items-center justify-center border font-semibold tracking-wide cursor-pointer select-none transition-colors duration-150 ease-out focus:outline-none focus-visible:ring-2 focus-visible:ring-kali-selection focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-slate-900"," ").concat(s?"word-search-cell-found":n?"word-search-cell-selected":o?"word-search-cell-hint":"word-search-cell-default"),style:{width:32,height:32,fontSize:19.2},"aria-label":"row ".concat(t+1," column ").concat(r+1," letter ").concat(e).concat(s?" found":""),children:e},l)}))}),G.length>1&&(0,a.jsx)("svg",{className:"absolute top-0 left-0 pointer-events-none",width:384,height:384,children:(0,a.jsx)("polyline",{className:"word-search-selection-line",points:G.map(e=>"".concat(32*e.col+16,",").concat(32*e.row+16)).join(" "),stroke:Z?"#facc15":"var(--color-selection, #fbbf24)",strokeWidth:28,fill:"none",strokeLinecap:"round"})})]}),(0,a.jsx)("ul",{className:"mt-6 grid gap-3 list-none p-0 sm:grid-cols-2 lg:grid-cols-3",children:S.map(e=>(0,a.jsx)("li",{className:"word-search-clue".concat(b.has(e)?" word-search-clue-found word-found":""),children:e},e))})]})},x=e=>{let{getDailySeed:t}=e;return(0,a.jsx)(d.SettingsProvider,{children:(0,a.jsx)(A.default,{gameId:"word_search",children:(0,a.jsx)(m,{getDailySeed:t})})})}},27212:e=>{"use strict";e.exports=JSON.parse('["AAHED","AALII","AARGH","AARON","ABACA","ABACI","ABACK","ABADA","ABAFF","ABAFT","ABAKA","ABAMA","ABAMP","ABAND","ABASE","ABASH","ABASK","ABATE","ABAUE","ABAVE","ABAZE","ABBAS","ABBEY","ABBES","ABBIE","ABBOT","ABDAL","ABDAT","ABDOM","ABEAM","ABEAR","ABEDE","ABELE","ABEND","ABERR","ABETS","ABHOR","ABIDE","ABIDI","ABIES","ABYES","ABILO","ABIME","ABYSM","ABYSS","ABKAR","ABLED","ABLER","ABLES","ABLET","ABLOW","ABMHO","ABNER","ABNET","ABODE","ABODY","ABOHM","ABOIL","ABOMA","ABOON","ABORD","ABORT","ABOTE","ABOUT","ABOVE","ABRAY","ABRAM","ABRET","ABRIM","ABRIN","ABRIS","ABRUS","ABSEE","ABSEY","ABSIS","ABSIT","ABSTR","ABUNA","ABUNE","ABURA","ABUSE","ABUSH","ABUTA","ABUTS","ABUZZ","ABWAB","ACALE","ACANA","ACAPU","ACARA","ACARI","ACAST","ACATE","ACCEL","ACCOY","ACCRA","ACCTS","ACCUM","ACCUR","ACCUS","ACEDY","ACERB","ACETA","ACHAR","ACHED","ACHEN","ACHER","ACHES","ACHOO","ACHOR","ACIDY","ACIDS","ACIER","ACIES","ACYLS","ACING","ACINI","ACKEE","ACKEY","ACKER","ACLYS","ACMES","ACMIC","ACNED","ACNES","ACOCK","ACOIN","ACOLD","ACOMA","ACONE","ACOOL","ACORN","ACOST","ACOUP","ACRAB","ACRED","ACRES","ACRID","ACRYL","ACROA","ACRON","ACRUX","ACTED","ACTIN","ACTON","ACTOR","ACTOS","ACTUS","ACUAN","ACUTE","ADAGE","ADAGY","ADAYS","ADAMS","ADAPA","ADAPT","ADATI","ADATY","ADAWE","ADAWN","ADCON","ADDAX","ADDDA","ADDED","ADDER","ADDIE","ADDIO","ADDIS","ADDLE","ADDNL","ADEAD","ADEEM","ADEEP","ADELA","ADEPS","ADEPT","ADFIX","ADIEL","ADIEU","ADION","ADIOS","ADYTA","ADITS","ADJAG","ADLAI","ADLAY","ADLET","ADMAN","ADMEN","ADMIN","ADMIT","ADMIX","ADMOV","ADMRX","ADNEX","ADOBE","ADOBO","ADOLF","ADOPT","ADORE"]')},33840:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(14232);function l(e,t){let[r,l]=(0,a.useState)(()=>{try{let r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(e){return t}});return(0,a.useEffect)(()=>{try{window.localStorage.setItem(e,JSON.stringify(r))}catch(e){}},[e,r]),[r,l]}},41058:(e,t,r)=>{"use strict";r.d(t,{SettingsProvider:()=>o,useSettings:()=>i});var a=r(37876),l=r(14232),n=r(33840);let s=(0,l.createContext)(void 0),o=e=>{let{children:t}=e,[r,l]=(0,n.default)("settings:difficulty","normal"),[o,i]=(0,n.default)("settings:assists",!0),[c,A]=(0,n.default)("settings:palette","default"),[d,u]=(0,n.default)("settings:highContrast",!1),[h,f]=(0,n.default)("settings:quality",1);return(0,a.jsx)(s.Provider,{value:{difficulty:r,setDifficulty:l,assists:o,setAssists:i,palette:c,setPalette:A,highContrast:d,setHighContrast:u,quality:h,setQuality:f},children:t})},i=()=>{let e=(0,l.useContext)(s);if(!e)throw Error("useSettings must be used within SettingsProvider");return e}},89099:(e,t,r)=>{e.exports=r(6763)}}]);