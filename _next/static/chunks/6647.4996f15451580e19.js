"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3700,6647],{23700:(e,r,a)=>{a.r(r),a.d(r,{default:()=>n});var t=a(37876),o=a(14232),l=a(51802);let i="input-lab:text",s=l.object({text:l.string().min(1,"Text is required")});function n(){let[e,r]=(0,o.useState)(""),[a,l]=(0,o.useState)(""),[n,c]=(0,o.useState)(""),[d,x]=(0,o.useState)([]),m=e.length>0,b=n||(m?"Validatingâ€¦":"Waiting for input to validate."),p=b.startsWith("Error"),u="Saved"===b,g=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(a=>[...a,{time:new Date().toISOString(),type:e,...r}])},h=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selectionStart:a,selectionEnd:t}=e.currentTarget;g("caret",{start:a,end:t,...r})};(0,o.useEffect)(()=>{let e=window.localStorage.getItem(i);e&&r(e)},[]),(0,o.useEffect)(()=>{let r=setTimeout(()=>{let r=s.safeParse({text:e});if(!r.success){let e=r.error.issues[0].message;l(e),c("Error: ".concat(e));return}l(""),window.localStorage.setItem(i,e),c("Saved")},500);return()=>clearTimeout(r)},[e]);let f=0===d.length;return(0,t.jsx)("div",{className:"min-h-screen bg-kali-background px-4 py-10 text-kali-text",children:(0,t.jsxs)("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-8",children:[(0,t.jsxs)("section",{className:"relative overflow-hidden rounded-2xl border border-white/10 bg-kali-surface/90 p-8 text-[color:var(--kali-text)] shadow-kali-panel backdrop-blur-xl",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(140%_120%_at_50%_-30%,rgba(80,157,255,0.38),rgba(25,48,108,0.16)_45%,transparent)]"}),(0,t.jsx)("h1",{className:"text-3xl font-semibold text-kali-control",children:"Input Lab"}),(0,t.jsx)("p",{className:"mt-3 text-sm text-[color:color-mix(in_srgb,var(--kali-text)_80%,transparent)]",children:"Observe how browsers report keyboard input, IME composition, and caret movement. Every interaction you make with the field below is timestamped so you can compare event ordering across devices."}),(0,t.jsxs)("dl",{className:"mt-6 grid gap-4 text-xs text-[color:color-mix(in_srgb,var(--kali-text)_82%,transparent)] sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"rounded-lg border border-[color:color-mix(in_srgb,var(--kali-panel-border),transparent_30%)] bg-[color:color-mix(in_srgb,var(--kali-panel)_88%,transparent)] p-4 backdrop-blur",children:[(0,t.jsx)("dt",{className:"font-semibold uppercase tracking-wide text-[color:color-mix(in_srgb,var(--kali-text)_94%,transparent)]",children:"caret.start"}),(0,t.jsx)("dd",{className:"mt-1",children:"Selection anchor (cursor) position when the event fired."})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-[color:color-mix(in_srgb,var(--kali-panel-border),transparent_30%)] bg-[color:color-mix(in_srgb,var(--kali-panel)_88%,transparent)] p-4 backdrop-blur",children:[(0,t.jsx)("dt",{className:"font-semibold uppercase tracking-wide text-[color:color-mix(in_srgb,var(--kali-text)_94%,transparent)]",children:"caret.end"}),(0,t.jsx)("dd",{className:"mt-1",children:"Selection focus position; differs from start when text is highlighted."})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-[color:color-mix(in_srgb,var(--kali-panel-border),transparent_30%)] bg-[color:color-mix(in_srgb,var(--kali-panel)_88%,transparent)] p-4 backdrop-blur",children:[(0,t.jsx)("dt",{className:"font-semibold uppercase tracking-wide text-[color:color-mix(in_srgb,var(--kali-text)_94%,transparent)]",children:"caret.extra"}),(0,t.jsx)("dd",{className:"mt-1",children:"Additional metadata such as the trigger key or composition data."})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.3fr)_minmax(0,1fr)_minmax(0,1.4fr)]",children:[(0,t.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"flex flex-col gap-5 rounded-2xl border border-white/10 bg-kali-surface/80 p-6 text-[color:var(--kali-text)] shadow-kali-panel backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("label",{htmlFor:"input-lab-text",className:"text-sm font-medium tracking-wide text-[color:color-mix(in_srgb,var(--kali-text)_92%,transparent)]",id:"input-lab-text-label",children:[(0,t.jsx)("span",{className:"sr-only",children:"Text"}),(0,t.jsx)("span",{"aria-hidden":"true",children:"Payload input"})]}),(0,t.jsx)("input",{id:"input-lab-text",type:"text",value:e,onChange:e=>r(e.target.value),onCompositionStart:e=>g("compositionstart",{data:e.data}),onCompositionUpdate:e=>g("compositionupdate",{data:e.data}),onCompositionEnd:e=>g("compositionend",{data:e.data}),onSelect:h,onKeyUp:e=>{["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(e.key)&&h(e)},onClick:h,className:"w-full rounded-lg border border-[color:color-mix(in_srgb,var(--kali-panel-border),transparent_25%)] bg-kali-background/80 px-3 py-2 text-base text-[color:var(--kali-text)] placeholder:text-[color:color-mix(in_srgb,var(--kali-text)_55%,transparent)] focus:border-kali-control focus:outline-none focus:ring-2 focus:ring-kali-control/40","aria-label":"Text","aria-describedby":a?"input-lab-error":void 0}),a&&(0,t.jsx)("p",{id:"input-lab-error",className:"text-sm text-[color:color-mix(in_srgb,var(--kali-blue),#ff4d6d_55%)]",children:a})]}),(0,t.jsx)("div",{role:"status","aria-live":"polite",children:(0,t.jsxs)("div",{className:"rounded-xl border-l-4 px-4 py-3 text-sm transition-colors duration-300 ".concat(p?"border-[color:color-mix(in_srgb,var(--kali-blue),#ff4d6d_55%)] bg-[color:color-mix(in_srgb,var(--kali-panel)_88%,rgba(255,77,109,0.22))] text-[color:var(--kali-text)]":u?"border-[color:var(--kali-terminal-green)] bg-[color:color-mix(in_srgb,var(--kali-terminal-green),transparent_82%)] text-[color:var(--kali-terminal-text)]":"border-[color:var(--kali-blue)] bg-[color:color-mix(in_srgb,var(--kali-blue),transparent_86%)] text-[color:var(--kali-text)] motion-safe:animate-pulse motion-reduce:animate-none"),children:[(0,t.jsx)("p",{className:"font-semibold uppercase tracking-wide",children:p?"Unsafe payload detected":u?"Payload stored safely":"Status pending"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-[color:color-mix(in_srgb,var(--kali-text)_88%,transparent)]",children:b})]})})]}),(0,t.jsxs)("section",{className:"flex flex-col gap-4 rounded-2xl border border-white/10 bg-kali-surface/80 p-6 text-[color:var(--kali-text)] shadow-kali-panel backdrop-blur","aria-labelledby":"input-lab-sanitizer-guidance",children:[(0,t.jsx)("h2",{id:"input-lab-sanitizer-guidance",className:"text-sm font-semibold uppercase tracking-wide text-[color:color-mix(in_srgb,var(--kali-text)_92%,transparent)]",children:"Sanitizer guidance"}),(0,t.jsx)("p",{className:"text-sm text-[color:color-mix(in_srgb,var(--kali-text)_80%,transparent)]",children:"Pair the payload field with your sanitizer of choice and monitor the live status callout. Safe states highlight the sanitized result while unsafe states flag payloads that need revisions before rendering."}),(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("article",{className:"rounded-xl border border-[color:color-mix(in_srgb,var(--kali-terminal-green),transparent_75%)] bg-[color:color-mix(in_srgb,var(--kali-terminal-green),transparent_88%)] p-4 text-[color:var(--kali-terminal-text)] transition ".concat(u?"shadow-[0_0_0_1px_color-mix(in_srgb,var(--kali-terminal-green),transparent_65%)]":"opacity-70"),children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Safe outcome"}),(0,t.jsx)("p",{className:"mt-2 text-[color:color-mix(in_srgb,var(--kali-terminal-text),transparent_25%)]",children:"When the status reads â€œSavedâ€, the payload satisfied validation and is stored locally without modification. Use this state to confirm your sanitizer preserved the intended characters."})]}),(0,t.jsxs)("article",{className:"rounded-xl border border-[color:color-mix(in_srgb,var(--kali-blue),#ff4d6d_45%)] bg-[color:color-mix(in_srgb,var(--kali-panel)_85%,rgba(255,77,109,0.2))] p-4 text-[color:var(--kali-text)] transition ".concat(p?"shadow-[0_0_0_1px_color-mix(in_srgb,var(--kali-blue),#ff4d6d_45%)]":"opacity-70"),children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Unsafe outcome"}),(0,t.jsx)("p",{className:"mt-2 text-[color:color-mix(in_srgb,var(--kali-text)_88%,transparent)]",children:"Error states indicate the payload failed validation. Treat the input as unsafe and iterate on your sanitizer or payload until the status returns to a safe state."})]})]})]}),(0,t.jsxs)("section",{className:"flex flex-col rounded-2xl border border-white/10 bg-kali-background/70 p-6 text-[color:var(--kali-text)] shadow-inner shadow-black/40 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 text-[color:color-mix(in_srgb,var(--kali-text)_88%,transparent)]",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold uppercase tracking-wide",children:"Rendered preview"}),(0,t.jsx)("button",{type:"button",onClick:()=>{f||(()=>{let e=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),r=URL.createObjectURL(e),a=document.createElement("a");a.href=r,a.download="input-lab-log.json",a.click(),URL.revokeObjectURL(r)})()},className:"rounded-lg border border-white/10 bg-kali-control px-3 py-1 text-sm font-medium text-black transition focus:outline-none focus-visible:ring-2 focus-visible:ring-kali-control/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--kali-bg)] disabled:cursor-not-allowed disabled:opacity-60",disabled:f,children:"Export JSON"})]}),(0,t.jsx)("pre",{className:"mt-4 max-h-64 flex-1 overflow-y-auto rounded-lg border border-[color:color-mix(in_srgb,var(--kali-terminal-green),transparent_80%)] bg-[color:color-mix(in_srgb,var(--kali-panel)_82%,var(--kali-terminal-green)_12%)] p-4 text-xs text-[color:var(--kali-terminal-text)] shadow-inner shadow-black/40",children:(0,t.jsx)("code",{className:"block whitespace-pre-wrap font-mono text-[color:var(--kali-terminal-green)]",children:f?"Interact with the input field to begin logging events.":JSON.stringify(d,null,2)})})]})]})]})})}},46647:(e,r,a)=>{a.r(r),a.d(r,{default:()=>t.default});var t=a(23700)}}]);