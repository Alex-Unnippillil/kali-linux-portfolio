"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5223],{55223:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var n=t(37876),r=t(14232),l=t(56187),i=t(90209);let s=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("string"!=typeof e)return"rgba(0,0,0,".concat(a,")");let t=e.replace("#","");if(6!==t.length)return"rgba(0,0,0,".concat(a,")");let n=parseInt(t,16);return"rgba(".concat(n>>16&255,", ").concat(n>>8&255,", ").concat(255&n,", ").concat(a,")")};function o(e){let{theme:a}=e,[t,o]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),c=(null==a?void 0:a.accent)||"#1793d1",g=(null==a?void 0:a.useKaliWallpaper)?null:(null==a?void 0:a.wallpaperUrl)||null,p=(null==a?void 0:a.fallbackWallpaperUrl)||null,b=!d&&g||p,v=!(0,i.default)();(0,r.useEffect)(()=>{u(!1)},[g,p,null==a?void 0:a.useKaliWallpaper]),(0,r.useEffect)(()=>{if((null==a?void 0:a.useKaliWallpaper)||(null==a?void 0:a.overlay)||!b)return void o(!1);let e=!1,t=new Image;return t.src=b,t.onload=()=>{if(e)return;let a=document.createElement("canvas");a.width=t.width,a.height=t.height;let n=a.getContext("2d");if(!n)return void o(!1);n.drawImage(t,0,0,a.width,a.height);let r=n.getImageData(0,0,a.width,a.height).data,l=0,i=0,s=0,d=0;for(let e=0;e<r.length;e+=40)l+=r[e],i+=r[e+1],s+=r[e+2],d++;if(!d)return void o(!1);let u=l/d,c=i/d,g=s/d,p=e=>{let a=e/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)};o(1.05/(.2126*p(u)+.7152*p(c)+.0722*p(g)+.05)<4.5)},t.onerror=()=>{e||o(!1)},()=>{e=!0}},[b,null==a?void 0:a.useKaliWallpaper,null==a?void 0:a.overlay]);let f=(0,r.useMemo)(()=>{let e=s(c,.38),a=s(c,.16),t=s(c,.08);return["radial-gradient(circle at 18% 24%, ".concat(e," 0%, ").concat(a," 32%, rgba(0,0,0,0) 68%)"),"radial-gradient(circle at 82% 22%, rgba(56, 189, 248, 0.32) 0%, rgba(6, 20, 33, 0.08) 44%, rgba(0,0,0,0) 76%)","radial-gradient(circle at 78% 76%, ".concat(a," 0%, ").concat(t," 42%, rgba(0,0,0,0) 74%)")].join(", ")},[c]),m=(0,r.useMemo)(()=>{let e=s(c,.28),a=s(c,.12);return["radial-gradient(120% 120% at 12% 20%, ".concat(e," 0%, rgba(6, 18, 30, 0.5) 48%, rgba(0,0,0,0) 74%)"),"radial-gradient(120% 120% at 88% 18%, rgba(94, 234, 212, 0.28) 0%, rgba(8, 47, 73, 0.16) 44%, rgba(0,0,0,0) 78%)","radial-gradient(120% 160% at 60% 100%, ".concat(a," 0%, rgba(4, 16, 28, 0.42) 36%, rgba(0,0,0,0) 76%)")].join(", ")},[c]),x=(0,r.useMemo)(()=>"linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(15, 148, 210, 0.08) 1px, transparent 1px)",[]),h=(0,r.useMemo)(()=>"repeating-linear-gradient(0deg, rgba(255, 255, 255, 0.04) 0, rgba(255, 255, 255, 0.04) 1px, transparent 1px, transparent 6px), repeating-linear-gradient(90deg, rgba(15, 148, 210, 0.03) 0, rgba(15, 148, 210, 0.03) 1px, transparent 1px, transparent 5px)",[]),w=(0,r.useMemo)(()=>"linear-gradient(180deg, rgba(2, 10, 19, 0) 0%, rgba(4, 14, 26, 0.32) 52%, rgba(2, 8, 18, 0.82) 100%)",[]),y=(null==a?void 0:a.overlay)||(t?"linear-gradient(180deg, rgba(6, 12, 20, 0.65) 0%, rgba(3, 8, 16, 0.88) 92%)":null);return(0,n.jsxs)("div",{className:"absolute inset-0 -z-10 overflow-hidden pointer-events-none","aria-hidden":"true",children:[(null==a?void 0:a.useKaliWallpaper)?(0,n.jsx)(l.default,{className:"h-full w-full"}):b?(0,n.jsx)("img",{src:b,alt:"",className:"h-full w-full object-cover",style:{transform:"scale(1.05)"},onError:()=>{!d&&g&&p&&g!==p?u(!0):o(!1)}},b):null,y&&(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0",style:{background:y}}),(0,n.jsxs)("div",{className:"pointer-events-none absolute inset-0 mix-blend-screen",children:[(0,n.jsx)("div",{className:"absolute inset-0 opacity-75",style:{background:f}}),(0,n.jsx)("div",{className:"absolute",style:{top:"-32%",left:"-32%",right:"-32%",bottom:"-32%",background:m,opacity:.55,filter:"blur(60px)",transform:"rotate(0deg) scale(1)",animation:v?"ambientGlowDrift 42s ease-in-out infinite alternate":void 0}})]}),(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0 mix-blend-soft-light",style:{backgroundImage:x,backgroundSize:"120px 120px, 120px 120px",backgroundPosition:"0px 0px, 0px 0px",opacity:.28,animation:v?"ambientGridPan 48s linear infinite":void 0}}),(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0",style:{background:w}}),(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0",style:{backgroundImage:h,backgroundSize:"6px 6px, 5px 5px",opacity:.14,animation:v?"ambientNoisePulse 6s ease-in-out infinite alternate":void 0}})]})}},90209:(e,a,t)=>{t.d(a,{default:()=>l});var n=t(14232),r=t(74273);function l(){let{reducedMotion:e}=(0,r.useSettings)(),[a,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=window.matchMedia("(prefers-reduced-motion: reduce)"),a=()=>t(e.matches);return(a(),"function"==typeof e.addEventListener)?(e.addEventListener("change",a),()=>e.removeEventListener("change",a)):(e.addListener(a),()=>e.removeListener(a))},[]),e||a}}}]);