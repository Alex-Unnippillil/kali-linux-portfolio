"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9274],{3603:(e,t,n)=>{n.d(t,{default:()=>l});var r=n(37876),s=n(14232);let a={info:(0,r.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("path",{d:"M12 16v-4"}),(0,r.jsx)("path",{d:"M12 8h.01"})]}),success:(0,r.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,r.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),warning:(0,r.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,r.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,r.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),error:(0,r.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,r.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,r.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})},o={info:{bg:"bg-slate-900/95",border:"border-cyan-500/30",icon:"text-cyan-400",progress:"bg-cyan-400"},success:{bg:"bg-slate-900/95",border:"border-emerald-500/30",icon:"text-emerald-400",progress:"bg-emerald-400"},warning:{bg:"bg-slate-900/95",border:"border-amber-500/30",icon:"text-amber-400",progress:"bg-amber-400"},error:{bg:"bg-slate-900/95",border:"border-red-500/30",icon:"text-red-400",progress:"bg-red-400"}},l=e=>{let{message:t,type:n="info",title:l,actionLabel:c,onAction:i,onClose:u,duration:d=5e3,position:m="bottom"}=e,x=(0,s.useRef)(null),[h,b]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),[g,p]=(0,s.useState)(100),w=o[n],j=a[n],k=()=>{v(!0),setTimeout(()=>{null==u||u()},200)};return(0,s.useEffect)(()=>{let e=setTimeout(()=>b(!0),10),t=Date.now(),n=setInterval(()=>{let e=Math.max(0,100-(Date.now()-t)/d*100);p(e),e<=0&&clearInterval(n)},50);return x.current=setTimeout(k,d),()=>{clearTimeout(e),clearInterval(n),x.current&&clearTimeout(x.current)}},[d]),(0,r.jsxs)("div",{role:"status","aria-live":"polite",className:"\n        fixed left-1/2 -translate-x-1/2 z-[9999]\n        max-w-sm w-[calc(100vw-2rem)] sm:w-auto sm:min-w-[320px]\n        ".concat(w.bg," ").concat(w.border,"\n        border backdrop-blur-xl\n        rounded-xl shadow-2xl shadow-black/30\n        overflow-hidden\n        transform transition-all duration-300 ease-out\n        ").concat("top"===m?"top-4 ".concat(h&&!f?"translate-y-0 opacity-100":"-translate-y-full opacity-0"):"bottom-4 ".concat(h&&!f?"translate-y-0 opacity-100":"translate-y-full opacity-0"),"\n      "),children:[(0,r.jsxs)("div",{className:"flex items-start gap-3 px-4 py-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mt-0.5 ".concat(w.icon),children:j}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[l&&(0,r.jsx)("p",{className:"text-sm font-semibold text-white mb-0.5",children:l}),(0,r.jsx)("p",{className:"text-sm text-white/80 break-words",children:t})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i&&c&&(0,r.jsx)("button",{onClick:()=>{i(),k()},className:"text-xs font-semibold ".concat(w.icon," hover:underline focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400 rounded px-1"),children:c}),(0,r.jsx)("button",{onClick:k,className:"p-1 rounded-md text-white/50 hover:text-white hover:bg-white/10 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400","aria-label":"Dismiss",children:(0,r.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),(0,r.jsx)("div",{className:"h-0.5 w-full bg-white/5",children:(0,r.jsx)("div",{className:"h-full ".concat(w.progress," transition-all duration-100 ease-linear"),style:{width:"".concat(g,"%")}})})]})}},10830:(e,t,n)=>{n.d(t,{default:()=>s});var r=n(37876);function s(e){let{onDirection:t,onButton:n}=e,s=(e,n)=>()=>null==t?void 0:t({x:e,y:n}),a=e=>()=>null==n?void 0:n(e);return(0,r.jsxs)("div",{className:"virtual-pad",children:[(0,r.jsxs)("div",{className:"dpad",children:[(0,r.jsx)("button",{className:"up",onPointerDown:s(0,-1)}),(0,r.jsxs)("div",{className:"middle",children:[(0,r.jsx)("button",{className:"left",onPointerDown:s(-1,0)}),(0,r.jsx)("button",{className:"right",onPointerDown:s(1,0)})]}),(0,r.jsx)("button",{className:"down",onPointerDown:s(0,1)})]}),(0,r.jsxs)("div",{className:"actions",children:[(0,r.jsx)("button",{className:"btn-a",onPointerDown:a("A"),children:"A"}),(0,r.jsx)("button",{className:"btn-b",onPointerDown:a("B"),children:"B"})]})]})}n(14232)},35539:(e,t,n)=>{n.d(t,{default:()=>s});var r=n(14232);function s(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,r.useRef)(e);n.current=e,(0,r.useEffect)(()=>{let e;if(!t)return;let r=performance.now(),s=t=>{let a=(t-r)/1e3;r=t,n.current(a),e=requestAnimationFrame(s)};return e=requestAnimationFrame(s),()=>cancelAnimationFrame(e)},[t])}},42318:(e,t,n)=>{n.d(t,{default:()=>s});var r=n(14232);function s(){let[e,t]=(0,r.useState)({buttons:[],axes:[],connected:!1});return(0,r.useEffect)(()=>{let e=()=>t(e=>({...e,connected:!0})),n=()=>t({buttons:[],axes:[],connected:!1});return window.addEventListener("gamepadconnected",e),window.addEventListener("gamepaddisconnected",n),()=>{window.removeEventListener("gamepadconnected",e),window.removeEventListener("gamepaddisconnected",n)}},[]),(0,r.useEffect)(()=>{let n,r=()=>{var s,a;let o=null==(s=(a=navigator).getGamepads)?void 0:s.call(a),l=o&&o[0];l?t({buttons:l.buttons.map(e=>e.value),axes:Array.from(l.axes),connected:!0}):e.connected&&t({buttons:[],axes:[],connected:!1}),n=requestAnimationFrame(r)};return n=requestAnimationFrame(r),()=>cancelAnimationFrame(n)},[e.connected]),e}},66893:(e,t,n)=>{n.d(t,{Overlay:()=>o,VirtualPad:()=>l.default,useGameLoop:()=>i.default,useGamepad:()=>c.default,useLeaderboard:()=>m,useSaveSlots:()=>d});var r=n(37876),s=n(14232),a=n(3603);function o(e){let{onPause:t,onResume:n,paused:o,muted:l,onToggleSound:c,onReset:i}=e,[u,d]=(0,s.useState)(null!=o&&o),[m,x]=(0,s.useState)(null!=l&&l),[h,b]=(0,s.useState)(0),f=(0,s.useRef)(performance.now()),v=(0,s.useRef)(0),[g,p]=(0,s.useState)(""),w=(0,s.useRef)(!1);(0,s.useEffect)(()=>{let e,t=n=>{v.current+=1,n-f.current>=1e3&&(b(v.current),v.current=0,f.current=n),e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>cancelAnimationFrame(e)},[]);let j=(0,s.useCallback)(()=>{d(e=>{let r=!(void 0!==o?o:e);return r?null==t||t():null==n||n(),r})},[o,t,n]),k=(0,s.useCallback)(()=>{x(e=>{let t=!e;return null==c||c(t),t})},[c]);return(0,s.useEffect)(()=>{void 0!==l&&x(l)},[l]),(0,s.useEffect)(()=>{void 0!==o&&d(o)},[o]),(0,s.useEffect)(()=>{let e=()=>{w.current=!0,p("Controller disconnected. Reconnect to resume."),d(!0),null==t||t()},r=()=>{w.current&&(w.current=!1,p(""),d(!1),null==n||n())};return window.addEventListener("gamepaddisconnected",e),window.addEventListener("gamepadconnected",r),()=>{window.removeEventListener("gamepaddisconnected",e),window.removeEventListener("gamepadconnected",r)}},[t,n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"game-overlay",children:[(0,r.jsx)("button",{type:"button",onClick:j,"aria-label":u?"Resume":"Pause",children:u?"Resume":"Pause"}),i&&(0,r.jsx)("button",{type:"button",onClick:i,"aria-label":"Reset Game",children:"Reset"}),(0,r.jsx)("button",{type:"button",onClick:k,"aria-label":m?"Unmute":"Mute",children:m?"Unmute":"Mute"}),(0,r.jsxs)("span",{className:"fps",children:[h," FPS"]})]}),g&&(0,r.jsx)(a.default,{message:g,onClose:()=>p(""),duration:1e6})]})}var l=n(10830),c=n(42318),i=n(35539);let u="game-slot:";function d(e){let t=(0,s.useCallback)(t=>"".concat(u).concat(e,":").concat(t),[e]),n=(0,s.useCallback)((e,n)=>{try{localStorage.setItem(t(e),JSON.stringify(n))}catch(e){}},[t]),r=(0,s.useCallback)(e=>{try{let n=localStorage.getItem(t(e));return n?JSON.parse(n):null}catch(e){return null}},[t]);return{save:n,load:r,remove:(0,s.useCallback)(e=>{try{localStorage.removeItem(t(e))}catch(e){}},[t]),list:(0,s.useCallback)(()=>{try{return Object.keys(localStorage).filter(t=>t.startsWith("".concat(u).concat(e,":"))).map(e=>e.split(":").pop())}catch(e){return[]}},[e])}}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="".concat("leaderboard:").concat(e),[r,a]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=localStorage.getItem(n);e&&a(JSON.parse(e))},[n]);let o=(0,s.useCallback)((e,s)=>{let o=[...r,{name:e,score:s,date:Date.now()}].sort((e,t)=>t.score-e.score).slice(0,t);a(o),localStorage.setItem(n,JSON.stringify(o))},[r,n,t]);return{scores:r,addScore:o}}}}]);