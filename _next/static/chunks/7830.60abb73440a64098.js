(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7830],{17894:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});var l=a(14232);function r(e,t){let[a,r]=(0,l.useState)(t),[n,s]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let a=!0;return(async()=>{var l;if(!(null==(l=navigator.storage)?void 0:l.getDirectory))return s(!0);try{let l=await navigator.storage.getDirectory();try{let t=await l.getFileHandle(e),n=await t.getFile(),s=await n.text();a&&r(JSON.parse(s))}catch(n){let a=await l.getFileHandle(e,{create:!0}),r=await a.createWritable();await r.write(JSON.stringify(t)),await r.close()}}catch(e){}a&&s(!0)})(),()=>{a=!1}},[e,t]),[a,(0,l.useCallback)(async t=>{var a;if(r(t),null==(a=navigator.storage)?void 0:a.getDirectory)try{let a=await navigator.storage.getDirectory(),l=await a.getFileHandle(e,{create:!0}),r=await l.createWritable();await r.write(JSON.stringify(t)),await r.close()}catch(e){}},[e]),n]}},41234:()=>{},67779:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p,generatePuzzle:()=>x});var l=a(37876),r=a(14232),n=a(92629),s=a.n(n),o=a(17894);let i={tech:{language:"en",words:["REACT","CODE","TAILWIND","NODE","JAVASCRIPT","HTML","CSS","PYTHON"]},animals:{language:"en",words:["DOG","CAT","EAGLE","TIGER","HORSE","SHARK","SNAKE","LION"]},fruits:{language:"en",words:["APPLE","BANANA","ORANGE","GRAPE","MANGO","LEMON","PEACH","CHERRY"]},colors:{language:"en",words:["RED","BLUE","GREEN","YELLOW","PURPLE","ORANGE","BLACK","WHITE"]}},c={en:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",es:"ABCDEFGHIJKLMN\xd1OPQRSTUVWXYZ",fr:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",de:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},u={easy:{size:10,count:5},medium:{size:12,count:8},hard:{size:15,count:10}},d=(e,t)=>{let[a,l]=(0,r.useState)(()=>{{let t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){}}return"function"==typeof t?t():t});return(0,r.useEffect)(()=>{window.localStorage.setItem(e,JSON.stringify(a))},[e,a]),[a,l]},h=(e,t)=>t[Math.floor(e()*t.length)],g=[{dx:1,dy:0},{dx:-1,dy:0},{dx:0,dy:1},{dx:0,dy:-1}],f=[...g,{dx:1,dy:1},{dx:-1,dy:-1},{dx:1,dy:-1},{dx:-1,dy:1}],x=function(e,t,a,l){let r=!(arguments.length>4)||void 0===arguments[4]||arguments[4],n=Array.from({length:e},()=>Array(e).fill("")),s={};t.forEach(t=>{let l=!1;for(let o=0;o<100&&!l;o++){let o=r?f:g,i=o[Math.floor(a()*o.length)],c=i.dy>0?e-t.length:i.dy<0?t.length-1:e-1,u=i.dx>0?e-t.length:i.dx<0?t.length-1:e-1,d=Math.floor(a()*(c+1)),h=Math.floor(a()*(u+1)),x=!0;for(let e=0;e<t.length;e++){let a=d+i.dy*e,l=h+i.dx*e;if(n[a][l]&&n[a][l]!==t[e]){x=!1;break}}if(x){for(let e=0;e<t.length;e++){let a=d+i.dy*e,l=h+i.dx*e;n[a][l]=t[e]}s[t]={row:d,col:h,dx:i.dx,dy:i.dy},l=!0}}});for(let t=0;t<e;t++)for(let r=0;r<e;r++)n[t][r]||(n[t][r]=h(a,l));return{grid:n,placements:s,words:t}},p=()=>{let[e,t]=d("wordsearch-difficulty","easy"),[a,n]=d("wordsearch-list","random"),[h,g]=d("wordsearch-language","en"),[f,p]=d("wordsearch-seed",()=>Math.random().toString(36).slice(2,10)),[m,v,y]=(0,o.default)("wordsearch-lists.json",{}),w={...i,...m},b=c[h]||c.en,{size:j,count:N}=u[e],[S,C]=d("wordsearch-best-times",{}),[E,k]=d("wordsearch-sound",!0),[M,A]=d("wordsearch-diagonals",!0),[R,O]=d("wordsearch-challenge",!1),[L,T]=d("wordsearch-time-limit",120),[D,P]=d("wordsearch-streak",0),[G,H]=(0,r.useState)(""),[I,F]=(0,r.useState)(""),[U,B]=(0,r.useState)("en"),[J,W]=(0,r.useState)({grid:[],placements:{},words:[]}),{grid:Y,placements:z,words:K}=J,X=36*j-4,[V,Q]=(0,r.useState)([]),[Z,_]=(0,r.useState)([]),[q,$]=(0,r.useState)(R?L:0),[ee,et]=(0,r.useState)(!1),[ea,el]=(0,r.useState)(null),[er,en]=(0,r.useState)(null),[es,eo]=(0,r.useState)(!1),[ei,ec]=(0,r.useState)([]),[eu,ed]=(0,r.useState)([]),[eh,eg]=(0,r.useState)([]),ef=(0,r.useRef)([]),ex=(0,r.useRef)(!1),[ep,em]=(0,r.useState)(""),ev=(0,r.useRef)(null),ey=(0,r.useRef)(null);(0,r.useEffect)(()=>{ex.current=window.matchMedia("(prefers-reduced-motion: reduce)").matches},[]),(0,r.useEffect)(()=>{if(y){{let e=new URLSearchParams(window.location.search).get("seed");if(e){p(e),eS(!0,e);return}}eS(!0,f)}},[y]),(0,r.useEffect)(()=>(ee||(ev.current=setInterval(()=>$(e=>R?e-1:e+1),1e3)),()=>{ev.current&&clearInterval(ev.current)}),[ee,R]),(0,r.useEffect)(()=>{R&&q<=0&&(P(0),eS(!0))},[R,q]),(0,r.useEffect)(()=>{K.length&&V.length===K.length&&(et(!0),C(t=>{let a=t[e];return!a||q<a?{...t,[e]:q}:t}),P(e=>e+1),setTimeout(()=>eS(!1),500))},[V,K,q,e,C]),(0,r.useEffect)(()=>{ea&&er&&ec(((e,t)=>{if(!e||!t)return[];let[a,l]=e,[r,n]=t,s=Math.sign(n-l),o=Math.sign(r-a),i=Math.max(Math.abs(n-l),Math.abs(r-a));if(0!==s&&0!==o&&Math.abs(n-l)!==Math.abs(r-a))return[];let c=[];for(let e=0;e<=i;e++)c.push([a+o*e,l+s*e]);return c})(ea,er))},[ea,er]),(0,r.useEffect)(()=>{let e;if(!eh.length||ex.current)return;let t=ef.current[eh.length-1];if(!t)return;let a=t.getTotalLength();t.style.strokeDasharray=a,t.style.strokeDashoffset=a;let l=r=>{void 0===e&&(e=r);let n=Math.min((r-e)/600,1);t.style.strokeDashoffset=a*(1-n),n<1&&requestAnimationFrame(l)};requestAnimationFrame(l)},[eh]),(0,r.useEffect)(()=>{y&&eS(!0)},[e,a,R,L,h,y]);let ew=(e,t)=>{ee||(el([e,t]),en([e,t]),eo(!0))},eb=(e,t)=>{!ee&&es&&en([e,t])},ej=()=>{if(ei.length&&!ee){let e=ei.map(e=>{let[t,a]=e;return Y[t][a]}).join(""),t=e.split("").reverse().join(""),a=K.find(a=>a===e||a===t);a&&!V.includes(a)&&(Q([...V,a]),_([...Z,...ei]),eg(e=>[...e,{word:a,path:ei}]),em("".concat(a," found")),(()=>{if(E)try{let e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),a=e.createGain();t.connect(a),a.connect(e.destination),t.frequency.value=600,t.start(),setTimeout(()=>{t.stop(),e.close()},150)}catch(e){}})())}eo(!1),el(null),en(null),ec([])},eN=e=>{e.preventDefault(),ej()};function eS(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1?arguments[1]:void 0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,r=t||Math.random().toString(36).slice(2,10);p(r);let n=s()(r);W(x(j,((e,t,a,l,r)=>{let n;if(t&&l[t])n=l[t].words;else{var s;let e=Object.values(l).filter(e=>!r||e.language===r);n=(null==(s=e[Math.floor(a()*e.length)])?void 0:s.words)||[]}return[...n].sort(()=>a()-.5).slice(0,e)})(N,"random"===a?void 0:a,n,w,h),n,b,l)),Q([]),_([]),$(R?L:0),ed([]),el(null),en(null),ec([]),eg([]),ef.current=[],em(""),et(!1),e&&P(0)}return(0,l.jsxs)("div",{className:"h-full w-full flex items-start justify-center bg-ub-cool-grey text-white p-4 select-none",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("div",{className:"relative mr-4",style:{width:X,height:X},onMouseLeave:ej,children:[(0,l.jsx)("div",{ref:ey,className:"grid gap-1",style:{gridTemplateColumns:"repeat(".concat(j,", 2rem)"),touchAction:"none"},onTouchStart:e=>{if(e.preventDefault(),ee)return;let t=e.touches[0],a=ey.current.getBoundingClientRect(),l=Math.floor((t.clientX-a.left)/36),r=Math.floor((t.clientY-a.top)/36);r>=0&&r<j&&l>=0&&l<j&&ew(r,l)},onTouchMove:e=>{if(e.preventDefault(),ee||!es)return;let t=e.touches[0],a=ey.current.getBoundingClientRect(),l=Math.floor((t.clientX-a.left)/36),r=Math.floor((t.clientY-a.top)/36);r>=0&&r<j&&l>=0&&l<j&&eb(r,l)},onTouchEnd:eN,onTouchCancel:eN,children:Y.map((e,t)=>e.map((e,a)=>{let r=ei.some(e=>{let[l,r]=e;return l===t&&r===a}),n=Z.some(e=>{let[l,r]=e;return l===t&&r===a}),s=eu.some(e=>{let[l,r]=e;return l===t&&r===a});return(0,l.jsx)("div",{onMouseDown:()=>ew(t,a),onMouseEnter:()=>eb(t,a),onMouseUp:ej,className:"h-8 w-8 flex items-center justify-center border border-gray-600 cursor-pointer ".concat(n?"bg-green-600":s?"bg-yellow-600":r?"bg-blue-600":"bg-gray-700"),children:e},"".concat(t,"-").concat(a))}))}),(0,l.jsx)("svg",{className:"absolute top-0 left-0 pointer-events-none",width:X,height:X,children:eh.map((e,t)=>(0,l.jsx)("polyline",{ref:e=>ef.current[t]=e,points:e.path.map(e=>{let[t,a]=e;return"".concat(36*a+16,",").concat(36*t+16)}).join(" "),stroke:"rgb(250 204 21)",strokeWidth:"4",fill:"none",strokeLinecap:"round"},e.word))})]}),(0,l.jsxs)("div",{className:"flex flex-col w-48",children:[(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsxs)("div",{children:["Time: ",q,"s"," ",void 0!==S[e]&&"| Best: ".concat(S[e],"s")]}),(0,l.jsxs)("div",{children:["Found: ",V.length,"/",K.length]}),(0,l.jsxs)("div",{children:["Streak: ",D]})]}),(0,l.jsx)("div",{className:"flex-1 overflow-auto border border-gray-600 p-2 mb-2",children:K.map(e=>(0,l.jsx)("div",{className:V.includes(e)?"line-through text-green-400":"",children:e},e))}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("button",{className:"px-4 py-1 bg-gray-700 hover:bg-gray-600",onClick:()=>{let e=K.filter(e=>!V.includes(e));if(!e.length)return;let t=e[Math.floor(Math.random()*e.length)],{row:a,col:l,dx:r,dy:n}=z[t],s=[];for(let e=0;e<t.length;e++){let t=a+n*e,o=l+r*e;s.push([t,o])}ed(s),setTimeout(()=>ed([]),1e3)},children:"Hint"}),(0,l.jsx)("button",{className:"px-4 py-1 bg-gray-700 hover:bg-gray-600",onClick:()=>eS(!0),children:"New Puzzle"}),(0,l.jsx)("button",{className:"px-4 py-1 bg-gray-700 hover:bg-gray-600",onClick:()=>et(e=>!e),children:ee?"Resume":"Pause"}),(0,l.jsx)("button",{className:"px-4 py-1 bg-gray-700 hover:bg-gray-600",onClick:()=>k(e=>!e),children:E?"Sound Off":"Sound On"}),(0,l.jsxs)("label",{className:"flex items-center gap-1",children:[(0,l.jsx)("input",{type:"checkbox",checked:M,onChange:e=>{let t=e.target.checked;A(t),eS(!0,void 0,t)}}),(0,l.jsx)("span",{children:"Allow Diagonals"})]}),(0,l.jsxs)("label",{className:"flex items-center gap-1",children:[(0,l.jsx)("input",{type:"checkbox",checked:R,onChange:e=>O(e.target.checked)}),(0,l.jsx)("span",{children:"Timed Mode"})]}),R&&(0,l.jsxs)("select",{className:"px-2 py-1 text-black",value:L,onChange:e=>T(Number(e.target.value)),children:[(0,l.jsx)("option",{value:60,children:"60s"}),(0,l.jsx)("option",{value:120,children:"120s"}),(0,l.jsx)("option",{value:180,children:"180s"})]}),(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("input",{className:"px-2 py-1 text-black flex-1",value:f,onChange:e=>p(e.target.value)}),(0,l.jsx)("button",{className:"px-2 py-1 bg-gray-700 hover:bg-gray-600",onClick:()=>eS(!0,f),children:"Load"})]}),(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("button",{className:"flex-1 px-4 py-1 bg-gray-700 hover:bg-gray-600",onClick:()=>{var e;let t=new URL(window.location.href);t.searchParams.set("seed",f),t.searchParams.set("list",a),t.searchParams.set("lang",h),null==(e=navigator.clipboard)||e.writeText(t.toString())},children:"Share"}),(0,l.jsx)("button",{className:"flex-1 px-4 py-1 bg-gray-700 hover:bg-gray-600",onClick:()=>window.print(),children:"Print"})]}),(0,l.jsxs)("select",{className:"px-2 py-1 text-black",value:h,onChange:e=>g(e.target.value),children:[(0,l.jsx)("option",{value:"en",children:"English"}),(0,l.jsx)("option",{value:"es",children:"Spanish"}),(0,l.jsx)("option",{value:"fr",children:"French"}),(0,l.jsx)("option",{value:"de",children:"German"})]}),(0,l.jsxs)("select",{className:"px-2 py-1 text-black",value:a,onChange:e=>{n(e.target.value);let t=w[e.target.value];(null==t?void 0:t.language)&&g(t.language)},children:[(0,l.jsx)("option",{value:"random",children:"Random List"}),Object.keys(w).map(e=>(0,l.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,l.jsx)("select",{className:"px-2 py-1 text-black",value:e,onChange:e=>t(e.target.value),children:Object.keys(u).map(e=>(0,l.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,l.jsxs)("div",{className:"border border-gray-600 p-2 flex flex-col gap-1",children:[(0,l.jsx)("input",{className:"px-1 text-black",placeholder:"List name",value:G,onChange:e=>H(e.target.value)}),(0,l.jsxs)("select",{className:"px-2 py-1 text-black",value:U,onChange:e=>B(e.target.value),children:[(0,l.jsx)("option",{value:"en",children:"English"}),(0,l.jsx)("option",{value:"es",children:"Spanish"}),(0,l.jsx)("option",{value:"fr",children:"French"}),(0,l.jsx)("option",{value:"de",children:"German"})]}),(0,l.jsx)("textarea",{className:"px-1 text-black",placeholder:"Comma separated words",value:I,onChange:e=>F(e.target.value)}),(0,l.jsx)("button",{className:"px-2 py-1 bg-gray-700 hover:bg-gray-600",onClick:()=>{if(!G.trim()||!I.trim())return;let e=I.split(",").map(e=>e.trim().toUpperCase()).filter(Boolean);e.length&&(v({...m,[G]:{language:U,words:e}}),H(""),F(""))},children:"Save List"})]})]})]})]}),(0,l.jsx)("div",{"aria-live":"polite",className:"sr-only",children:ep})]})}}}]);