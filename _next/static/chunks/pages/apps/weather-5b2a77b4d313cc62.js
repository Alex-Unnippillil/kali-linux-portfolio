(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6409],{54114:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>v});var t=a(37876),i=a(14232),n=a(95220);let l={clear:{key:"clear",gradient:"linear-gradient(135deg, #0f172a 0%, #2563eb 50%, #facc15 100%)",accent:"#facc15",icon:"☀️",overlayOpacity:.25},partlyCloudy:{key:"partlyCloudy",gradient:"linear-gradient(135deg, #1e293b 0%, #3b82f6 40%, #a855f7 100%)",accent:"#a855f7",icon:"\uD83C\uDF24️",overlayOpacity:.3},overcast:{key:"overcast",gradient:"linear-gradient(135deg, #0f172a 0%, #334155 60%, #94a3b8 100%)",accent:"#94a3b8",icon:"☁️",overlayOpacity:.45},storm:{key:"storm",gradient:"linear-gradient(135deg, #020617 0%, #1d4ed8 45%, #7c3aed 100%)",accent:"#60a5fa",icon:"⛈️",overlayOpacity:.35},rain:{key:"rain",gradient:"linear-gradient(135deg, #082f49 0%, #0ea5e9 55%, #22d3ee 100%)",accent:"#22d3ee",icon:"\uD83C\uDF27️",overlayOpacity:.38},snow:{key:"snow",gradient:"linear-gradient(135deg, #0f172a 0%, #1e40af 45%, #e0f2fe 100%)",accent:"#e0f2fe",icon:"❄️",overlayOpacity:.28},default:{key:"default",gradient:"linear-gradient(135deg, #111827 0%, #1f2937 55%, #4b5563 100%)",accent:"#38bdf8",icon:"\uD83C\uDF21️",overlayOpacity:.4}},o=[{id:"sf",name:"San Francisco",region:"California, USA",summary:"Marine layer thinning by lunch with a breezy northwest wind.",background:"partlyCloudy",current:{temperatureC:17,feelsLikeC:16,condition:"Partly cloudy",humidity:72,windKph:22,windDirection:"NW",pressureHpa:1015,visibilityKm:14,dewPointC:12,uvIndex:5,sunrise:"06:34",sunset:"19:42"},hourly:[{label:"09:00",temperatureC:15,conditionKey:"overcast",precipitationChance:10},{label:"12:00",temperatureC:17,conditionKey:"partlyCloudy",precipitationChance:5},{label:"15:00",temperatureC:19,conditionKey:"clear",precipitationChance:0},{label:"18:00",temperatureC:16,conditionKey:"partlyCloudy",precipitationChance:10},{label:"21:00",temperatureC:14,conditionKey:"overcast",precipitationChance:20}]},{id:"tokyo",name:"Tokyo",region:"Kantō, Japan",summary:"Humid air ahead of an evening thunderstorm line.",background:"storm",current:{temperatureC:24,feelsLikeC:27,condition:"Humid with building clouds",humidity:84,windKph:18,windDirection:"SE",pressureHpa:1002,visibilityKm:11,dewPointC:21,uvIndex:7,sunrise:"05:07",sunset:"18:23"},hourly:[{label:"09:00",temperatureC:22,conditionKey:"overcast",precipitationChance:15},{label:"12:00",temperatureC:25,conditionKey:"partlyCloudy",precipitationChance:20},{label:"15:00",temperatureC:27,conditionKey:"storm",precipitationChance:60},{label:"18:00",temperatureC:23,conditionKey:"storm",precipitationChance:75},{label:"21:00",temperatureC:21,conditionKey:"rain",precipitationChance:80}]},{id:"reykjavik",name:"Reykjav\xedk",region:"Iceland",summary:"Cold Arctic air delivering pockets of sleet and snow.",background:"snow",current:{temperatureC:2,feelsLikeC:-2,condition:"Wintry mix",humidity:90,windKph:32,windDirection:"N",pressureHpa:1008,visibilityKm:6,dewPointC:1,uvIndex:1,sunrise:"07:21",sunset:"18:52"},hourly:[{label:"09:00",temperatureC:1,conditionKey:"snow",precipitationChance:60},{label:"12:00",temperatureC:2,conditionKey:"overcast",precipitationChance:40},{label:"15:00",temperatureC:3,conditionKey:"snow",precipitationChance:70},{label:"18:00",temperatureC:1,conditionKey:"snow",precipitationChance:65},{label:"21:00",temperatureC:-1,conditionKey:"overcast",precipitationChance:45}]}],s=new Set(o.map(e=>e.id)),c=e=>"string"==typeof e&&s.has(e),d=e=>"metric"===e||"imperial"===e,p=(e,r)=>"number"!=typeof e?"—":"imperial"===r?"".concat(Math.round(9*e/5+32),"\xb0F"):"".concat(Math.round(e),"\xb0C");function m(e){let{theme:r,children:a}=e;return(0,t.jsxs)("div",{className:"relative flex h-full w-full flex-col overflow-hidden text-[color:var(--kali-text)]",style:{background:r.gradient,transition:"background 700ms ease, filter 700ms ease",filter:"saturate(110%)"},children:[(0,t.jsx)("div",{"aria-hidden":"true",className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.18),_transparent_60%)]",style:{opacity:r.overlayOpacity}}),(0,t.jsx)("div",{"aria-hidden":"true",className:"pointer-events-none absolute -right-10 top-6 text-8xl text-white/40 drop-shadow-lg sm:-right-6 sm:text-9xl",children:r.icon}),(0,t.jsx)("div",{className:"absolute inset-0 bg-[color:color-mix(in_srgb,var(--kali-panel)_45%,transparent)] mix-blend-soft-light"}),(0,t.jsx)("div",{className:"relative z-10 flex h-full w-full flex-col backdrop-blur-[18px]",children:a})]})}function x(e){let{label:r,options:a,value:i,onChange:n}=e;return(0,t.jsx)("div",{className:"flex flex-col gap-2",role:"radiogroup","aria-label":r,children:(0,t.jsx)("div",{className:"inline-flex overflow-hidden rounded-lg border border-[color:color-mix(in_srgb,var(--kali-panel-border)_85%,transparent)] bg-[color:color-mix(in_srgb,var(--kali-panel)_78%,transparent)] shadow-[0_8px_24px_rgba(15,23,42,0.3)]",children:a.map((e,r)=>{var a;let l=e.value===i;return(0,t.jsxs)("button",{type:"button",role:"radio","aria-checked":l,"aria-label":null!=(a=e.ariaLabel)?a:e.label,onClick:()=>n(e.value),className:"relative flex min-w-[6.5rem] flex-1 flex-col gap-1 px-3 py-2 text-left text-xs font-medium uppercase tracking-wide transition-all sm:text-sm ".concat(r>0?"border-l border-[color:color-mix(in_srgb,var(--kali-panel-border)_85%,transparent)]":""," ").concat(l?"bg-kali-control text-black shadow-[0_0_24px_rgba(15,148,210,0.45)]":"text-[color:color-mix(in_srgb,var(--kali-text)_75%,transparent)] hover:bg-[color:color-mix(in_srgb,var(--kali-panel)_88%,transparent)]"),children:[(0,t.jsx)("span",{children:e.label}),e.description?(0,t.jsx)("span",{className:"text-[0.65rem] font-normal normal-case text-[color:color-mix(in_srgb,var(--kali-text)_60%,transparent)]",children:e.description}):null]},e.value)})})})}function u(e){let{id:r,title:a,subtitle:i,accent:n,mounted:l,children:o}=e;return(0,t.jsxs)("section",{"aria-labelledby":r,className:"group rounded-xl border border-[color:color-mix(in_srgb,var(--kali-panel-border)_80%,transparent)] bg-[color:color-mix(in_srgb,var(--kali-panel)_80%,transparent)] p-4 shadow-[0_12px_32px_rgba(15,23,42,0.35)] transition-all duration-500 ease-out ".concat(l?"translate-y-0 opacity-100":"translate-y-3 opacity-0"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4 pb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{id:r,className:"text-xs font-semibold uppercase tracking-[0.3em] text-[color:color-mix(in_srgb,var(--kali-text)_70%,transparent)]",children:a}),i?(0,t.jsx)("p",{className:"mt-1 text-sm text-[color:color-mix(in_srgb,var(--kali-text)_80%,transparent)]",children:i}):null]}),(0,t.jsx)("div",{"aria-hidden":"true",className:"h-2 w-12 rounded-full",style:{background:n}})]}),(0,t.jsx)("div",{className:"space-y-3 text-sm text-[color:color-mix(in_srgb,var(--kali-text)_90%,transparent)]",children:o})]})}function b(e){var r,a;let{city:i,units:n}=e;return(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("div",{className:"text-5xl font-semibold leading-tight",children:p(i.current.temperatureC,n)}),(0,t.jsx)("div",{className:"text-sm uppercase tracking-[0.25em] text-[color:color-mix(in_srgb,var(--kali-text)_65%,transparent)]",children:i.current.condition}),(0,t.jsx)("p",{className:"mt-3 text-sm leading-relaxed text-[color:color-mix(in_srgb,var(--kali-text)_80%,transparent)]",children:i.summary})]}),(0,t.jsxs)("dl",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-[color:color-mix(in_srgb,var(--kali-text)_65%,transparent)]",children:"Feels Like"}),(0,t.jsx)("dd",{className:"text-base font-medium",children:p(i.current.feelsLikeC,n)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-[color:color-mix(in_srgb,var(--kali-text)_65%,transparent)]",children:"Wind"}),(0,t.jsxs)("dd",{className:"text-base font-medium",children:[(r=i.current.windKph,"number"!=typeof r?"—":"imperial"===n?"".concat(Math.round(r/1.609)," mph"):"".concat(Math.round(r)," km/h"))," ",i.current.windDirection]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-[color:color-mix(in_srgb,var(--kali-text)_65%,transparent)]",children:"Humidity"}),(0,t.jsxs)("dd",{className:"text-base font-medium",children:[i.current.humidity,"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-[color:color-mix(in_srgb,var(--kali-text)_65%,transparent)]",children:"Pressure"}),(0,t.jsx)("dd",{className:"text-base font-medium",children:(a=i.current.pressureHpa,"number"!=typeof a?"—":"imperial"===n?"".concat(Math.round(.02953*a)," inHg"):"".concat(Math.round(a)," hPa"))})]})]})]})}function h(e){let{city:r,units:a}=e;return(0,t.jsx)("div",{className:"-mx-1 flex gap-2 overflow-x-auto px-1 py-1 text-xs uppercase tracking-wide text-[color:color-mix(in_srgb,var(--kali-text)_75%,transparent)] scrollbar-thin scrollbar-track-transparent scrollbar-thumb-[color:color-mix(in_srgb,var(--kali-panel-border)_90%,transparent)]",children:r.hourly.map(e=>{var i;let n=null!=(i=l[e.conditionKey])?i:l.default;return(0,t.jsxs)("div",{className:"min-w-[5.5rem] rounded-lg border border-[color:color-mix(in_srgb,var(--kali-panel-border)_75%,transparent)] bg-[color:color-mix(in_srgb,var(--kali-panel)_82%,transparent)] px-3 py-2 text-center shadow-[0_10px_20px_rgba(15,23,42,0.25)]",children:[(0,t.jsx)("div",{className:"text-[0.65rem] text-[color:color-mix(in_srgb,var(--kali-text)_60%,transparent)]",children:e.label}),(0,t.jsx)("div",{className:"mt-1 text-lg font-semibold",children:p(e.temperatureC,a)}),(0,t.jsx)("div",{className:"mt-1 text-xl","aria-hidden":"true",children:n.icon}),(0,t.jsxs)("div",{className:"mt-1 text-[0.65rem] text-[color:color-mix(in_srgb,var(--kali-text)_60%,transparent)]",children:[e.precipitationChance,"% chance"]})]},"".concat(r.id,"-").concat(e.label))})})}function g(e){var r,a;let{city:i,units:n}=e,l=[{label:"Sunrise",value:i.current.sunrise,description:"Local horizon"},{label:"Sunset",value:i.current.sunset,description:"Evening twilight"},{label:"Visibility",value:(r=i.current.visibilityKm,"number"!=typeof r?"—":"imperial"===n?"".concat((r/1.609).toFixed(1)," mi"):"".concat(r.toFixed(1)," km")),description:"Horizontal range"},{label:"Dew Point",value:(a=i.current.dewPointC,"number"!=typeof a?"—":"imperial"===n?"".concat(Math.round(9*a/5+32),"\xb0F"):"".concat(Math.round(a),"\xb0C")),description:"Moisture level"},{label:"UV Index",value:i.current.uvIndex,description:"Moderate risk"},{label:"Humidity",value:"".concat(i.current.humidity,"%"),description:"Ambient moisture"}];return(0,t.jsx)("dl",{className:"grid gap-3 sm:grid-cols-2",children:l.map(e=>(0,t.jsxs)("div",{className:"rounded-lg border border-[color:color-mix(in_srgb,var(--kali-panel-border)_70%,transparent)] bg-[color:color-mix(in_srgb,var(--kali-panel)_84%,transparent)] p-3 shadow-[0_10px_18px_rgba(15,23,42,0.22)]",children:[(0,t.jsx)("dt",{className:"text-[0.65rem] uppercase tracking-[0.2em] text-[color:color-mix(in_srgb,var(--kali-text)_65%,transparent)]",children:e.label}),(0,t.jsx)("dd",{className:"mt-1 text-lg font-semibold text-[color:color-mix(in_srgb,var(--kali-text)_92%,transparent)]",children:e.value}),(0,t.jsx)("p",{className:"text-[0.65rem] text-[color:color-mix(in_srgb,var(--kali-text)_60%,transparent)]",children:e.description})]},"".concat(i.id,"-").concat(e.label)))})}function v(){let[e,r]=(0,n.default)("weather:selected-city",()=>o[0].id,c),[a,s]=(0,n.default)("weather:unit-system","metric",d),[p,v]=(0,i.useState)(!1),[f,y]=(0,i.useState)("undefined"!=typeof navigator&&!navigator.onLine);(0,i.useEffect)(()=>{v(!0)},[]),(0,i.useEffect)(()=>{let e=()=>y(!1),r=()=>y(!0);return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},[]);let _=(0,i.useMemo)(()=>{let r=o.find(r=>r.id===e);return null!=r?r:o[0]},[e]);(0,i.useEffect)(()=>{c(e)||r(o[0].id)},[e,r]);let k=(0,i.useMemo)(()=>{var e,r;return null!=(r=l[null!=(e=null==_?void 0:_.background)?e:"default"])?r:l.default},[_]);return(0,t.jsx)(m,{theme:k,children:(0,t.jsxs)("div",{className:"flex h-full flex-col gap-6 overflow-hidden p-4 sm:p-6",children:[(0,t.jsxs)("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-[0.4em] text-[color:color-mix(in_srgb,var(--kali-text)_70%,transparent)]",children:"Weather dashboard"}),(0,t.jsx)("h1",{className:"text-3xl font-semibold leading-tight text-white drop-shadow-md sm:text-4xl",children:_.name}),(0,t.jsx)("p",{className:"text-sm text-[color:color-mix(in_srgb,var(--kali-text)_80%,transparent)]",children:_.region})]}),(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:(0,t.jsx)(x,{label:"Toggle temperature unit",value:a,onChange:s,options:[{value:"metric",label:"Metric",description:"\xb0C, km/h"},{value:"imperial",label:"Imperial",description:"\xb0F, mph"}]})})]}),(0,t.jsx)(x,{label:"Choose a forecast city",value:_.id,onChange:r,options:o.map(e=>({value:e.id,label:e.name,description:e.summary,ariaLabel:"".concat(e.name," forecast")}))}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto rounded-2xl border border-[color:color-mix(in_srgb,var(--kali-panel-border)_82%,transparent)] bg-[color:color-mix(in_srgb,var(--kali-panel)_65%,transparent)]/70 p-4 shadow-[0_16px_40px_rgba(15,23,42,0.4)] backdrop-blur-xl scrollbar-thin scrollbar-track-transparent scrollbar-thumb-[color:color-mix(in_srgb,var(--kali-panel-border)_88%,transparent)] sm:p-6",children:(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)(u,{id:"current-conditions",title:"Current Conditions",subtitle:_.summary,accent:k.accent,mounted:p,children:(0,t.jsx)(b,{city:_,units:a})}),(0,t.jsx)(u,{id:"hourly-forecast",title:"Hourly Forecast",subtitle:"Next 12 hours outlook",accent:k.accent,mounted:p,children:(0,t.jsx)(h,{city:_,units:a})}),(0,t.jsx)(u,{id:"weather-highlights",title:"Atmospheric Highlights",subtitle:"Key metrics at a glance",accent:k.accent,mounted:p,children:(0,t.jsx)(g,{city:_,units:a})}),f?(0,t.jsxs)("div",{role:"status","aria-live":"polite",className:"flex items-center gap-3 rounded-lg border border-dashed border-[color:color-mix(in_srgb,var(--kali-panel-border)_85%,transparent)] bg-[color:color-mix(in_srgb,var(--kali-panel)_82%,transparent)] px-4 py-3 text-sm text-[color:color-mix(in_srgb,var(--kali-text)_85%,transparent)] shadow-[0_12px_24px_rgba(15,23,42,0.3)]",children:[(0,t.jsx)("span",{"aria-hidden":"true",className:"text-lg",children:"\uD83D\uDCF4"}),"Offline mode – using cached forecast visuals."]}):null]})})]})})}},70172:(e,r,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/weather",function(){return a(54114)}])}},e=>{e.O(0,[636,6593,8792],()=>e(e.s=70172)),_N_E=e.O()}]);