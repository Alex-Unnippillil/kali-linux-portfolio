"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3940],{83940:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o,displayX:()=>u});var c=s(37876),r=s(49096),a=s.n(r),l=s(14232),i=s(42951),n=s(44945);let d=e=>e.replace(/[^A-Za-z0-9_]/g,"").slice(0,15);function o(){let[e,t]=(0,l.useState)("light"),[s,r]=(0,l.useState)("light"),[o,u]=(0,l.useState)(!1),[b,x]=(0,l.useState)(!1),[f,m]=(0,l.useState)(!1),[g,p]=(0,l.useState)(!1),h=(0,l.useRef)(null),j=(0,l.useRef)(!0),y=(0,l.useRef)(!1),[v,N]=(0,l.useState)(""),[w,S]=(0,l.useState)("AUnnippillil"),[k,E]=(0,l.useState)([]);(0,l.useEffect)(()=>{{let e=JSON.parse(localStorage.getItem("x-feed-presets")||"[]"),t=d(localStorage.getItem("x-feed-user")||"")||e[0]||"AUnnippillil";E(e),S(t)}},[]),(0,l.useEffect)(()=>{w&&localStorage.setItem("x-feed-user",w)},[w]),(0,l.useEffect)(()=>()=>{j.current=!1},[]),(0,l.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{let s=e.matches?"dark":"light";r(s),y.current||t(s)};return s(),e.addEventListener("change",s),()=>e.removeEventListener("change",s)},[]),(0,l.useEffect)(()=>{y.current=o,o||t(e=>e===s?e:s)},[o,s]),(0,l.useEffect)(()=>{o&&e===s&&u(!1)},[o,s,e]);let C=(0,l.useCallback)(async()=>{if(h.current&&w){m(!1),x(!1);try{let t=await (0,n.loadEmbedScript)();if(!t){if(!j.current)return;m(!0);return}if(!j.current||!h.current||(h.current.innerHTML="",await t.createTimeline({sourceType:"profile",screenName:w},h.current,{chrome:"noheader noborders",theme:e}),!j.current))return;x(!0)}catch(e){if(console.error("Failed to load X timeline",e),!j.current)return;m(!0)}}},[w,e]);return(0,l.useEffect)(()=>{g&&C()},[g,C]),(0,c.jsxs)("div",{className:"jsx-ec6165dbc25859e2 h-full w-full overflow-auto bg-ub-cool-grey flex flex-col tweet-container",children:[(0,c.jsxs)("div",{className:"jsx-ec6165dbc25859e2 p-2 flex flex-col gap-2 border-b border-gray-600 bg-gray-900 text-gray-100",children:[(0,c.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=d(v);if(!t)return;let s=Array.from(new Set([t,...k]));E(s),S(t),localStorage.setItem("x-feed-presets",JSON.stringify(s)),N("")},className:"jsx-ec6165dbc25859e2 flex gap-2",children:[(0,c.jsx)("input",{type:"text",value:v,onChange:e=>N(e.target.value),placeholder:"Add feed handle",className:"jsx-ec6165dbc25859e2 flex-1 p-2 rounded bg-gray-800 text-gray-100 placeholder-gray-400"}),(0,c.jsx)("button",{type:"submit",disabled:!v.trim(),className:"jsx-ec6165dbc25859e2 px-3 py-1 bg-blue-600 text-white rounded disabled:opacity-50",children:"Add"})]}),k.length>0&&(0,c.jsx)("div",{className:"jsx-ec6165dbc25859e2 flex flex-wrap gap-2",children:k.map(e=>(0,c.jsx)("button",{type:"button",onClick:()=>S(e),className:"jsx-ec6165dbc25859e2 "+"px-2 py-1 rounded-full text-sm ".concat(w===e?"bg-blue-600 text-white":"bg-gray-700 text-gray-100 hover:bg-gray-600"),children:e},e))}),(0,c.jsxs)("div",{className:"jsx-ec6165dbc25859e2 flex flex-wrap items-center gap-2 text-sm",children:[(0,c.jsx)("span",{className:"jsx-ec6165dbc25859e2 text-gray-300",children:"Timeline theme:"}),(0,c.jsx)("button",{type:"button",onClick:()=>{u(!0),t(e=>(0,i.getNextEmbedTheme)(e))},"aria-pressed":"dark"===e,className:"jsx-ec6165dbc25859e2 px-3 py-1 rounded bg-gray-800 text-gray-100 hover:bg-gray-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500",children:"Switch to ".concat((0,i.getNextEmbedTheme)(e)," mode")}),o&&(0,c.jsx)("button",{type:"button",onClick:()=>{t(s),u(!1)},className:"jsx-ec6165dbc25859e2 px-3 py-1 rounded border border-gray-700 text-gray-200 hover:bg-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500",children:"Use system (".concat(s,")")})]})]}),(0,c.jsxs)("div",{className:"jsx-ec6165dbc25859e2 flex-1 relative",children:[!g&&(0,c.jsx)("div",{className:"jsx-ec6165dbc25859e2 p-4 text-center",children:(0,c.jsx)("button",{type:"button",onClick:()=>p(!0),className:"jsx-ec6165dbc25859e2 px-4 py-2 bg-blue-600 text-white rounded",children:"Load timeline"})}),g&&!b&&!f&&(0,c.jsx)("ul",{"aria-hidden":"true",className:"jsx-ec6165dbc25859e2 p-4 space-y-4 tweet-feed",children:Array.from({length:3}).map((e,t)=>(0,c.jsxs)("li",{className:"jsx-ec6165dbc25859e2 flex gap-4 border-b border-gray-700 pb-4 last:border-b-0",children:[(0,c.jsx)("div",{className:"jsx-ec6165dbc25859e2 w-12 h-12 rounded-full bg-gray-700 motion-safe:animate-pulse"}),(0,c.jsxs)("div",{className:"jsx-ec6165dbc25859e2 flex-1 space-y-2",children:[(0,c.jsx)("div",{className:"jsx-ec6165dbc25859e2 h-4 bg-gray-700 rounded w-3/4 motion-safe:animate-pulse"}),(0,c.jsx)("div",{className:"jsx-ec6165dbc25859e2 h-4 bg-gray-700 rounded w-1/2 motion-safe:animate-pulse"}),(0,c.jsx)("div",{className:"jsx-ec6165dbc25859e2 h-4 bg-gray-700 rounded w-full motion-safe:animate-pulse"})]})]},t))}),(0,c.jsx)("div",{ref:h,className:"jsx-ec6165dbc25859e2 "+"".concat(b?"block h-full":"hidden"," tweet-feed")}),f&&(0,c.jsxs)("div",{className:"jsx-ec6165dbc25859e2 p-4 text-center space-y-2",children:[(0,c.jsx)("div",{className:"jsx-ec6165dbc25859e2 text-gray-200",children:"Timeline failed to load. X embeds may be blocked by your browser or an ad blocker."}),(0,c.jsxs)("div",{className:"jsx-ec6165dbc25859e2 flex justify-center gap-2",children:[(0,c.jsx)("button",{type:"button",onClick:()=>{if(!g)return void p(!0);C()},className:"jsx-ec6165dbc25859e2 px-3 py-1 rounded bg-gray-800 text-gray-100 hover:bg-gray-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500",children:"Retry"}),(0,c.jsx)("a",{href:"https://x.com/".concat(d(w)),target:"_blank",rel:"noopener noreferrer",className:"jsx-ec6165dbc25859e2 underline text-blue-400",children:"Open on x.com"})]})]})]}),(0,c.jsx)(a(),{id:"ec6165dbc25859e2",children:".tweet-container.jsx-ec6165dbc25859e2{container-type:inline-size}.tweet-feed.jsx-ec6165dbc25859e2{max-inline-size:60ch;margin-inline:auto;width:100%}@container(max-width:480px){.tweet-feed.jsx-ec6165dbc25859e2 iframe.jsx-ec6165dbc25859e2,.tweet-feed.jsx-ec6165dbc25859e2 img.jsx-ec6165dbc25859e2{width:100%;height:auto}}"})]})}let u=()=>(0,c.jsx)(o,{})}}]);