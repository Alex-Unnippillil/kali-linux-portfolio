self.onmessage=e=>{let{id:l,board:t,cells:f}=e.data||{},s=t.length,a=Array.from({length:s},()=>Array(s).fill(!1)),n=[];(f||[]).forEach(e=>{let[l,t]=e;l>=0&&l<s&&t>=0&&t<s&&!a[l][t]&&(a[l][t]=!0,n.push([l,t]))});let r=[],o=!1,i=0;for(;i<n.length;){let[e,l]=n[i++],f=t[e][l];if(!f.revealed&&!f.flagged){if(r.push([e,l]),f.mine){o=!0;continue}if(0===f.adjacent)for(let t=-1;t<=1;t++)for(let f=-1;f<=1;f++){if(0===t&&0===f)continue;let r=e+t,o=l+f;r>=0&&r<s&&o>=0&&o<s&&!a[r][o]&&(a[r][o]=!0,n.push([r,o]))}}}self.postMessage({id:l,cells:r,hit:o})},_N_E={};