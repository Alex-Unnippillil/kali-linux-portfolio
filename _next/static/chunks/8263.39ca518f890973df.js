"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8263],{16924:(e,t,r)=>{r.d(t,{default:()=>l});var a=r(14232);function l(e,t){let r=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let a=r.current;if(!a)return;let l=a.getContext("2d");if(!l)return;let s=()=>{let r=(()=>{let e=a.parentElement;if(!e)return null;let{clientWidth:t,clientHeight:r}=e;if(t>0&&r>0)return e;let l=e.closest("[data-game-viewport]");if(l)return l;let s=e.closest(".windowMainScreen");return null!=s?s:e})();if(!r)return;let{clientWidth:s,clientHeight:o}=r;if(s<=0||o<=0)return;let n=Math.min(s/e,o/t),c=e*n,i=t*n,d=window.devicePixelRatio||1;a.style.width="".concat(c,"px"),a.style.height="".concat(i,"px"),a.width=Math.floor(c*d),a.height=Math.floor(i*d),l.setTransform(d*n,0,0,d*n,0,0)};s();let o=a.parentElement,n=null==o?void 0:o.closest("[data-game-viewport]"),c=null==o?void 0:o.closest(".windowMainScreen"),i="undefined"!=typeof ResizeObserver?new ResizeObserver(s):null;return o&&i&&i.observe(o),n&&i&&n!==o&&i.observe(n),c&&i&&c!==o&&i.observe(c),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s),null==i||i.disconnect()}},[e,t]),r}},78263:(e,t,r)=>{r.r(t),r.d(t,{PAD_POSITIONS:()=>y,carLaneDefs:()=>n,clampDelta:()=>S,default:()=>K,handlePads:()=>L,initLane:()=>R,logLaneDefs:()=>c,makeRng:()=>v,rampLane:()=>d,updateCars:()=>k,updateLogs:()=>M});var a=r(37876),l=r(14232),s=r(72082),o=r(85687);let n=[{y:4,dir:1,speed:1,spawnRate:2,length:1},{y:5,dir:-1,speed:1.2,spawnRate:1.8,length:1}],c=[{y:1,dir:-1,speed:.5,spawnRate:2.5,length:2},{y:2,dir:1,speed:.7,spawnRate:2.2,length:2}],i={cars:n,logs:c},d=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return{...e,speed:e.speed*a*(1+(t-1)*.2),spawnRate:Math.max(r,e.spawnRate*(1-(t-1)*.1))}},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;return{cars:r.cars.map(r=>d(r,e,.3,t)),logs:r.logs.map(r=>d(r,e,.5,t))}},g={spring:{water:"#0f172a",waterHighlight:"#38bdf8",waterShadow:"#082f49",ripple:"#38bdf8",grass:"#0f766e",grassHighlight:"#2dd4bf",pad:"#a7f3d0",padHighlight:"#d1fae5",padShadow:"#0d9488",frog:"#22c55e",frogLight:"#86efac",frogShadow:"#15803d",frogOutline:"#052e16",car:"#f97316",carLight:"#fdba74",carShadow:"#7c2d12",carAccent:"#fed7aa",log:"#d97706",logLight:"#fbbf24",logShadow:"#78350f",roadLight:"#334155",roadDark:"#0f172a",laneStripe:"#cbd5f5",laneEdge:"#0b1120",hudBg:"rgba(15,23,42,0.82)",hudText:"#f8fafc",hudAccent:"#38bdf8"},summer:{water:"#082f49",waterHighlight:"#22d3ee",waterShadow:"#022c41",ripple:"#38d9a9",grass:"#047857",grassHighlight:"#10b981",pad:"#fef08a",padHighlight:"#facc15",padShadow:"#b45309",frog:"#22c55e",frogLight:"#4ade80",frogShadow:"#166534",frogOutline:"#052e16",car:"#fb7185",carLight:"#fda4af",carShadow:"#be123c",carAccent:"#fecdd3",log:"#b45309",logLight:"#f59e0b",logShadow:"#7c2d12",roadLight:"#475569",roadDark:"#111827",laneStripe:"#cbd5f5",laneEdge:"#0f172a",hudBg:"rgba(13,23,33,0.85)",hudText:"#f1f5f9",hudAccent:"#38d9a9"},autumn:{water:"#1f2933",waterHighlight:"#60a5fa",waterShadow:"#0b1726",ripple:"#93c5fd",grass:"#9a3412",grassHighlight:"#f97316",pad:"#fed7aa",padHighlight:"#fef3c7",padShadow:"#b45309",frog:"#65a30d",frogLight:"#bef264",frogShadow:"#3f6212",frogOutline:"#1a2e05",car:"#f97316",carLight:"#fbbf24",carShadow:"#9a3412",carAccent:"#fed7aa",log:"#92400e",logLight:"#f59e0b",logShadow:"#78350f",roadLight:"#3f3f46",roadDark:"#1f1f23",laneStripe:"#fbbf24",laneEdge:"#111827",hudBg:"rgba(30,23,15,0.85)",hudText:"#f5f5f4",hudAccent:"#f97316"},winter:{water:"#0e7490",waterHighlight:"#5eead4",waterShadow:"#0b3b52",ripple:"#38bdf8",grass:"#e5e7eb",grassHighlight:"#f8fafc",pad:"#bae6fd",padHighlight:"#e0f2fe",padShadow:"#0ea5e9",frog:"#86efac",frogLight:"#bbf7d0",frogShadow:"#22c55e",frogOutline:"#14532d",car:"#64748b",carLight:"#cbd5f5",carShadow:"#334155",carAccent:"#f8fafc",log:"#475569",logLight:"#94a3b8",logShadow:"#1f2937",roadLight:"#334155",roadDark:"#0f172a",laneStripe:"#cbd5f5",laneEdge:"#1e293b",hudBg:"rgba(15,23,42,0.86)",hudText:"#f1f5f9",hudAccent:"#38bdf8"},neonNight:{water:"#060c1d",waterHighlight:"#38bdf8",waterShadow:"#020617",ripple:"#5eead4",grass:"#0f172a",grassHighlight:"#1d4ed8",pad:"#6366f1",padHighlight:"#a855f7",padShadow:"#312e81",frog:"#22d3ee",frogLight:"#67e8f9",frogShadow:"#0e7490",frogOutline:"#082f49",car:"#f97316",carLight:"#fb7185",carShadow:"#7c2d12",carAccent:"#facc15",log:"#facc15",logLight:"#fde68a",logShadow:"#b45309",roadLight:"#312e81",roadDark:"#0b1120",laneStripe:"#22d3ee",laneEdge:"#1e293b",hudBg:"rgba(8,11,26,0.88)",hudText:"#e0f2fe",hudAccent:"#a855f7"},sunsetCruise:{water:"#311338",waterHighlight:"#f472b6",waterShadow:"#1f0730",ripple:"#fb7185",grass:"#7f1d1d",grassHighlight:"#fb7185",pad:"#fde68a",padHighlight:"#fbbf24",padShadow:"#b91c1c",frog:"#facc15",frogLight:"#fde68a",frogShadow:"#d97706",frogOutline:"#78350f",car:"#fb7185",carLight:"#f472b6",carShadow:"#9d174d",carAccent:"#fee2e2",log:"#f97316",logLight:"#fbbf24",logShadow:"#b45309",roadLight:"#4c1d95",roadDark:"#2e1065",laneStripe:"#facc15",laneEdge:"#1e1b4b",hudBg:"rgba(33,14,49,0.88)",hudText:"#ffe4e6",hudAccent:"#f472b6"},highContrast:{water:"#102a43",waterHighlight:"#5dfdcb",waterShadow:"#0b7285",ripple:"#5dfdcb",grass:"#0ead69",grassHighlight:"#8ce99a",pad:"#ffec99",padHighlight:"#ffe066",padShadow:"#f08c00",frog:"#ffe066",frogLight:"#fff3bf",frogShadow:"#d9480f",frogOutline:"#343a40",car:"#ff6b6b",carLight:"#ffc9c9",carShadow:"#c92a2a",carAccent:"#ffe3e3",log:"#ffd43b",logLight:"#fff3bf",logShadow:"#d9480f",roadLight:"#495057",roadDark:"#1b1f22",laneStripe:"#ffe066",laneEdge:"#212529",hudBg:"rgba(16,32,43,0.9)",hudText:"#f8f9fa",hudAccent:"#5dfdcb"},duskGuardian:{water:"#111827",waterHighlight:"#4f46e5",waterShadow:"#0b1220",ripple:"#818cf8",grass:"#1f2937",grassHighlight:"#4b5563",pad:"#c4b5fd",padHighlight:"#ddd6fe",padShadow:"#6d28d9",frog:"#c084fc",frogLight:"#e9d5ff",frogShadow:"#7c3aed",frogOutline:"#4c1d95",car:"#38bdf8",carLight:"#bae6fd",carShadow:"#0ea5e9",carAccent:"#e0f2fe",log:"#a78bfa",logLight:"#ddd6fe",logShadow:"#6d28d9",roadLight:"#312e81",roadDark:"#111827",laneStripe:"#38bdf8",laneEdge:"#1e1b4b",hudBg:"rgba(17,23,42,0.88)",hudText:"#ede9fe",hudAccent:"#a855f7"}},u={vibrant:["spring","summer","autumn","winter","neonNight","sunsetCruise"],accessible:["highContrast","duskGuardian"]},h=e=>{let t=e?u[e]:Object.keys(g);return t[Math.floor(Math.random()*t.length)]},p=[{cars:[{y:4,dir:1,speed:1,spawnRate:2,length:1},{y:5,dir:-1,speed:1.2,spawnRate:1.8,length:1}],logs:[{y:1,dir:-1,speed:.5,spawnRate:2.5,length:2},{y:2,dir:1,speed:.7,spawnRate:2.2,length:2}]},{cars:[{y:4,dir:1,speed:1,spawnRate:2,length:1},{y:5,dir:-1,speed:1.2,spawnRate:1.8,length:1},{y:6,dir:1,speed:1.3,spawnRate:1.6,length:1}],logs:[{y:1,dir:-1,speed:.6,spawnRate:2.2,length:2},{y:2,dir:1,speed:.8,spawnRate:2,length:2}]},{cars:[{y:3,dir:-1,speed:1.2,spawnRate:1.8,length:1},{y:4,dir:1,speed:1.3,spawnRate:1.7,length:1},{y:5,dir:-1,speed:1.5,spawnRate:1.6,length:1},{y:6,dir:1,speed:1.6,spawnRate:1.5,length:1}],logs:[{y:1,dir:-1,speed:.7,spawnRate:1.9,length:3},{y:2,dir:1,speed:.9,spawnRate:1.8,length:2}]},{cars:[{y:3,dir:1,speed:1.4,spawnRate:1.6,length:1},{y:4,dir:-1,speed:1.6,spawnRate:1.5,length:1},{y:5,dir:1,speed:1.8,spawnRate:1.4,length:1},{y:6,dir:-1,speed:1.9,spawnRate:1.3,length:2}],logs:[{y:1,dir:-1,speed:.8,spawnRate:1.7,length:3},{y:2,dir:1,speed:1,spawnRate:1.6,length:2}]},{cars:[{y:3,dir:1,speed:1.6,spawnRate:1.4,length:1},{y:4,dir:-1,speed:1.8,spawnRate:1.3,length:1},{y:5,dir:1,speed:2,spawnRate:1.2,length:2},{y:6,dir:-1,speed:2.2,spawnRate:1.1,length:2}],logs:[{y:1,dir:-1,speed:.9,spawnRate:1.5,length:3},{y:2,dir:1,speed:1.1,spawnRate:1.4,length:3}]}];var b=r(70994),x=r(16924),m=r(95220),w=r(90209);let y=[1,3,5],v=e=>{let t=e;return()=>{let e=t+=0x6d2b79f5;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/0x100000000}},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25;return Math.max(0,Math.min(e,t))},R=(e,t)=>{let r=v(t);return{...e,entities:[],rng:r,timer:e.spawnRate*(.5+r())}},k=(e,t,r)=>{let a=!1;return{lanes:e.map(e=>{let l=e.timer-r,s=e.entities,o=e.dir*e.speed*r,n=Math.max(1,Math.ceil(Math.abs(o)/.5)),c=o/n;for(let r=0;r<n;r+=1)s=s.map(e=>({...e,x:e.x+c})),e.y===t.y&&s.some(r=>t.x<r.x+e.length&&t.x+1>r.x)&&(a=!0);return s=s.filter(t=>t.x+e.length>0&&t.x<7),l<=0&&(s.push({x:1===e.dir?-e.length:7}),l+=e.spawnRate*(.5+e.rng())),{...e,entities:s,timer:l}}),dead:a}},M=(e,t,r)=>{let a={...t},l=!1,s=e.map(e=>{let t=e.timer-r,s=e.entities,o=e.dir*e.speed*r,n=Math.max(1,Math.ceil(Math.abs(o)/.5)),c=o/n;for(let t=0;t<n;t+=1)s=s.map(e=>({...e,x:e.x+c})),a.y===e.y&&s.some(t=>t.x<=a.x&&a.x<t.x+e.length)&&(a.x+=c,l=!0);return s=s.filter(t=>t.x+e.length>0&&t.x<7),t<=0&&(s.push({x:1===e.dir?-e.length:7}),t+=e.spawnRate*(.5+e.rng())),{...e,entities:s,timer:t}});a.x=Math.round(a.x);let o=(1===a.y||2===a.y)&&!l;return{lanes:s,frog:a,dead:o}},L=(e,t)=>{if(0!==e.y)return{pads:t,dead:!1,levelComplete:!1,padHit:!1};let r=y.indexOf(Math.floor(e.x));if(-1===r||t[r])return{pads:t,dead:!0,levelComplete:!1,padHit:!1};let a=[...t];a[r]=!0;let l=a.every(Boolean);return{pads:a,dead:!1,levelComplete:l,padHit:!0}},C=(e,t)=>{let r=parseInt(e.replace("#",""),16);return"rgba(".concat(r>>16&255,",").concat(r>>8&255,",").concat(255&r,",").concat(t,")")},N=(e,t,r)=>{let a=43758.5453*Math.sin(12.9898*e+78.233*t+r);return a-Math.floor(a)},E=(e,t,r,a,l,s,o,n,c)=>{e.save(),e.fillStyle=C(s,o);let i=Math.max(2,Math.floor(8/n));for(let s=r;s<r+l;s+=i)for(let r=t;r<t+a;r+=i)N(r,s,c)>.82&&e.fillRect(r,s,1.5,1.5);e.restore()},j=function(e,t,r,a,l,s,o){let n=arguments.length>7&&void 0!==arguments[7]?arguments[7]:10;e.save(),e.strokeStyle=C(s,o),e.lineWidth=1,e.beginPath();for(let s=-l;s<a;s+=n)e.moveTo(t+s,r+l),e.lineTo(t+s+l,r);e.stroke(),e.restore()};var A=r(65422);let P={easy:72,normal:60,hard:50},H="vibrant",T={easy:.8,normal:1,hard:1.2},G={x:Math.floor(3.5),y:7},I=(e,t)=>Math.max(25,P[e]-(t-1)*2),F=(e,t)=>{let r=T[t],a=p[(e-1)%p.length],l=f(e,r,a);return{cars:l.cars.map((e,t)=>R(e,t+1)),logs:l.logs.map((e,t)=>R(e,t+101))}},O=e=>"easy"===e||"normal"===e||"hard"===e,D=e=>"vibrant"===e||"accessible"===e,B=e=>"string"==typeof e&&e in g,_=e=>"boolean"==typeof e,W=e=>"number"==typeof e&&Number.isFinite(e)&&e>=0&&e<=1,U=e=>"number"==typeof e&&Number.isFinite(e)&&e>=0,K=function(){var e;let{windowMeta:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null==(e=null==t?void 0:t.isFocused)||e,n=I("normal",1),c=F(1,"normal"),i=(0,x.default)(224,256),d=(0,l.useRef)(null),f=(0,l.useRef)({...G}),p=(0,l.useRef)(c.cars),v=(0,l.useRef)(c.logs),R=(0,l.useRef)(y.map(()=>!1)),[N,P]=(0,l.useState)(y.map(()=>!1)),[T,K]=(0,l.useState)(""),[V,z]=(0,l.useState)(0),[q,X]=(0,l.useState)(3),[Y,J]=(0,l.useState)(1),[Q,Z]=(0,m.default)("frogger:difficulty","normal",O),[$,ee]=(0,l.useState)(!1),et=(0,l.useRef)($),[er,ea]=(0,m.default)("frogger:sound",!0,_),[el,es]=(0,m.default)("frogger:soundVolume",.6,W),eo=(0,l.useRef)(er),en=(0,l.useRef)(el),[ec,ei]=(0,m.default)("frogger:highScore",0,U),ed=(0,w.default)(),ef=(0,l.useRef)(ed),eg=(0,l.useRef)(null),eu=(0,l.useRef)(500),eh=(0,l.useRef)(null),ep=(0,l.useRef)(0),eb=(0,l.useRef)([]),[ex,em]=(0,m.default)("frogger:slowTime",!1,_),ew=(0,l.useRef)(ex),[ey,ev]=(0,m.default)("frogger:colorMode",H,D),[eS,eR]=(0,m.default)("frogger:skin",()=>h(H),B),[ek,eM]=(0,m.default)("frogger:hitboxes",!1,_),[eL,eC]=(0,l.useState)(n),[eN,eE]=(0,l.useState)(0),ej=(0,l.useRef)(0),eA=(0,l.useRef)(0),eP=(0,l.useRef)(q),eH=(0,l.useRef)(Y),eT=(0,l.useRef)(T),eG=(0,l.useRef)(0),eI=(0,l.useRef)(null),eF=(0,l.useRef)({}),eO=(0,l.useRef)({start:{...G},end:{...G},progress:1}),eD=(0,l.useRef)(0),eB=(0,l.useRef)(n),e_=(0,l.useRef)(n);(0,l.useEffect)(()=>{R.current=N,eE(N.filter(Boolean).length)},[N]),(0,l.useEffect)(()=>{et.current=$},[$]),(0,l.useEffect)(()=>{eo.current=er},[er]),(0,l.useEffect)(()=>{en.current=el},[el]),(0,l.useEffect)(()=>{ef.current=ed},[ed]),(0,l.useEffect)(()=>{ew.current=ex},[ex]),(0,l.useEffect)(()=>{eP.current=q},[q]),(0,l.useEffect)(()=>{eH.current=Y},[Y]),(0,l.useEffect)(()=>{eT.current=T},[T]),(0,l.useEffect)(()=>{eB.current=eL,e_.current=eL},[eL]),(0,l.useEffect)(()=>{eF.current={}},[eS]),(0,l.useEffect)(()=>{let e=u[ey];e&&!e.includes(eS)&&eR(e[0])},[ey,eS,eR]),(0,l.useEffect)(()=>{try{let e=Number(localStorage.getItem("frogger-highscore")||0);Number.isFinite(e)&&e>ec&&ei(e),e>0&&localStorage.removeItem("frogger-highscore")}catch(e){}},[ec,ei]),(0,l.useEffect)(()=>{V>ec&&ei(V)},[V,ec,ei]);let eW=(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;if(!eo.current)return;if(!eg.current){let e=window.AudioContext||window.webkitAudioContext;if(!e)return;eg.current=new e}let r=eg.current,a=r.createOscillator(),l=r.createGain();a.frequency.value=e,l.gain.setValueAtTime(.12*en.current,r.currentTime),a.connect(l),l.connect(r.destination),a.start(),a.stop(r.currentTime+t)},[]),eU=(0,l.useCallback)((e,t)=>{let r=I(e,t);eB.current=r,e_.current=r,eC(r)},[]),eK=(0,l.useCallback)(()=>{f.current={...G},eO.current={start:{...G},end:{...G},progress:1}},[]),eV=(0,l.useCallback)((e,t)=>{if(et.current)return;let r=f.current,a=r.x+e,l=r.y+t;if(a<0||a>=7||l<0||l>=8)return;let s={x:a,y:l};f.current=s,ef.current?eO.current={start:s,end:s,progress:1}:eO.current={start:{...r},end:s,progress:0},(0,o.vibrate)(50),-1===t&&z(e=>e+10),eW(440,.05)},[eW]),ez=(0,l.useCallback)((e,t)=>{eV(e,t),eh.current=setInterval(()=>eV(e,t),220)},[eV]),eq=(0,l.useCallback)(()=>{eh.current&&clearInterval(eh.current)},[]);(0,l.useEffect)(()=>{let e=e=>{if(!(0,A.shouldHandleGameKey)(e,{isFocused:r}))return;let t=e.key;"ArrowLeft"===t||"a"===t||"A"===t?((0,A.consumeGameKey)(e),eV(-1,0)):"ArrowRight"===t||"d"===t||"D"===t?((0,A.consumeGameKey)(e),eV(1,0)):"ArrowUp"===t||"w"===t||"W"===t?((0,A.consumeGameKey)(e),eV(0,-1)):("ArrowDown"===t||"s"===t||"S"===t)&&((0,A.consumeGameKey)(e),eV(0,1))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[r,eV]),(0,l.useEffect)(()=>{let e=d.current,t=0,a=0,l=e=>{r&&(t=e.touches[0].clientX,a=e.touches[0].clientY)},s=e=>{if(!r)return;let l=e.changedTouches[0].clientX-t,s=e.changedTouches[0].clientY-a;Math.abs(l)>Math.abs(s)?l>30?eV(1,0):l<-30&&eV(-1,0):s>30?eV(0,1):s<-30&&eV(0,-1)};return null==e||e.addEventListener("touchstart",l),null==e||e.addEventListener("touchend",s),()=>{null==e||e.removeEventListener("touchstart",l),null==e||e.removeEventListener("touchend",s)}},[r,eV]),(0,l.useEffect)(()=>{(0,s.logEvent)({category:"Frogger",action:"level_start",value:1})},[]);let eX=(0,l.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;eK(),f.current={...G};let a=F(r,t);p.current=a.cars,v.current=a.logs,K(""),eU(t,e?1:r),e&&(z(0),X(3),P(y.map(()=>!1)),J(1),eE(0),eR(h(ey)),eu.current=500,ej.current=0,(0,s.logEvent)({category:"Frogger",action:"level_start",value:1}))},[eK,ey,Q,Y,eR,eU]),eY=(0,l.useCallback)(e=>{e&&e.y<=2&&eb.current.push({x:(Math.floor(e.x)+.5)*32,y:(e.y+.5)*32,t:0}),ej.current+=1,ej.current>=2&&(eA.current=2),(0,s.logEvent)({category:"Frogger",action:"death",value:eH.current}),eW(220,.2),X(e=>{let t=e-1;return t<=0?(K("Game Over"),setTimeout(()=>eX(!0),1e3),0):(eX(),t)})},[eW,eX]);(0,l.useEffect)(()=>{let e=i.current;if(!e)return;let t=e.getContext("2d");if(!t)return;let r=performance.now(),a=0,l=e=>{let o=(e-r)/1e3;r=e;let n=S(o,.25)*(ew.current?.7:1),c=ef.current?1.6:4;if(ep.current+=n*c,eD.current=(eD.current+.6*n)%(2*Math.PI),eO.current.progress<1){let e=ef.current?.108:.18;eO.current.progress=Math.min(1,eO.current.progress+n/e)}if(!et.current){let e=Math.max(0,eB.current-n);e!==eB.current&&(eB.current=e,Math.floor(e)!==Math.floor(e_.current)&&(e_.current=e,eC(e))),e<=0&&!eI.current&&eP.current>0&&(eG.current=.2,eI.current={...f.current})}if(eA.current>0&&(eA.current-=n),eG.current>0&&(eG.current-=n),eb.current=eb.current.map(e=>({...e,t:e.t+n})).filter(e=>e.t<.5),eI.current)eG.current<=0&&(eY(eI.current),eK(),eI.current=null);else{let e=k(p.current,f.current,n);p.current=e.lanes;let t=M(v.current,f.current,n);if(v.current=t.lanes,f.current=t.frog,e.dead)eG.current=.2,eI.current={...f.current};else if(t.dead||f.current.x<0||f.current.x>=7)eY(f.current),eK();else{let e=L(f.current,R.current);if(R.current=e.pads,e.dead)eY(f.current),eK();else if(e.levelComplete){K("Level Complete!"),z(e=>e+100),eW(880,.2),(0,s.logEvent)({category:"Frogger",action:"level_complete",value:eH.current});let e=eH.current+1;J(e),(0,s.logEvent)({category:"Frogger",action:"level_start",value:e}),P(y.map(()=>!1)),eX(!1,Q,e),ej.current=0,eK()}else e.padHit&&(z(e=>e+100),P([...R.current]),eW(660,.1),ej.current=0,eK())}}((e,t,r,a)=>{let{colors:l,reduceMotion:s,showHitboxes:o,paused:n,status:c,timeLeft:i,showPauseOverlay:d=!0}=a,f=r.ripple,g=(Math.sin(r.lighting)+1)/2,u=a.gradientCache,h=(e,t)=>(u[e]||(u[e]=t()),u[e]),p=l.water||"#0f172a",b=l.waterHighlight||p,x=l.waterShadow||p,m=l.ripple||b,w=l.grass||"#14532d",v=l.grassHighlight||w,S=l.grassGlow||v,R=l.padHighlight||v,k=l.padShadow||w,M=l.laneStripe||"#cbd5f5",L=l.laneEdge||"#0b1120",N=l.roadDark||"#111827",A=l.roadLight||N,P=l.hudAccent||l.frog||"#facc15",H=l.vignette||"#020617";e.clearRect(0,0,224,256),e.fillStyle=N,e.fillRect(0,0,224,256);let T=h("ambient",()=>{let t=e.createLinearGradient(0,0,0,256);return t.addColorStop(0,C(b,.35)),t.addColorStop(1,C(N,.9)),t});e.fillStyle=T,e.fillRect(0,0,224,256);for(let t=0;t<8;t+=1){let a=32*t;if(3===t||6===t){let l=h("grass-".concat(t),()=>{let t=e.createLinearGradient(0,a,0,a+32);return t.addColorStop(0,v),t.addColorStop(1,w),t});e.fillStyle=l,e.fillRect(0,a,224,32),e.fillStyle=C(S,.12+.08*g),e.fillRect(0,a+5.76,224,4.8),j(e,0,a,224,32,v,.08,12),e.fillStyle=C(P,.08+.1*r.safeFlash),e.fillRect(0,a,224,3),e.fillRect(0,a+32-3,224,3),r.safeFlash>0&&Math.floor(8*f)%2==0&&(e.fillStyle=C(P,.25),e.fillRect(0,a,224,32))}else if(t>=4&&t<=5){let r=h("road-".concat(t),()=>{let t=e.createLinearGradient(0,a,0,a+32);return t.addColorStop(0,A),t.addColorStop(.6,N),t.addColorStop(1,L),t});e.fillStyle=r,e.fillRect(0,a,224,32),e.fillStyle=C(L,.25),e.fillRect(0,a+6.4,224,1),e.fillRect(0,a+25.6,224,1),E(e,0,a,224,32,L,.18,.6,t),e.fillStyle=C(M,.55+.25*g),e.fillRect(0,a+16-1,224,2),e.fillStyle=C(L,.35),e.fillRect(0,a,224,2),e.fillRect(0,a+32-2,224,2)}else{let r=h("water-".concat(t),()=>{let t=e.createLinearGradient(0,a,0,a+32);return t.addColorStop(0,b),t.addColorStop(.5,p),t.addColorStop(1,x),t});if(e.fillStyle=r,e.fillRect(0,a,224,32),e.fillStyle=C(b,.08+.06*g),e.fillRect(0,a+4.8,224,1),e.fillRect(0,a+24.96,224,1),E(e,0,a,224,32,b,.12,.5,t+12),s)e.fillStyle=C(m,.2),e.fillRect(0,a+14.4,224,2);else{e.save(),e.globalAlpha=.4,e.strokeStyle=m,e.lineWidth=2,e.beginPath();for(let r=0;r<=7;r+=1){let l=32*r,s=a+16+3*Math.sin(1.6*f+.9*r+.6*t);0===r?e.moveTo(l,s):e.lineTo(l,s)}e.stroke(),e.restore()}}}y.forEach((r,a)=>{let o=t.pads[a],n=s?0:2*Math.sin(1.4*f+r);e.save(),e.translate(32*r+16,16+n);let c=e.createRadialGradient(0,0,3.2,0,0,14.4);c.addColorStop(0,o?l.frogLight||l.frog:R),c.addColorStop(1,o?l.frogShadow||l.frog:k),e.fillStyle=c,e.beginPath(),e.arc(0,0,14.4,0,2*Math.PI),e.fill(),e.strokeStyle=C(R,.35),e.lineWidth=1.5,e.beginPath(),e.arc(0,0,9.6,0,2*Math.PI),e.stroke(),e.lineWidth=2,e.strokeStyle=C(k,.4),e.beginPath(),e.arc(0,0,12.16,0,2*Math.PI),e.stroke(),o&&(e.fillStyle=C(P,.6+.2*g),e.beginPath(),e.arc(0,0,6.4,0,2*Math.PI),e.fill()),e.restore()}),t.logs.forEach(t=>{t.entities.forEach(r=>{let a=32*r.x,o=32*t.y,n=32*t.length,c=l.logLight||l.log,i=l.logShadow||l.log,d=e.createLinearGradient(a,o,a,o+32);d.addColorStop(0,c),d.addColorStop(.7,l.log),d.addColorStop(1,i),e.fillStyle=d,e.fillRect(a,o,n,32),j(e,a,o+2,n,28,i,.08,8),e.fillStyle=C(i,.35),e.fillRect(a,o+9.6,n,2),e.fillRect(a,o+22.4,n,2),e.fillStyle=C(i,.35),e.beginPath(),e.arc(a+4,o+16,5.76,0,2*Math.PI),e.arc(a+n-4,o+16,5.76,0,2*Math.PI),e.fill();let g=o+32;if(g<256){let t=e.createLinearGradient(a,g,a,g+28.8);t.addColorStop(0,C(c,.25)),t.addColorStop(1,"rgba(0,0,0,0)");let l=s?0:2*Math.sin(1.2*f+.8*r.x);e.save(),e.translate(0,l),e.fillStyle=t,e.fillRect(a,g,n,28.8),e.restore()}})}),t.cars.forEach(t=>{t.entities.forEach(r=>{let a=32*r.x,s=32*t.y,o=32*t.length,n=l.carLight||l.car,c=l.carShadow||l.car,i=e.createLinearGradient(a,s,a,s+32);i.addColorStop(0,n),i.addColorStop(.6,l.car),i.addColorStop(1,c),e.fillStyle=i,e.fillRect(a,s,o,32),e.fillStyle=C("#ffffff",.08),e.fillRect(a+2,s+2,o-4,3),e.fillStyle=C(l.carAccent||n,.35+.2*g),e.fillRect(a+4,s+8,o-8,3),e.save();e.globalAlpha=.3+.2*g,e.fillStyle=C(l.carAccent||n,1),1===t.dir?e.fillRect(a+o-2,s+11.2,19.2,4):e.fillRect(a-19.2+2,s+11.2,19.2,4),e.restore()})}),r.splashes.forEach(t=>{let r=t.t/.5;e.strokeStyle=C(m,1-r),e.lineWidth=2,e.beginPath(),e.arc(t.x,t.y,32*r,0,2*Math.PI),e.stroke()});let G=r.frogAnimation,I=t.frog.x,F=t.frog.y;if(G.progress<1){let e,t=(e=G.progress)*e*(3-2*e);I=G.start.x+(G.end.x-G.start.x)*t,F=G.start.y+(G.end.y-G.start.y)*t}let O=G.progress<1&&!s?32*Math.sin(G.progress*Math.PI)*.35:0,D=32*I+16,B=32*F+16;F<=2||7===F||0===F||(e.save(),e.globalAlpha=.35*(1-O/11.2),e.fillStyle=C(l.frogShadow||l.frog,1),e.beginPath(),e.ellipse(D,B+8,8.96,4.48,0,0,2*Math.PI),e.fill(),e.restore()),e.save(),e.translate(D,B-O);let _=G.progress<1?(G.end.x-G.start.x)*.25:0;e.rotate(_);let W=e.createLinearGradient(0,-11.2,0,11.2);W.addColorStop(0,l.frogLight||l.frog),W.addColorStop(1,l.frogShadow||l.frog),e.fillStyle=W,e.beginPath(),e.ellipse(0,0,10.24,9.6,0,0,2*Math.PI),e.fill(),e.fillStyle=l.frogOutline||C(l.frog,.8),e.beginPath(),e.arc(-3.84,-3.84,3.2,0,2*Math.PI),e.arc(3.84,-3.84,3.2,0,2*Math.PI),e.fill(),e.fillStyle="#fff",e.beginPath(),e.arc(-3.84,-3.84,1.76,0,2*Math.PI),e.arc(3.84,-3.84,1.76,0,2*Math.PI),e.fill(),e.fillStyle="#0f172a",e.beginPath(),e.arc(-3.84,-3.84,.8,0,2*Math.PI),e.arc(3.84,-3.84,.8,0,2*Math.PI),e.fill(),e.restore(),o&&(e.strokeStyle="rgba(255,255,255,0.7)",t.logs.forEach(t=>{t.entities.forEach(r=>{e.strokeRect(32*r.x,32*t.y,32*t.length,32)})}),t.cars.forEach(t=>{t.entities.forEach(r=>{e.strokeRect(32*r.x,32*t.y,32*t.length,32)})}),e.strokeRect(32*t.frog.x,32*t.frog.y,32,32)),r.hitFlash>0&&(e.fillStyle="rgba(255,255,255,".concat(r.hitFlash/.2,")"),e.fillRect(0,0,224,256));let U=e.createRadialGradient(112,128,25.6,112,128,192);U.addColorStop(0,"rgba(0,0,0,0)"),U.addColorStop(1,C(H,.55)),e.fillStyle=U,e.fillRect(0,0,224,256),(c||n&&d)&&(e.fillStyle="rgba(0,0,0,0.55)",e.fillRect(0,0,224,256),e.fillStyle="#fff",e.font="20px sans-serif",e.textAlign="center",e.fillText(n&&d?"Paused":c,112,128)),i<=10&&!n&&(e.fillStyle=C("#f87171",Math.min(.45,(10-i)/20)),e.fillRect(0,0,224,256))})(t,{frog:f.current,cars:p.current,logs:v.current,pads:R.current},{ripple:ep.current,lighting:eD.current,splashes:eb.current,safeFlash:eA.current,hitFlash:eG.current,frogAnimation:eO.current},{colors:g[eS],reduceMotion:ef.current,showHitboxes:ek,paused:et.current,status:eT.current,timeLeft:eB.current,gradientCache:eF.current,showPauseOverlay:!1}),a=requestAnimationFrame(l)};return a=requestAnimationFrame(l),()=>cancelAnimationFrame(a)},[eK,i,Q,eY,eW,eX,ek,eS]),(0,l.useEffect)(()=>{V>=eu.current&&(X(e=>e+1),eu.current+=500)},[V]);let eJ=g[eS],eQ=eJ.hudBg||"rgba(15,23,42,0.85)",eZ=eJ.hudText||"#e2e8f0",e$=eJ.hudAccent||"#38bdf8",e0="rgba(226,232,240,0.75)",e1=I(Q,Y),e2=eB.current,e3=Math.max(0,Math.ceil(eL)),e5=e3<=10?"#fca5a5":eZ,e4=e1?Math.max(0,Math.min(1,e2/e1)):0,e8=(0,l.useMemo)(()=>u[ey]&&u[ey].length?u[ey]:Object.keys(g),[ey]),e6="".concat(Q.charAt(0).toUpperCase()).concat(Q.slice(1)),e7="".concat(eS.charAt(0).toUpperCase()).concat(eS.slice(1)),e9=T||($?"Paused":"Hop across the river and claim each glowing pad!"),te="px-3 py-1.5 rounded-lg border border-slate-600/60 bg-slate-900/70 text-sm shadow focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-300 focus:ring-offset-slate-900",tt=[{label:"Lives",value:q,color:eZ},{label:"Goals",value:"".concat(eN,"/").concat(y.length),color:eN===y.length?e$:eZ},{label:"Timer",value:"".concat(e3,"s"),color:e5,progress:e4},{label:"Level",value:Y,color:eZ}],tr=[{label:"Score",value:V,color:eZ},{label:"High Score",value:ec,color:eZ},{label:"Difficulty",value:e6,color:e$},{label:"Skin",value:e7,color:e$}],ta=(0,a.jsxs)("div",{className:"space-y-4 text-sm text-slate-100",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-300",children:"Difficulty"}),(0,a.jsx)("div",{className:"flex gap-2",children:["easy","normal","hard"].map(e=>(0,a.jsx)("button",{type:"button",className:"rounded-md border px-3 py-1 ".concat(Q===e?"border-white/80 text-white":"border-slate-500 text-slate-300"),onClick:()=>{Z(e),eX(!0,e)},children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-300",children:"Palette"}),(0,a.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,a.jsxs)("label",{htmlFor:"frogger-color-mode",className:"flex flex-col gap-1 text-xs uppercase tracking-wide text-slate-300",children:["Mode",(0,a.jsxs)("select",{id:"frogger-color-mode",className:te,value:ey,onChange:e=>{ev(e.target.value)},children:[(0,a.jsx)("option",{value:"vibrant",children:"Vibrant"}),(0,a.jsx)("option",{value:"accessible",children:"Accessible"})]})]}),(0,a.jsxs)("label",{htmlFor:"frogger-skin",className:"flex flex-col gap-1 text-xs uppercase tracking-wide text-slate-300",children:["Theme",(0,a.jsx)("select",{id:"frogger-skin",className:te,value:eS,onChange:e=>eR(e.target.value),children:e8.map(e=>(0,a.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-300",children:"Audio"}),(0,a.jsxs)("button",{type:"button",className:"rounded-md border px-3 py-1 ".concat(er?"border-white/80 text-white":"border-slate-500 text-slate-300"),onClick:()=>ea(e=>!e),children:["Sound: ",er?"On":"Off"]}),(0,a.jsxs)("label",{htmlFor:"frogger-volume",className:"flex flex-col gap-1 text-xs uppercase tracking-wide text-slate-300",children:["Volume",(0,a.jsx)("input",{id:"frogger-volume",type:"range",min:0,max:100,"aria-label":"Sound volume",value:Math.round(100*el),onChange:e=>es(Number(e.target.value)/100)})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-300",children:"Accessibility"}),(0,a.jsxs)("button",{type:"button",className:"rounded-md border px-3 py-1 ".concat(ek?"border-white/80 text-white":"border-slate-500 text-slate-300"),onClick:()=>eM(e=>!e),children:["Hitboxes: ",ek?"On":"Off"]}),(0,a.jsxs)("button",{type:"button",className:"rounded-md border px-3 py-1 ".concat(ex?"border-white/80 text-white":"border-slate-500 text-slate-300"),onClick:()=>em(e=>!e),children:["Time: ",ex?"Slow":"Normal"]})]}),(0,a.jsx)("div",{className:"border-t border-slate-700/80 pt-3",children:(0,a.jsx)("button",{type:"button",className:"rounded-md border border-slate-500 px-3 py-1 text-slate-200",onClick:()=>eX(!0),children:"New Game"})})]}),tl=(0,l.useMemo)(()=>["p","space"],[]),ts=(0,l.useMemo)(()=>["r"],[]);return(0,a.jsx)(b.default,{gameId:"frogger",score:V,highScore:ec,lives:q,stage:Y,onPauseChange:ee,onRestart:()=>eX(!0),pauseHotkeys:tl,restartHotkeys:ts,settingsPanel:ta,isFocused:r,children:(0,a.jsx)("div",{ref:d,id:"frogger-container",className:"h-full w-full overflow-auto bg-ub-cool-grey text-white",style:{touchAction:"none"},children:(0,a.jsxs)("div",{className:"mx-auto flex h-full w-full max-w-4xl flex-col items-center gap-5 px-4 py-6",children:[(0,a.jsx)("div",{className:"w-full rounded-2xl border border-slate-700/70 px-4 py-3 text-sm shadow-lg backdrop-blur",style:{background:eQ,color:eZ},children:(0,a.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-semibold",children:"Frogger"}),(0,a.jsx)("div",{className:"text-xs text-slate-300",children:"Hop to the pads, dodge traffic, and ride the logs safely."})]}),(0,a.jsx)("div",{className:"text-xs text-slate-300",children:"Arrow keys or WASD \xb7 P/Space pause \xb7 R restart"})]})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border border-slate-700/70 bg-black/50 shadow-2xl",children:[(0,a.jsx)("canvas",{ref:i,width:224,height:256,className:"block h-full w-full touch-none",role:"img","aria-label":"Frogger playfield"}),(0,a.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-2xl ring-1 ring-black/40"})]})}),(0,a.jsxs)("div",{className:"w-full space-y-3 text-sm",children:[(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3 rounded-2xl border border-slate-700/60 p-3 shadow-lg backdrop-blur sm:grid-cols-4",style:{background:eQ},children:tt.map(e=>{var t;return(0,a.jsxs)("div",{className:"rounded-lg border border-slate-600/40 bg-black/30 px-3 py-2 text-center shadow-sm",children:[(0,a.jsx)("p",{className:"text-[0.65rem] uppercase tracking-wide",style:{color:e0},children:e.label}),(0,a.jsx)("p",{className:"text-lg font-semibold",style:{color:e.color},children:e.value}),"Timer"===e.label&&(0,a.jsx)("div",{className:"mt-1 h-1.5 w-full rounded-full bg-slate-700/60","aria-hidden":"true",children:(0,a.jsx)("div",{className:"h-full rounded-full transition-all",style:{background:e$,width:"".concat(Math.max(5,Math.min(100,(null!=(t=e.progress)?t:0)*100)),"%")}})})]},e.label)})}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3 rounded-2xl border border-slate-700/60 p-3 shadow-lg backdrop-blur sm:grid-cols-4",style:{background:eQ},children:tr.map(e=>(0,a.jsxs)("div",{className:"rounded-lg border border-slate-600/40 bg-black/30 px-3 py-2 text-center shadow-sm",children:[(0,a.jsx)("p",{className:"text-[0.65rem] uppercase tracking-wide",style:{color:e0},children:e.label}),(0,a.jsx)("p",{className:"text-lg font-semibold",style:{color:e.color},children:e.value})]},e.label))})]}),(0,a.jsx)("div",{className:"w-full rounded-2xl border border-slate-700/60 px-4 py-3 text-center text-sm shadow-lg backdrop-blur",role:"status","aria-live":"polite",style:{background:eQ,color:eZ},children:e9}),(0,a.jsx)("div",{className:"grid w-full grid-cols-3 gap-2 sm:hidden",children:[null,{dx:0,dy:-1,label:"↑"},null,{dx:-1,dy:0,label:"←"},null,{dx:1,dy:0,label:"→"},null,{dx:0,dy:1,label:"↓"},null].map((e,t)=>e?(0,a.jsx)("button",{className:"flex h-14 w-14 items-center justify-center rounded-xl border border-slate-700/60 bg-slate-800/70 text-lg font-semibold shadow focus:outline-none focus:ring-2 focus:ring-slate-300 focus:ring-offset-2 focus:ring-offset-slate-900",style:{color:eZ},onTouchStart:()=>ez(e.dx,e.dy),onTouchEnd:eq,onMouseDown:()=>ez(e.dx,e.dy),onMouseUp:eq,onMouseLeave:eq,children:e.label},"".concat(e.label,"-").concat(t)):(0,a.jsx)("div",{className:"h-14 w-14"},"spacer-".concat(t)))})]})})})}},85687:(e,t,r)=>{r.d(t,{patterns:()=>s,supportsVibration:()=>a,vibrate:()=>l});let a=()=>"undefined"!=typeof navigator&&"function"==typeof navigator.vibrate,l=e=>{if("false"===window.localStorage.getItem("haptics"))return;let t=Array.isArray(e)?e.reduce((e,t)=>e+(t>0?t:0),0):e;try{a()&&navigator.vibrate(e);if("undefined"!=typeof navigator&&"getGamepads"in navigator&&Array.from(navigator.getGamepads?navigator.getGamepads():[]).some(e=>e&&e.vibrationActuator&&"function"==typeof e.vibrationActuator.playEffect))try{for(let e of navigator.getGamepads())e&&e.vibrationActuator&&e.vibrationActuator.playEffect("dual-rumble",{duration:t,strongMagnitude:1,weakMagnitude:1})}catch(e){}}catch(e){}},s={score:[20],danger:[40,80,40],gameOver:[100,30,100]}}}]);