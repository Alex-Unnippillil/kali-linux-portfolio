"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6071],{66071:(e,l,t)=>{t.r(l),t.d(l,{default:()=>i});var s=t(37876),r=t(14232);let a=e=>{let{data:l,onSelect:t}=e;return(0,s.jsx)("ul",{className:"pl-4",children:Object.entries(l).map(e=>{let[l,r]=e;return(0,s.jsx)(n,{name:l,node:r,onSelect:t},l)})})},n=e=>{let{name:l,node:t,onSelect:r}=e,n=Object.keys(t.children).length>0;return(0,s.jsx)("li",{className:"mb-1",children:n?(0,s.jsxs)("details",{children:[(0,s.jsx)("summary",{className:"cursor-pointer",children:l}),t.items.length>0&&(0,s.jsx)("button",{onClick:()=>r(t),className:"ml-2 text-xs text-blue-400 hover:underline",children:"View items"}),(0,s.jsx)(a,{data:t.children,onSelect:r})]}):(0,s.jsx)("button",{onClick:()=>r(t),className:"text-left hover:underline focus:outline-none",children:l})})},i=()=>{let[e,l]=(0,r.useState)([]),[t,n]=(0,r.useState)(null),i=(0,r.useRef)(null);(0,r.useEffect)(()=>{n(null)},[e]);let c=(e=>{let l={};return e.forEach(e=>{e.tags.forEach(t=>{let s=t.split("/").filter(Boolean),r=l;s.forEach((l,t)=>{r[l]=r[l]||{children:{},items:[]},t===s.length-1&&r[l].items.push(e),r=r[l].children})})}),l})(e),o=t?t.items:e;return(0,s.jsxs)("div",{className:"h-full w-full bg-gray-900 text-white p-4 flex",children:[(0,s.jsxs)("div",{className:"w-1/3 border-r border-gray-700 pr-2 overflow-auto",children:[(0,s.jsx)("button",{onClick:()=>n(null),className:"text-sm text-blue-400 hover:underline mb-2",children:"All Items"}),(0,s.jsx)(a,{data:c,onSelect:n})]}),(0,s.jsxs)("div",{className:"flex-1 pl-4 flex flex-col",children:[(0,s.jsxs)("div",{className:"mb-2 space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{let e=prompt("Note title");if(!e)return;let t=prompt("Note content")||"",s=(prompt("Tags (comma separated, use / for hierarchy)")||"").split(",").map(e=>e.trim()).filter(Boolean);l(l=>[...l,{id:Date.now(),type:"note",title:e,content:t,tags:s}])},className:"px-2 py-1 bg-blue-600 rounded",children:"Add Note"}),(0,s.jsx)("button",{onClick:()=>{var e;return null==(e=i.current)?void 0:e.click()},className:"px-2 py-1 bg-blue-600 rounded",children:"Add File"}),(0,s.jsx)("input",{ref:i,type:"file",className:"hidden",onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(!s)return;let r=(prompt("Tags (comma separated, use / for hierarchy)")||"").split(",").map(e=>e.trim()).filter(Boolean),a=URL.createObjectURL(s);l(e=>[...e,{id:Date.now(),type:"file",name:s.name,url:a,tags:r}]),e.target.value=""}})]}),(0,s.jsx)("ul",{className:"flex-1 overflow-auto space-y-2",children:o.map(e=>(0,s.jsxs)("li",{className:"p-2 bg-gray-800 rounded",children:["note"===e.type?(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold",children:e.title}),(0,s.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold",children:e.name}),(0,s.jsx)("a",{href:e.url,download:!0,className:"text-blue-400 underline text-sm",children:"Download"})]}),e.tags.length>0&&(0,s.jsxs)("p",{className:"text-xs mt-1 text-gray-400",children:["Tags: ",e.tags.join(", ")]})]},e.id))})]})]})}}}]);