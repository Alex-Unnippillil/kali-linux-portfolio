onmessage = () => {
  const steps = [
    'Initializing exploit...',
    'Checking target...',
    'Sending payload...',
    'Gaining access...',
    'Session established.'
  ];
  const loot = { host: '10.0.0.3', data: 'ssh-creds.txt' };
  let i = 0;
  const sendStep = () => {
    if (i < steps.length) {
      postMessage({ step: steps[i] });
      if (i === 2) {
        postMessage({ loot });
      }
      i += 1;
      setTimeout(sendStep, 1000);
    } else {
      postMessage({ done: true });
    }
  };
  sendStep();
};
